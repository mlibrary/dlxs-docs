<HTML>
<head>
<TITLE>Fabricated Regions in Findaid Class</TITLE>
<LINK HREF="../../dlxsdocs.css" REL="stylesheet" TYPE="text/css">
</head>
<BODY>
<table class="updateTable" CELLSPACING="3" CELLPADDING="3" BORDER="1">
   <TR>
      <td>Last updated</td>
      <td>2003-11-03 14:55:27 EST</td>
   </TR>
   <TR>
      <td>Doc Title</td>
      <td>Fabricated Regions in Findaid Class</td>
   </TR>
   <TR>
      <td>Author 1</td>
      <td>Pagliere, Alan</td>
   </TR>
   <TR>
      <td>Author 2</td>
      <td>Powell, Chris</td>
   </TR>
   <TR>
      <td>CVS Revision</td>
      <td>$Revision: 1.6 $</td>
   </TR>
</table>
<DIV CLASS="pageTitle">Fabricated regions in Findaid Class</DIV>
<P>When you use XPAT in combination with xmlrgn and a DTD, or multirgn and a
   tags file, you are identifying the elements and attributes in the DTD or tags
   file as "regions," containers of content rather like fields in a database.
   These separate regions are built into the regions file (collid.rgn) and are
   identified in the data dictionary (collid.dd). This is what is happening when
   you are running xmlrgn. </P>
<P>However, sometimes the things you want to identify collectively aren't so
   handily identified as elements in the DTD. For example, the Findaid Class
   search interface can allow the user to search in Names regions. Perhaps for
   your collection you want Names to include persname, corpname, geoname. By
   creating an XPAT query that ORs these regions, you can have XPAT index all
   the regions that satisfy the OR-ed query. For example: 
<PRE>(region "name" + region "persname" + region "corpname" + region "geoname" +
region "famname")</PRE>
</P>
<P>Once you have a query that produces the results you want, create a file for
   export, export it, and sync it:</P>
<PRE>{exportfile "$DLXSROOT/idx/c/collid/names.rgn"} export ~sync "names" </PRE>
<P>Why fabricate regions? Why not just put these queries in the map file and
   call them names? While you could, it's probably worth your time to build these
   succinctly-named and precompiled regions; query errors are more easily identified
   in the index building than in the CGI, and XPAT searches can be simpler and
   quicker for terms within the prebuilt regions. </P>
<P>Fabricated regions within the Findaid Class can be found in the extra.srch
   file for the sample collection at <TT>$DLXSROOT/prep/s/samplefa/samplefa.extra.srch</TT>.
   As with any other elements used in the interface for a given collection, fabricated
   regions used must also be represented in the collmgr entry and the map file
   for that collection. </P>
<H1>Fabricated regions required in Findaid Class</H1>
<UL>
   <LI>main</LI>
   <LI>maintitle</LI>
   <LI>mainauthor</LI>
   <LI>mainabstract</LI>
   <LI>colltitle</LI>
   <LI>colldate</LI>
   <LI>callnum</LI>
   <LI>contentslist</LI>
   <LI>contentslist-t</LI>
   <LI>admininfo</LI>
   <LI>admininfo</LI>
   <LI>admininfo-t</LI>
   <LI>frontmatter-t</LI>
   <LI>bioghist-t</LI>
   <LI>arrangement-t</LI>
   <LI>controlaccess-t</LI>
   <LI>controlaccess</LI>
   <LI>scopecontent-t</LI>
   <LI>summaryinfo-t</LI>
   <LI>summaryinfo</LI>
</UL>
<H1>Fabricated regions commonly found in Findaid Class</H1>
<UL>
   <LI>subjects</LI>
   <LI>names</LI>
</UL>
</BODY>
</HTML>