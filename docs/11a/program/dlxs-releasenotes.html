<html>
<head>
<title>DLXS Release Notes</title>







<link href="../dlxsdocs.css" rel="stylesheet" type="text/css"> </head>         <body>
<table class="updateTable" cellspacing="3" cellpadding="3" border="1">
<tr>
<td>Last updated</td>
<td>2003-02-25 13:08:55 EST</td>
</tr>
<tr>
<td>Doc Title</td>
<td>DLXS Release Notes</td>
</tr>
<tr>
<td>Author 1</td>
<td>Farber, Phillip</td>
</tr>
<tr>
<td>Author 2</td>
<td>Weise, John</td>
</tr>
<tr>
<td>CVS Revision</td>
<td>$Revision: 1.12 $</td>
</tr>
</table>

<div class="pageTitle"> DLXS Release Notes</div>
    
      <p>These notes summarize the DLXS releases chronologically, most recent
		  first. They are structured into  release numbers and within that level
		  into General Information and then Middleware and XPAT-specific sections.</p>
    
    
      <h1>DLXS Release 11a - 5 MAR 2004</h1>
      
        <h2>General Information</h2>
        <p>DLXS Release 11a is an interim release consisting of a few enhancements to Release 11. Refer to that section below for more detail.  Release 11a is a full release of all DLXS middleware.  There are no database schema changes. No database upgrades are required.  A Release 11 version 4 database is fully compatible with release 11a.  </p>
        <p>Unicode support available in XPAT since Release 11 has been extended to the middleware and is delivered with working sample data under TextClass.  FindaidClass shares the TextClass Unicode support changes. Refer to <a href="../class/unicode.html">DLXS Unicode Data Preparation and Online Presentation Issues</a>.   ImageClass and BibClass still require minor changes to be fully Unicode compliant. </p>
        <p>Release 11a is comprised of:</p>
        <ul>
          <li>BibClass version 3.1.2</li>
          <li>Broker20 version 1.1.0</li>
          <li>Collmgr version 3.1.1</li>
          <li>FindaidClass version 5.2.0</li>
          <li>ImageClass version 3.1.0</li>
          <li>Lib version 3.3.3</li>
          <li>TextClass version 3.3.0</li>
          <li>XClass version 2.1.1</li>
          <li>XPAT version 5.3.0</li>
          <li>dlxsd version 1.0.1 </li>
          <li>mrsid_retrieve version 1.3.1</li>
          <li>tif2web version 1.0.3</li>
          <li>kakadu version 4.0.2</li>
          <li>cjpeg version 6b</li>
        </ul>
      

      
        <h2>Known Problems</h2>
        
	  <h3>XPAT Known Problems</h3>
          <p>XPAT 5.3.0 is generally backward-compatible with indexes generated by 5.2.x subject to a few isolated
misses during searching.  Re-indexing with 5.3 xpatbld resolves this deficiency.</p>
        
        
	  <h3>Database Known Problems</h3>
          <p>The SQL::Statement version 1.005 perl module is not backward compatible with version 0.1021.  Version 0.1021 was typical with Perl version 5.6.1 whereas 1.005 is typical of Perl 5.8.0. We recommend you install perl 5.8.0 or higher and SQL::Statement 1.005 or higher.  </p>

        
	
	  <h3>Image Class Known Problems</h3>
	  <ul>
<li>
The HTTP header is not being created properly by the getimage-idx cgi in Image Class (DLXS 11, 11a). The error is actually in Sidget2.pm at line 176. Here is the correction.
<br />
<pre>
$buf = qq{Content-type: $contentType\n} . $contentDisposition . qq{Content-length: $size\n\n};
</pre>
</li>
      <li>
Two bugs related to sorting in Image Class (DLXS 11a) were recently resolved. Thanks to Driek Heesakkers, University of Amsterdam Digital Production Centre for his extra effort helping me reproduce the problems for debugging. 
<br /><br />
Two patches are provided here...
<br /><br />
In $DLXSROOT/cgi/i/image/ImageApp.pm the subroutine <strong>prepToSort</strong> needs a minor modification. 
<br /><br />
Move the closing curly bracket up a few lines so that it looks like this...

<hr/>
<pre>

    $sort = $xcollSortMaps[0];

    }
    #  sgml data might have abbrevs with dots.
    #  collmgr has abbrevs with underscores.
    #  look for both when parsing the data for a sort value.

    $sort =~ s,\_,\[\.\_\],;

    my $totalResults = &ImageClassUtils::totalResults($cgi, $bbo);

</pre>
<hr />

<p>Also in ImageApp.pm, replace the subroutine <strong>ProcessItems</strong> with the following...</p>
<hr />

<pre>

sub ProcessItems
{
    my $self = shift;
    my ( $cgi, $cio, $dso, $itemIDsRef, $bbo ) = @_;

    # Set $gSliceStart and $gSliceEnd
    # done globally for easy reuse
    $self-&gt;sliceBounds( $cgi );

    my @rset;
    my @sliceOccurArray;

    for (my $i = $ICGlobals::gSliceStart; $i &lt;= $ICGlobals::gSliceEnd; $i++)
    {
	my $idRef = $$itemIDsRef[$i];

	# last if slice is larger than results
	last if (! defined $idRef);

	my @oneID = ($$idRef);

	my ($coll) = ($$idRef =~ m/S-([^-]*)-/i);
	$coll = lc($coll);

	$self-&gt;ProcessItemsColl($cgi, $cio,
				$dso, $bbo, $coll,
				\@oneID, \@rset);

	push @sliceOccurArray, $self-&gt;makeSliceOccurArray(\@oneID);

    }
    return ( \@rset, \@sliceOccurArray );
}
</pre>
<hr />

</li>

	    <li>Image filenames can not begin with the letter "x" (upper or lowercase). It is not certain when this problem was introduced, but it is believed to exist in DLXS 10. It is known to exist in DLXS 11 and 11a.</li>
	    <li>Any field that, such as an ID field, that includes non-alphanumeric chars, such as "-", should be mapped to ic_exact in the in the admin_field_maps Colldb/Collmgr field if exact searching of the entire field value is desired. This is not so much a problem as it is a fact.</li>
	    <li>Display of JPEG2000 images as JPEG in the browser behaves oddly if  the image is zoomed several times near the edge of the  full image. The zoomed portion of the image is stretched to match  the aspect ratio of the full-size image.</li>
	    <li>"rgn" CGI parameters containing full field names generate an  error. The CGI now expects field abbreviations, not full field names.</li>
	  </ul>
	
      

      
        <h2>XPAT version 5.3.0</h2>
        
          <ul>
	    <li>No changes. Please see release notes for Release 11.</li>
          </ul>
        
      

      
        <h2>Lib version 3.3.3</h2>
        
          <h3>New and Changed Functionality</h3>
          <ul>
            <li>Middleware support for UTF-8 Unicode collections.  XPat.pm sets the Perl UTF-8 flag on strings from collections configured in Collmgr to have UTF-8 localed.  DlpsUtils::HighlightHit is completely new to supporting highlighting of multi-byte UTF-8 encoded results data.</li>
            <li>Visible in TextClass and FindaidClass: Implementation of frequency sorting, cross-collection results guide frame collection names are links to the collection's home page, sort select menu is based on the sort options of just
                those collections with results from a cross collection search.  </li>
            <li>DlpsUtils::HighlightHit has been rewritten to support highlighting multi-byte UTF-8 results.  It emulates the full mapping performed by XPAT during searching to match search terms exactly in the results.</li>
            <li>Email addresses configured in the Collmgr and displayed via PIs in the output are automatically obfuscated to make them harder for web crawlers to harvest in an effort to reduce spam.</li>
            <li>Support for "foreign" URLs (URLs that go offsite) in the Collmgr 'homesite' field. </li>
            <li>No longer delete the 'g' (group) URL parameter when building the link to the collection home so the 'g' parameter will be carried around on subsequent links maintaining the group look and feel (if any).</li>

          </ul>
        
      

      
        <h2>Text Class version 3.3.0</h2>
        
          <h3>New and Changed Functionality</h3>

          <ul>
            <li>Support for UTF-8 encoded Unicode collection data.  Utilizes xpatu as search engine for Unicode collections.  Reads the 'locale' field in Collmgr to determine encoding, either UTF-8 or ISO-8859-*.  Adds charset=UTF-8 META tag to existing html templates on output.  Refer to <a href="../class/unicode.html">DLXS Unicode Data Preparation and Online Presentation Issues</a>. A Unicode sample collection named "sampletc_utf8" accompanies this release.</li>
            <li>Template and CSS style sheet changes to provide page image borders in Pageviewer.</li>
            <li>The data prep utility program, dtdalyzer.pl, is now XML aware i.e. case-sensitive.</li>
            <li>Two new data prep utility programs are delivered: isocer2utf8 converts SGML ISO Character Entity References to UTF-8 encoded Unicode characters and ncr2utf8 converts Numeric Character References to UTF-8 encoded Unicode characters. </li>
            <li>Frequency sorting is now a supported sort option. </li>
            <li>Changes to footer.chnk supporting email address obfuscation.</li>
            
            <li>PageView changes to handle multiple records in Pageview table in dlxs database (contone and bitonal page images can now live side by side).</li>
<li>Cross-collection results guide frame collection names are links to the collection's home page, sort select menu is based on the sort options of just those collections with results from a cross collection search. </li>
            <li>A summary description of the search result is saved in the Search History instead of just
                a single number under "Total Results" in the search history page.</li>
            <li>Implemented enhanced handling for TEI Level 2 materials with &lt;DIV&gt; depths greater than 1.  This work is a generalization of a DLXS 10 contribution by Frances Webb at Cornell. </li>

          </ul>
        
      

      
        <h2>Bib Class version 3.1.2</h2>
        
          <h3>New and Changed Functionality</h3>
          <p>Release of Z39BC.pm implementing a subclass of BibClass that is able to query Z3950 search engines.  It uses Net::Z3950 (obtained from <a href="http://www.cpan.org/">CPAN</a>) to connect and create Z3950 queries which it then issues to a Z3950 search engine. </p>
          <p>Presently it is designed to expect UTF-8 responses from its Z3950 queries, so the Z39App.pm application subclass should be modified to insert charset=UTF-8 &lt;META&gt; tags when outputting template files to handle the UTF-8 responses.</p>
          <p>The collmgr 'host' field for Z39-based collections indicates the server where the Z3950 engine resides.</p>
          <p>It is important to note that presently the Z39 implementation will only create queries for following fields: title, author, pubyear, language, and id, and that it assumes that the Z3950 search engine has a database with the same name as the collid, which is indicated when connecting to the engine.   Here at UM, we are using Zebra as our Z3950 general-purpose structured text indexing and retrieval engine. </p>
        
      
      
        <h2>Image Class version 3.1.0</h2>
        
          <h3>New and Changed Functionality</h3>
	  <ul>
<li>In situations where the collection metadata is in MySQL and there are multiple "q" CGI parameters (e.g,. q1, q2, q3) it is now acceptable for any combination of the "q" parameters to have values or not. In the past if, for instance, q1 and q3 had values, but q2 did not, an assertion error would occur. Now it works fine. It also works with XPAT collections, but that is old news.</li>
<li>Custom (user driven) ordering of portfolio items was added. The related MySQL tables BookBagDB and BookBagItems did not change in structure (no new or changed fields).</li>
<li>The ability for any user (logged-in or not)  to create a portfolio was added. If login is enabled in Image Class and the user logs in, the user's portfolios are stored long term.</li>
<li>Portfolio code is more clearly separated in the middleware. Dependency on BookBag library methods increased (this is good).</li>
<li>A new script called manageportfolios.pl is provided ($DLXSROOT/bin). It deletes temporary portfolios older than 2 days with the assumption the user's session has expired. It is only needed if Portfolios are enabled. Works well as a cron job.</li> 
<li>Template chunking was added. Results templates now use header chunks, which are found in $DLXSROOT/web/i/image with the templates. The javascript that sniffs the browser and platform is now in a chunk and all templates use it. Templates that don't use chunks should still work just fine.</li>
<li>Collection and group webdir values in Collmgr/Colldb must have a leading slash. In the past Image Class would work with our without the leading slash. This is no longer the case.</li>
<li>Colldb/Collmgr field "dfltsrch" fields is now required to have specific values. "default" does not work. and collid_all should be included if brwsimg and brwsrec are to work.
</li>
<li>The PATH processing instruction is no longer supported in Image Class templates. Use FBFILE processing instruction instead. There is no backward compatibility for this in DLXS 11a (there was in DLXS 11), so all existing templates must make this change.</li>
<li>"Revert Size" functionality was added to the middleware, however the PIs are commented-out in the class level entry.tpl and bbentry.tpl templates. See also comments in entry.tpl</li>
<li>Email obfuscation was added to the CONTACT processing instructions. Javascript is used to disguise email addresses from crawlers. It is recommended that the contacttext Colldb/Collmgr field value not be an email address since only the contact link is disguised.</li>
<li>Significant Portfolio template, chunk, and stylesheet changes were made in the process of adding portfolio support for users not logged in. Some template cleanup was done as well.</li>
<li>Added logout link to complement login.</li>
<li>Made changes to bring prep under DLXSDATAROOT for data prep scripts.</li>
<li>Fixed a bug in middleware that caused the MO attribute
                of ISTRUCT to be omitted when the collection has
                no media. </li>
<li>Significant changes were made to the
                collhomeLink subroutine that is used by the COLLHOME
                PI. It is now able to return a collection home, group
                home, or class home link depending on the situation.
                This alllows it to be utilized from a wider array
                of templates. The COLLHOME PI was renamed HOME. COLLHOME
                will also continue to work through DLXS 12, after
                which it is flagged for removal.</li>
<li>Changes were made to make use of the
                new hiliting routines in lib.</li>
<li> Portfolios were not sorting properly
                with mysql collections. Fixed.</li>
<li> A single collection can now be searched
                by cross collection fields, if so desired.</li>
<li>Changes were needed in the mysqlImageApp::BuildCategorySearch
                method to properly handle all xcoll and coll specific
                situations. Also added a method to mysqlImageApp.pm
                that converts cgi parameters in to a natural language
                query string for display to the user when no results
                are achieved. This has been sorely missing from the
                mysql version of Image Class.</li>
<li>Corrected problem where Next/Previous links were not always working properly. This was MySQL specific.</li>
<li>The known problem of DLXS 11 regarding the "MEDIAEQUIVS" PI has been resolved.</li> 
</ul>

        
      

      
        <h2>Broker20 version 1.1.0</h2>
        
          <h3>New and Changed Functionality</h3>
          <ul>
            <li>No change from Release 11. See below.</li></ul>
        
      

      
        <h2>Collmgr version 3.1.0</h2>
        
          <h3>New and Changed Functionality</h3>
          <ul><li>No change from Release 11. See below.</li>
          </ul>
        
      

      
        <h2>FindaidClass version 5.2.0</h2>
        
          <h3>New and Changed Functionality</h3>
          <ul>
            <li>Unicode enabled due to code in Lib shared by TextClass.</li>
            <li>Addition of Previous and Next Item links.</li>
            <li>Email PIs now obfuscate the email addresses from the colldb, to aid in 
preventing spam.</li>
            <li>Changes to URL parameters (view, subview, etc.) to more closely parallel TextClass usage.</li>
            <li>Code moved up to DLXSApp::FullTextApp and DLXSClass::FullTextClass so it could be shared by TextClass and FindaidClass.</li>
            <li>Addition of "Search Within" one Finding Aid functionality. </li>
            <li>Addition of Next/Previous links in results. </li>
          </ul>
        
      

      
        <h2>XClass version 2.1.1</h2>
        
          <h3>New and Changed Functionality</h3>
          <ul><li>No change from DLXS release 11. See below.</li></ul>
        
      

    

    <!-- End Release 11a -->

    
      <h1>DLXS Release 11 - 5 DEC 2003</h1>
      
        <h2>General Information</h2>
        <p>DLXS Release 11 is comprised of:</p>
        <ul>
          <li>BibClass version 3.1.0</li>
          <li>Broker20 version 1.1.0</li>
          <li>Collmgr version 3.1.0</li>
          <li>FindaidClass version 5.0.0</li>
          <li>ImageClass version 3.0.0</li>
          <li>Lib version 3.2.0</li>
          <li>TextClass version 3.2.0</li>
          <li>XClass version 2.1.0</li>
          <li>XPAT version 5.3.0</li>
          <li>XslFallback version 1.0.0</li>
          <li>IdResolver version 1.0.0</li>
          <li>dlxsd version 1.0.1 </li>
          <li>mrsid_retrieve version 1.3.1</li>
          <li>tif2web version 1.0.3</li>
          <li>kakadu version 4.0.2</li>
          <li>cjpeg version 6b</li>
        </ul>
      

      
        <h2>Known Problems</h2>
        
          <p>XPAT 5.3.0 is generally backward-compatible with indexes generated by 5.2.x subject to a few isolated
misses during searching.  Re-indexing with 5.3 xpatbld resolves this deficiency.</p>
        
        
          <p>The SQL::Statement version 1.005 perl module is not backward compatible with version 0.1021.  Version 0.1021 was typical with Perl version 5.6.1 whereas 1.005 is typical of Perl 5.8.0. We recommend you install perl 5.8.0 and SQL::Statement 1.005 or higher.  The workaround mentioned below may not be required when SQL::Statement 1.006 becomes available.  Because of this the following constraints and workarounds apply.  </p>
          <ul>
            <li>collmgr
              <ul>
                <li>Functions normally with either 0.1021 or 1.005</li>
              </ul></li>
          </ul>
          <ul>
            <li>dbmove
              <ul>
                <li>Functions normally moving CSV to MySQL under either 1.005 or 0.1021</li>
                <li>Incorrectly uppercases column names when moving MySQL to CSV under 1.005.  The workaround is to lower case the resulting column names using an ascii editor.</li>
                <li>Fails completely under 0.1021 moving CSV to MySQL or vice versa..</li>
              </ul></li>
          </ul>
          <ul>
            <li>upgrade_1_2, upgrade_2_3, upgrade_3_4
              <ul>
                <li>Functions normally upgrading a MySQL database under either 1.005 or 0.1021</li>
                <li>Incorrectly uppercases column names when upgrading CSV under 1.005.  The workaround is to lower case the resulting column names using an ascii editor.</li>
              </ul></li>
          </ul>
        
	
	  <h3>Image Class Known Problems</h3>
	  <ul>
<li>
The HTTP header is not being created properly by the getimage-idx cgi in Image Class (DLXS 11, 11a). The error is actually in Sidget2.pm at line 176. Here is the correction.
<br />
<pre>
$buf = qq{Content-type: $contentType\n} . $contentDisposition . qq{Content-length: $size\n\n};
</pre>
</li>

	    <li>Image filenames can not begin with the letter "x" (upper or lowercase). It is not certain when this problem was introduced, but it is believed to exist in DLXS 10. It is known to exist in DLXS 11 and 11a.</li>
	    <li>A media_table is needed more often than not. Documentation suggests otherwise.</li>
	    <li>Image Class data prep scripts assume prep directory is under $DLXSROOT, when $DLXSDATAROOT would be more appropriate. This is not likely to affect too many installations.</li>
	    <li>A "q" CGI parameter without a value generates an error if it
	      is sequenced between two other "q" parameters that do have values. e.g.,
	      q1=house q2= q3=country. This can happen when there are 3 or more text
	      fields in a search form and the user enters text in only the first and
	      last.</li>
	    <li>Display of JPEG2000 images as JPEG in the browser behaves oddly if
	      the image is zoomed several times near the edge of the
	      full image. The zoomed portion of the image is stretched to match
	      the aspect ratio of the full-size image. </li>
	    <li>"rgn" CGI parameters containing full field names generate an
	      error. The CGI now expects field abbreviations, not full field
	      names.</li>
	    <li>The "MEDIAEQUIVS" PI in entry.tpl and bbentry.tpl appears (as the
	      string "MEDIAEQUIVS") in Netscape Navigator 4.x when it really should
	      be hidden if not utilized.</li>
	  </ul>
	
      

      
        <h2>XPAT version 5.3.0</h2>
        
          <ul>
            <li>5.3.0 is a major new release of XPAT.  Two new binaries, <b>xpatbldu</b> and <b>xpatu</b> enable indexing and searching of UTF-8 encoded Unicode XML data.  Full Unicode support in the middleware will become available in a following release.   In addition, "Lite" <i>non-Unicode</i> versions of these tools together with sgmlrgn and multirgn are now freely available without license fees and may be downloaded from http://www.dlxs.org.</li>
            <li>5.3.0 is generally backward-compatible with indexes generated by 5.2.x subject to a few isolated
misses during searching.  5.3 can read 5.2 indexes albeit with a warning that it is not possible for 5.3 to determine whether the Data Dictionary has changed since the 5.2 index was built because the integrity checksum for 5.3 indexes is different than for 5.2.   </li>
            <li>XPAT 5.2.x cannot read indexes generated by 5.3.  That is, 5.3 is not forward-compatible.</li>
            <li>Because XPAT 5.2.x cannot read indexes generated by 5.3 and because DLXS sites may continue to use 5.2 for a period of time we've chosen to deliver 5.2 versions of the sample data indexes.  </li>
            <li>With respect to Unicode support for element names and attribute names and values, xmlrgn is limited to Unicode code points in the range from 0 to 127 decimal, i.e. to USASCII values.   multirgn should be used to create region indexes for XML where element names and/or attributes and attribute values are outside this range.
   </li>
          </ul>
        
      

      
        <h2>Lib version 3.2.0</h2>
        
          <h3>New and Changed Functionality</h3>
          <ul>
            <li>Support for CGM (Cornel--Goettingen-Michigan protocol</li>
            <li>New parent class DLXSClass with children BibClass, FullTextClass</li>
            <li>Support for newly released ID Resolver.</li>
            <li>New parent class PIFiller supporting subclasses PerlPIFiller and XsltPIFiller for Perl and XSLT filtering. </li>
          </ul>
          
            <h4>lib</h4>
            <ul>
              <li>New module CGMResult.pm to handle CGM result set</li>
              <li>Member data keys changed to lower case</li>
              <li>CollsInfo.pm: Addition of access methods for "globalnamespace"
                so that code could be shared. Also changed passing
                of object creation parameters as a hash rather than
                as an array.</li>
              <li>DbUtils.pm:  routines were added to
                to provide new basic functionality for storing and
                retrieving rows.</li>
              <li>LibGlobals.cfg: Updated configuration of idresolver. The $gIdResolver variable is
                now initially set to the value of the virtual host
                for the idresolver rather than the URL for the idresolver. </li>
              <li>New module PIFiller.pm with subclasses PerlPIFiller.pm and XsltPIFiller.pm generalizing the filtering of XML for output.</li>
              <li>QueryFactory.pm: Changed 'and' to 'or in NaturalLanguageBaseQuery
                in the case where the search type is 'simple' and
                there are multiple q1's since the query is logically
                q1 + q1 + ... + q1 i.e. a disjunction not a conjunction. Change an '&amp;' character into '&amp;amp;' which is the form it must have in XML so user can
                search for e.g. "Memphis Light, Gas &amp; Water" but protect
                actual entered character entity references like '&amp;eacute;'.</li>
            </ul>
          

          
            <h4>bin/db</h4>

            <ul>
              <li>upgrade_3_4 utility provided to upgrade to version 4 of database.</li>
            </ul>
            <p>Obsolete fields in this release are as follows (TableName:fieldname):</p>
            <ul>
              <li>BibClass:dddir</li>
              <li>ImageClass:dddir</li>
              <li>TextClass:tcumodule</li>
              <li>TextClass:standalonename</li>
              <li>ImageClass:banner</li>
              <li>TextClass:lel</li>
              <li>GroupData:groupstandalonename</li>
              <li>TextClass:maxdepthitems</li>
              <li>TextClass:standalonename</li>
              <li>ImageClass:banner</li>
            </ul>
          
        
      

      
        <h2>Text Class version 3.2.0</h2>
        
          <h3>New and Changed Functionality</h3>

          <ul>
            <li>Support for remote collection searching via new CGM protocol.</li>
            <li>Partial implementation of XSLT filtering; more work to follow.</li>
            <li>Minor template changes</li>
            <li>Significant architectural change introducing TextClass as a subclass of DLXSClass::FullTextClass</li>
            <li>Print-on-demand functionality added.</li>
            <li>TextClassUtils obsolete, replaced by PIFiller object hierarchy.</li>
          </ul>

          
            <h4>web/t/text</h4>
            <ul>
              <li>&lt;?CSS_PATH filename="filename.css"&gt;
                PIs added and deprecated DOC_ROOT PIs removed</li>
              <li>Made changes to footer text for relevant
                template pages be extracting footer content out into
                two chunk files, footer.chnk and footernolist.chnk,
                which appear at the bottom of list type and no list
                type pages.</li>
            </ul>
          

          
            <h4>bin/t/text, bin/WW</h4>
            <ul>
              <li>importpageviewdata.pl: enhancements: * after processing a
                page metadata file, remember the maximum page sequence
                number encountered and purge any page metadata in
                the database for page sequences greater than that
                (potentially) new maximum </li>
              <li>WW/makeWordWheelFiles.pl: Fix counts so they agree with what
                you can search for in TextClass.</li>
            </ul>
          

          
            <h4>cgi/t/text</h4>

            <ul>
              <li>New modules TextAppXsltPIFiller.pm TextAppPerlPIFiller.pm</li>
              <li>New modules: TextClass subclasses CgmTC and CgmPartialTC supporting CGM protocol </li>
            </ul>
          
        
      

      
        <h2>Bib Class version 3.1.0</h2>
        
          <h3>New and Changed Functionality</h3>
          <ul>
            <li>Full support for XSL stylesheets</li>
          </ul>
          
            <h4>web/b/bib</h4>
            <ul>
              <li>Parallel set of templates with suffix '.xml' supporting XSL filtering.</li>
            </ul>
          

          
            <h4>cgi/b/bib</h4>
            <ul>
              <li>New modules BibAppPerlFilters.pm BibAppXmlFilters.pm supporting XSL stylesheets while maintaining support for Perl filtering.</li>
            </ul>
          
        
      



      
        <h2>Image Class version 3.0.0</h2>
        
          <h3>New and Changed Functionality</h3>
	  <ul><li>MySQL is supported in addition to XPAT for searching collection metadata. XPAT will likely not be supported in future releases of Image Class.</li>
	    <li>JPEG2000 is supported in addition to MrSID. Behavior is identical. JPEG2000 command line compression/decompression utilities are provided.</li>
	    <li>Configuration of field abbreviations and labels, as well as the mapping of fields for cross-collection searching, is now done in Collmgr.
	      Collectionmaps.pm and makeCollectionmaps-idx are no lnger used.</li>
	    <li>The form of field abbreviations has changed. "dots" are no longer allowed. SGML may continue to have dots, no need to redo data.
	      As field abbreviations are migrated to Collmgr they must have "dots" converted to underscores.</li>
	    <li>The Collmgr field "dfltsrchflds" now must include an abbreviation in the form "collid_all" to enable searching of the entire record.
	      This field should be mapped to ic_all in the field_xcoll_maps Collmgr field for full record searching in across collections.</li>
	    <li>MySQL table structure for Portfolios has changed for increased data stability.</li>
	    <li>Media support has been improved. Practically any form of media (QuickTime, Flash, MP3) can be included in Image Class. Level of support varies. Configuration of imageprep has changed significantly.</li>
	  </ul>
          
            <h4>web/i/image</h4>

	    <ul><li>bbentry.tpl
		<ul><li>changed dlxs.ma to dlxs_ma</li>
		  <li>A PI was added to entry.tpl and bbentry.tpl
		    called "MEDIAEQUIVSTOOL" which displays links for
		    viewing item in different media formats. Anticipated
		    use is for video in more than one format.</li></ul>
	      </li>
	    </ul>

	    <ul><li>bbthumbfull.tpl
		<ul><li>bbthumbfull.tpl: significant changes
		    were made in order to support scrollable iframes on
		    the portfolio thumbfull pages. the same changes could
		    be applied to the thumbfull.tpl template.</li>

		</ul>
	      </li>
	    </ul>

	    <ul><li>search.tpl
		<ul><li>Replaced missing javascript loading
		    element that caused the search tips not to open when
		    requested.</li>
		  <li>small style change</li>
		  <li>style tweak</li>
		  <li>Changed search.tpl and searchgroup.tpl
		    to use "TIPSURL" PI.</li></ul>
	      </li>
	    </ul>

	    <ul><li>searchgroup.tpl
		<ul><li>announcement tweaks</li>
		  <li>Changed search.tpl and searchgroup.tpl
		    to use "TIPSURL" PI.</li></ul>
	      </li>
	    </ul>

	    <ul><li>css/imageclass-ie-mac.css
		<ul><li>A few styles definitions were added
		    related to display of the bbthumbfull page.</li>
		  <li>Added style used to display a message
		    when there are no related views for an item and a
		    mysql media table is not being used with the colllection.</li>
		  <li>added toolsbg style def</li></ul>
	      </li>
	    </ul>

	    <ul><li>graphics/recinit.jpg
		<ul><li>this new graphic is used as part of
		    the "help" display in the bbthumbfull display.</li>
		</ul>
	      </li>
	    </ul>

	    <ul><li>js/imageclass.js
		<ul><li>changes to support move away from Collectionmaps.pm
		    to collmgr management of field mappings, labels, etc.</li>
		  <li>imageclass.js: significant changes
		    were made in order to support scrollable iframes on
		    the portfolio thumbfull pages.</li></ul>
	      </li>

	    </ul>



          

          
            <h4>cgi/i/image</h4>

	    <ul><li>ICLocalUtils.pm
		<ul><li>Changes were made to improve support
		    for media formats other than images. Also, minor changes
		    were made to enable the reduction of customized templates.
		    In other words, some basic generalizations were made
		    so that class or group level templates can do the
		    job.</li>
		  <li>Dropped reference to Collectionmaps.pm,
		    which isn't used anymore.</li>
		</ul></li>
	    </ul>
	    <ul><li>ImageApp.pm
		<ul><li>Fix server error: changed __AdjustOccurrenceCounts()
		    to AdjustOccurrenceCounts() for ARO changes to xclass.</li>
		  <li>Made a change to ImageApp so that portfolios
		    can find items that have old ID delims. Made a change
		    to Image Class Utils to support new and old delims
		    in nextpreventry.</li>
		  <li>Small changes to make portfolios work
		    properly with new as well as old isentryid delimiters.</li>
		  <li>Fixed a bug that had disabled adding
		    to or deleting from Bookbag/Portfolio. Also made retrieval
		    of existing BookBag items more robust in the sense
		    that it now is better about retrieving and deleting
		    items with ids that are in older forms.</li>
		  <li>Parameters passed to object creation
		    now a hash instead of an array.</li>
		  <li>Major changes were made in order to
		    add support for mySQL to image class. ImageApp methods
		    were shifted and/or partitioned in order to simplify
		    subclassing for mySQL. With this commit, both xpat
		    and mysql should be largely functional. XClass searching
		    needs to be tested. The changes for mySQL provided
		    an opportune time to stop the use of full region names
		    in rgn parameters and to stop using Collectionmaps.pm.
		    These changes are complete with the exception if needing
		    some validity checking of rgn parameters.</li>
		  <li>Changed all member data keys to lowercase
		    (ciowrapper, session, cgi, etc.)</li>
		  <li>made to be compatable with lib changes.
		    also fixed bug in portfolios where missing items were
		    not being displayed as "missing" they were simply
		    not being displayed. other changes included a fix
		    for the problem where xcoll field data would not display
		    (e.g., dlxs_ma) and other little things.</li>
		  <li>Changes were made to ImageApp.pm, ImageClassUtils.pm,
		    and imageclass.cfg to abandon the use of "storable"
		    freeze and thaw for the long-term storage of BookBag
		    items. The new mechanism stores BookBag items in a
		    seperate table, one per row. The freeze/thaw approach
		    was occassionally storing BookBags that could not
		    be thawed. The root of the problem was never discovered.
		    To faciliate this change and to migrate data from
		    the frozen storage to the new table, a script called
		    convertBookBag.pl has been created and can be found
		    in bin/i/image. It is important to read the comments
		    in the head of the convertBookBag.pl file to understand
		    the steps required to make this transition smoothely.</li>
		  <li>Natural language query string now displays
		    properly on "no results" page. It was failing perhaps
		    due to a race condition related to the cgi redirect
		    that followed and storage of the natlangquery on the
		    session. Also fixed a bug with portfolios. When last
		    item of portfolio was deleted, an internal server
		    error occurred due to an attempt to insert non-existant
		    data rows into the BookBagItems table at the time
		    of storage.</li>
		  <li>Changes were made to improve support
		    for media formats other than images. Also, minor changes
		    were made to enable the reduction of customized templates.
		    In other words, some basic generalizations were made
		    so that class or group level templates can do the
		    job.</li>
		  <li>Greater support for media formats was
		    added, which for ImageApp mostly meant the additon
		    of a pi handler for the mediaequivstool.</li>
		  <li>A request for a bookmarked portfolio
		    would not redirect to the login page if the user was
		    not logged in. Now it does.</li>
		  <li>A request for a bookmarked portfolio
		    would not redirect to the login page if the user was
		    not logged in. Now it really does.</li>
		  <li>Cleaned up code and added comments
		    related to BookBag / Portfolio changes.</li>
		  <li>ImageApp.pm::forceAuth now checks,
		    when opening portfolio, to see if the user is authed,
		    and if not, redirects to auth. this is most likely
		    to occur when a portfolio page has been bookmarked.
		    previously the behavior was to display the items the
		    user is authorized to use, but this could be confusing.</li>
		  <li>ImageApp.pm: support for TOTALRESULTS
		    PI was added to results handler. It simply inserts
		    the number of total results. The intended use is in
		    bbthumbfull.tpl (portfolios) to create a referenceable
		    javascript variable that knows the total number of
		    results. This addition allowed the PI THUMBFULLJSARRAYS
		    to be deprecated. Minor mods were also made to maintain
		    the results view when opening a new portfolio, etc.
		    ImageClassUtils.pm: Primarily, changes were made to
		    support new functionality in portfolio's "thumb with
		    full record" view. iFrames are now used to allow scrolling
		    of thumbs while keeping the full record in it's place.
		    This functionaly can also be used in the regular (non-porfolios)
		    "thumb with full record" view, though it has not yet
		    been applied. Care was taken to maintain backward
		    compatibility with existing templates. As of this
		    commit, however, it is most likely that NS Nav 4.x
		    has some disfunctioning portfolio functions. Namely,
		    check/uncheck all items. imageclass.cfg: Minor changes
		    were made to "help" text for thumbfull views. Also
		    minor changes to the global var gWindowProps, which
		    specifies how certain pop-up windows are to be created.</li>
		  <li>Minor changes to further advance support
		    for mysql. Added data_table field to collmgr. Changed
		    code to use data_table field. Changed nature of media_table
		    field. Instead of "yes"/"no" values, it now holds
		    the name of the media_table. Code was updated to use
		    media_table in this new way.</li>
		  <li>Added support for 'SID' PI to all page
		    handlers. Dropped a related but unused subroutine
		    sidParam from ImageClassUtils.</li>
		  <li>Fixed a bug that caused portfolios
		    to fail to display items in all cases. Stemmed from
		    Lib change that added cio to the list of parameters
		    passed to BookBagItem for initialization. Also added
		    use of new mediahost colldb field, which allows the
		    server that delivers images to be specified per collection.
		    The default is still specified in imageclass.cfg.</li>
		  <li>Corrected a bug in the way links from
		    coll pages to group pages were built. Relates to GROUPSLINK
		    pi.</li>
		  <li>JPEG2000 support was added to the middleware.
		    Also made a small change to mysqlImageApp.pm so that
		    it gets the data table name from Collmgr rather than
		    basing it on the collid.</li>
		  <li>Corrected a bug in sorting when only
		    1 coll of group searched.</li></ul>
	      </li>
	    </ul>
	    <ul><li>ImageClassUtils.pm
		<ul><li>A minor modification was made to display
		    a list of all colls on the group selection page in
		    the situation where there are no groups defined in
		    collmgr.</li>
		  <li>A minor modification was made to display
		    a list of all colls on the group selection page in
		    the situation where there are no groups defined in
		    collmgr.</li>
		  <li>Some adjustments were needed in Image
		    Class utils in order to properly handle leading slashes
		    on webdir paths.</li>
		  <li>Changed filtering of isentryid to support
		    "]" as a delimiter within the ID in additon to "-"
		    which has been used traditionally but has been problematic.</li>
		  <li>added filtering for javascript window
		    naming to take "]" out of idnos.</li>
		  <li>changed related views display code
		    to make it properly select a viewid (given recent
		    changes to isentryid) for entry link building.</li>
		  <li>Made a change to ImageApp so that portfolios
		    can find items that have old ID delims. Made a change
		    to Image Class Utils to support new and old delims
		    in nextpreventry.</li>
		  <li>A small fix to ImageClassUtils.pm ThumbRecordFilt
		    which was not reading collmgr field properly when
		    "bb"/bookbag/portfolio view.</li>
		  <li>Fixed a bug that had disabled adding
		    to or deleting from Bookbag/Portfolio. Also made retrieval
		    of existing BookBag items more robust in the sense
		    that it now is better about retrieving and deleting
		    items with ids that are in older forms.</li>
		  <li>Major changes were made in order to
		    add support for mySQL to image class. ImageApp methods
		    were shifted and/or partitioned in order to simplify
		    subclassing for mySQL. With this commit, both xpat
		    and mysql should be largely functional. XClass searching
		    needs to be tested. The changes for mySQL provided
		    an opportune time to stop the use of full region names
		    in rgn parameters and to stop using Collectionmaps.pm.
		    These changes are complete with the exception if needing
		    some validity checking of rgn parameters.</li>
		  <li>made to be compatable with lib changes.
		    also fixed bug in portfolios where missing items were
		    not being displayed as "missing" they were simply
		    not being displayed. other changes included a fix
		    for the problem where xcoll field data would not display
		    (e.g., dlxs_ma) and other little things.</li>
		  <li>minor fixes. recordFilter section labels
		    are no longer lowercased.</li>
		  <li>made a small fix to record filt to
		    stop "empty" fields from displaying</li>
		  <li>Image Class middleware was altered
		    to allow the maximum viewable image size to be restricted
		    based on the value of the imgsizemax collmgr field.</li>
		  <li>Changes were made to ImageApp.pm, ImageClassUtils.pm,
		    and imageclass.cfg to abandon the use of "storable"
		    freeze and thaw for the long-term storage of BookBag
		    items. The new mechanism stores BookBag items in a
		    seperate table, one per row. The freeze/thaw approach
		    was occassionally storing BookBags that could not
		    be thawed. The root of the problem was never discovered.
		    To faciliate this change and to migrate data from
		    the frozen storage to the new table, a script called
		    convertBookBag.pl has been created and can be found
		    in bin/i/image. It is important to read the comments
		    in the head of the convertBookBag.pl file to understand
		    the steps required to make this transition smoothely.</li>
		  <li>Natural language query string now displays
		    properly on "no results" page. It was failing perhaps
		    due to a race condition related to the cgi redirect
		    that followed and storage of the natlangquery on the
		    session. Also fixed a bug with portfolios. When last
		    item of portfolio was deleted, an internal server
		    error occurred due to an attempt to insert non-existant
		    data rows into the BookBagItems table at the time
		    of storage.</li>
		  <li>Changes were made to improve support
		    for media formats other than images. Also, minor changes
		    were made to enable the reduction of customized templates.
		    In other words, some basic generalizations were made
		    so that class or group level templates can do the
		    job.</li>
		  <li>A minor change was made to the method
		    that concatenates meta field values so that it skips
		    empty fields.</li>
		  <li>Fixed a bug where keylinks in thumbfull
		    results view were being built without a "c" parameter.</li>
		  <li>added basic support for turning urls
		    into links in fields.</li>
		  <li>Greater support for media formats was
		    added, which for ImageClassUtils.pm included a great
		    number of changes to the following subroutines...
		    imageDecision, parseImgInf, parseImgInfVariations,
		    and a few others to a lesser degree. Also, use of
		    the subroutine _ParamsToURL was dropped in favor of
		    the existing CGI method self_url.</li>
		  <li>_ParamsToURL subroutine deleted.</li>
		  <li>minor "view for type" changes</li>
		  <li>Fixed bug in ImageClassUtils::convertInfFileData.
		    Extensions were not being parsed from filenames properly.</li>
		  <li>ImageApp.pm: support for TOTALRESULTS
		    PI was added to results handler. It simply inserts
		    the number of total results. The intended use is in
		    bbthumbfull.tpl (portfolios) to create a referenceable
		    javascript variable that knows the total number of
		    results. This addition allowed the PI THUMBFULLJSARRAYS
		    to be deprecated. Minor mods were also made to maintain
		    the results view when opening a new portfolio, etc.
		    ImageClassUtils.pm: Primarily, changes were made to
		    support new functionality in portfolio's "thumb with
		    full record" view. iFrames are now used to allow scrolling
		    of thumbs while keeping the full record in it's place.
		    This functionaly can also be used in the regular (non-porfolios)
		    "thumb with full record" view, though it has not yet
		    been applied. Care was taken to maintain backward
		    compatibility with existing templates. As of this
		    commit, however, it is most likely that NS Nav 4.x
		    has some disfunctioning portfolio functions. Namely,
		    check/uncheck all items. imageclass.cfg: Minor changes
		    were made to "help" text for thumbfull views. Also
		    minor changes to the global var gWindowProps, which
		    specifies how certain pop-up windows are to be created.</li>
		  <li>Minor changes to further advance support
		    for mysql. Added data_table field to collmgr. Changed
		    code to use data_table field. Changed nature of media_table
		    field. Instead of "yes"/"no" values, it now holds
		    the name of the media_table. Code was updated to use
		    media_table in this new way.</li>
		  <li>Changes were made related to the use
		    of mysql as a search engine for image class. A bug
		    in the area of related views was fixed. Query building
		    was improved (the query itself is more efficient when
		    run).</li>
		  <li>Add to Bookbag from entry view was
		    generating an assertion error for mysql collections.
		    Fixed two small things and it is fine.</li>
		  <li>getimage-idx was altered in order to
		    add mySQL support for metadata. Now it would work
		    with xpat, or mysql, and with our without a mysql
		    media_table. Part of this change included shifting
		    the mysqlSearchEngineInit subroutine from mysqlImageApp.pm
		    to ImageClassUtils.pm so that it can be also be used
		    by getimage-idx.</li>
		  <li>Added support for 'SID' PI to all page
		    handlers. Dropped a related but unused subroutine
		    sidParam from ImageClassUtils.</li>
		  <li>Adjustment for dropping of dddir collmgr
		    field.</li>
		  <li>Fixed a bug that caused portfolios
		    to fail to display items in all cases. Stemmed from
		    Lib change that added cio to the list of parameters
		    passed to BookBagItem for initialization. Also added
		    use of new mediahost colldb field, which allows the
		    server that delivers images to be specified per collection.
		    The default is still specified in imageclass.cfg.</li>
		  <li>Corrected a bug in the way links from
		    coll pages to group pages were built. Relates to GROUPSLINK
		    pi.</li>
		  <li>Modified the checking of old params
		    to flag occurrences of catX parameters and give the
		    user a link to the collection page.</li>
		  <li>Portfolio pick list is now sorted by
		    userid and then portfolio name. This came at the request
		    of a faculty member.</li>
		  <li>JPEG2000 support was added to the middleware.
		    Also made a small change to mysqlImageApp.pm so that
		    it gets the data table name from Collmgr rather than
		    basing it on the collid.</li>
		  <li>Added cgi validity check to add a viewid
		    of "1" if none provided.</li>
		  <li>Minor change to ImageClassUtils::browseAll
		    so that it now uses collmgr to determine the view
		    for browsing images.</li></ul>
	      </li>
	    </ul>
	    <ul><li>Searchbuild.pm
		<ul><li>Major changes were made in order to
		    add support for mySQL to image class. ImageApp methods
		    were shifted and/or partitioned in order to simplify
		    subclassing for mySQL. With this commit, both xpat
		    and mysql should be largely functional. XClass searching
		    needs to be tested. The changes for mySQL provided
		    an opportune time to stop the use of full region names
		    in rgn parameters and to stop using Collectionmaps.pm.
		    These changes are complete with the exception if needing
		    some validity checking of rgn parameters.</li>
		  <li>made to be compatable with lib changes.
		    also fixed bug in portfolios where missing items were
		    not being displayed as "missing" they were simply
		    not being displayed. other changes included a fix
		    for the problem where xcoll field data would not display
		    (e.g., dlxs_ma) and other little things.</li>
		  <li>Natural language query string now displays
		    properly on "no results" page. It was failing perhaps
		    due to a race condition related to the cgi redirect
		    that followed and storage of the natlangquery on the
		    session. Also fixed a bug with portfolios. When last
		    item of portfolio was deleted, an internal server
		    error occurred due to an attempt to insert non-existant
		    data rows into the BookBagItems table at the time
		    of storage.</li></ul>
	      </li>
	    </ul>
	    <ul><li>Sid2.pm
		<ul><li>Image Class middleware was altered
		    to allow the maximum viewable image size to be restricted
		    based on the value of the imgsizemax collmgr field.</li>
		  <li>Greater support for media file formats
		    was added. Parameter passing in Sid2.pm was changed
		    for a few routines. Sidget2.pm had minor changes in
		    an attempt to improve downloading of media to disk
		    using content disposition headers. Some improvement
		    was achieved.</li></ul>
	      </li>
	    </ul>
	    <ul><li>Sidget2.pm
		<ul><li>corrected the mime-type for jpeg images,
		    which has been wrong for all of these years.</li>
		  <li>Greater support for media file formats
		    was added. Parameter passing in Sid2.pm was changed
		    for a few routines. Sidget2.pm had minor changes in
		    an attempt to improve downloading of media to disk
		    using content disposition headers. Some improvement
		    was achieved.</li>
		  <li>JPEG2000 support was added to the middleware.
		    Also made a small change to mysqlImageApp.pm so that
		    it gets the data table name from Collmgr rather than
		    basing it on the collid.</li></ul>
	      </li>
	    </ul>
	    <ul><li>getimage-idx
		<ul><li>Removed $userpath remnants from code.</li>
		  <li>Major changes were made in order to
		    add support for mySQL to image class. ImageApp methods
		    were shifted and/or partitioned in order to simplify
		    subclassing for mySQL. With this commit, both xpat
		    and mysql should be largely functional. XClass searching
		    needs to be tested. The changes for mySQL provided
		    an opportune time to stop the use of full region names
		    in rgn parameters and to stop using Collectionmaps.pm.
		    These changes are complete with the exception if needing
		    some validity checking of rgn parameters.</li>
		  <li>Image Class middleware was altered
		    to allow the maximum viewable image size to be restricted
		    based on the value of the imgsizemax collmgr field.</li>
		  <li>A one line change was made to correct
		    a problem seen when displaying an image that exists
		    on the server as a series of fixed size images (e.g.,
		    small, medium, large jpegs) as opposed to a multi-res
		    sid file.</li>
		  <li>Changes were made to improve support
		    for media formats other than images. Also, minor changes
		    were made to enable the reduction of customized templates.
		    In other words, some basic generalizations were made
		    so that class or group level templates can do the
		    job.</li>
		  <li>getimage-idx was enhanced for greater
		    support of media formats.</li>
		  <li>Fixed a bug. "Image Access Restricted"
		    was not displaying when needed. Assertion error was
		    being generated.</li>
		  <li>getimage-idx was altered in order to
		    add mySQL support for metadata. Now it would work
		    with xpat, or mysql, and with our without a mysql
		    media_table. Part of this change included shifting
		    the mysqlSearchEngineInit subroutine from mysqlImageApp.pm
		    to ImageClassUtils.pm so that it can be also be used
		    by getimage-idx.</li>
		  <li>fixed bug related to old id retrieval.</li>
		  <li>Minor change to getimage-idx to add
		    handling of tif, tiff, jpg extensions when there is
		    not a media_table.</li>
		  <li>In a couple of spots, getimage-idx
		    had the mysql media table name hard coded when it
		    should have been getting it from the colldb. This
		    was corrected.</li>
		  <li>JPEG2000 support was added to the middleware.
		    Also made a small change to mysqlImageApp.pm so that
		    it gets the data table name from Collmgr rather than
		    basing it on the collid.</li></ul>
	      </li>
	    </ul>
	    <ul><li>getthumbnail-idx
		<ul><li>Removed $userpath remnants from code.</li>
		  <li>getthumbnail-idx was enhanced for greater
		    support of media formats. Changes were
		    minimal.</li></ul>
	      </li>
	    </ul>
	    <ul><li>image-idx
		<ul><li>Removed $userpath remnants from code.</li>
		  <li>Parameters passed to object creation
		    now a hash instead of an array.</li>
		  <li>Major changes were made in order to
		    add support for mySQL to image class. ImageApp methods
		    were shifted and/or partitioned in order to simplify
		    subclassing for mySQL. With this commit, both xpat
		    and mysql should be largely functional. XClass searching
		    needs to be tested. The changes for mySQL provided
		    an opportune time to stop the use of full region names
		    in rgn parameters and to stop using Collectionmaps.pm.
		    These changes are complete with the exception if needing
		    some validity checking of rgn parameters.</li>
		  <li>Minor changes to further advance support
		    for mysql. Added data_table field to collmgr. Changed
		    code to use data_table field. Changed nature of media_table
		    field. Instead of "yes"/"no" values, it now holds
		    the name of the media_table. Code was updated to use
		    media_table in this new way.</li>
		  <li>Changes were made related to the use
		    of mysql as a search engine for image class. A bug
		    in the area of related views was fixed. Query building
		    was improved (the query itself is more efficient when
		    run).</li></ul>
	      </li>
	    </ul>
	    <ul><li>imageclass.cfg
		<ul><li>Major changes were made in order to
		    add support for mySQL to image class. ImageApp methods
		    were shifted and/or partitioned in order to simplify
		    subclassing for mySQL. With this commit, both xpat
		    and mysql should be largely functional. XClass searching
		    needs to be tested. The changes for mySQL provided
		    an opportune time to stop the use of full region names
		    in rgn parameters and to stop using Collectionmaps.pm.
		    These changes are complete with the exception if needing
		    some validity checking of rgn parameters.</li>
		  <li>Image Class middleware was altered
		    to allow the maximum viewable image size to be restricted
		    based on the value of the imgsizemax collmgr field.</li>
		  <li>tweak</li>
		  <li>reset image host url for dev enviro</li>
		  <li>Changes were made to ImageApp.pm, ImageClassUtils.pm,
		    and imageclass.cfg to abandon the use of "storable"
		    freeze and thaw for the long-term storage of BookBag
		    items. The new mechanism stores BookBag items in a
		    seperate table, one per row. The freeze/thaw approach
		    was occassionally storing BookBags that could not
		    be thawed. The root of the problem was never discovered.
		    To faciliate this change and to migrate data from
		    the frozen storage to the new table, a script called
		    convertBookBag.pl has been created and can be found
		    in bin/i/image. It is important to read the comments
		    in the head of the convertBookBag.pl file to understand
		    the steps required to make this transition smoothely.</li>
		  <li>Portfolio functionality is set to be
		    "off" for migration to new BookBag code.</li>
		  <li>Natural language query string now displays
		    properly on "no results" page. It was failing perhaps
		    due to a race condition related to the cgi redirect
		    that followed and storage of the natlangquery on the
		    session. Also fixed a bug with portfolios. When last
		    item of portfolio was deleted, an internal server
		    error occurred due to an attempt to insert non-existant
		    data rows into the BookBagItems table at the time
		    of storage.</li>
		  <li>imageclass.cfg was enhanced for greater
		    support of media formats. Changes were minimal, and
		    mostly included additions to the gWords hash..</li>
		  <li>minor</li>
		  <li>A request for a bookmarked portfolio
		    would not redirect to the login page if the user was
		    not logged in. Now it does.</li>
		  <li>A request for a bookmarked portfolio
		    would not redirect to the login page if the user was
		    not logged in. Now it really does.</li>
		  <li>ImageApp.pm: support for TOTALRESULTS
		    PI was added to results handler. It simply inserts
		    the number of total results. The intended use is in
		    bbthumbfull.tpl (portfolios) to create a referenceable
		    javascript variable that knows the total number of
		    results. This addition allowed the PI THUMBFULLJSARRAYS
		    to be deprecated. Minor mods were also made to maintain
		    the results view when opening a new portfolio, etc.
		    ImageClassUtils.pm: Primarily, changes were made to
		    support new functionality in portfolio's "thumb with
		    full record" view. iFrames are now used to allow scrolling
		    of thumbs while keeping the full record in it's place.
		    This functionaly can also be used in the regular (non-porfolios)
		    "thumb with full record" view, though it has not yet
		    been applied. Care was taken to maintain backward
		    compatibility with existing templates. As of this
		    commit, however, it is most likely that NS Nav 4.x
		    has some disfunctioning portfolio functions. Namely,
		    check/uncheck all items. imageclass.cfg: Minor changes
		    were made to "help" text for thumbfull views. Also
		    minor changes to the global var gWindowProps, which
		    specifies how certain pop-up windows are to be created.</li>
		  <li>Fixed windowprops so they work with
		    netscape nav 4.</li>
		  <li>Minor changes to further advance support
		    for mysql. Added data_table field to collmgr. Changed
		    code to use data_table field. Changed nature of media_table
		    field. Instead of "yes"/"no" values, it now holds
		    the name of the media_table. Code was updated to use
		    media_table in this new way.</li>
		  <li>Changes were made related to the use
		    of mysql as a search engine for image class. A bug
		    in the area of related views was fixed. Query building
		    was improved (the query itself is more efficient when
		    run).</li>
		  <li>Added a global variable to act as a
		    switch for turning on and off mysql fulltext boolean
		    mode, which is only available in version 4.0.2 or
		    newer of MySQL.</li>
		  <li>Fixed a bug in the use of "Boolean"
		    mysql searching.</li>
		  <li>Fixed a bug that caused portfolios
		    to fail to display items in all cases. Stemmed from
		    Lib change that added cio to the list of parameters
		    passed to BookBagItem for initialization. Also added
		    use of new mediahost colldb field, which allows the
		    server that delivers images to be specified per collection.
		    The default is still specified in imageclass.cfg.</li>
		  <li>Modified the checking of old params
		    to flag occurrences of catX parameters and give the
		    user a link to the collection page.</li>
		  <li>JPEG2000 support was added to the middleware.
		    Also made a small change to mysqlImageApp.pm so that
		    it gets the data table name from Collmgr rather than
		    basing it on the collid.</li>
		  <li>added one space to string.</li></ul>
	      </li>
	    </ul>
	    <ul><li>ImageApp/mysqlImageApp.pm
		<ul><li>first entry for additions to support
		    mysql as for image class content in image class. this
		    commital might have errors.</li>
		  <li>Minor changes to further advance support
		    for mysql. Added data_table field to collmgr. Changed
		    code to use data_table field. Changed nature of media_table
		    field. Instead of "yes"/"no" values, it now holds
		    the name of the media_table. Code was updated to use
		    media_table in this new way.</li>
		  <li>Changes were made related to the use
		    of mysql as a search engine for image class. A bug
		    in the area of related views was fixed. Query building
		    was improved (the query itself is more efficient when
		    run).</li>
		  <li>Add to Bookbag from entry view was
		    generating an assertion error for mysql collections.
		    Fixed two small things and it is fine.</li>
		  <li>getimage-idx was altered in order to
		    add mySQL support for metadata. Now it would work
		    with xpat, or mysql, and with our without a mysql
		    media_table. Part of this change included shifting
		    the mysqlSearchEngineInit subroutine from mysqlImageApp.pm
		    to ImageClassUtils.pm so that it can be also be used
		    by getimage-idx.</li>
		  <li>Added functionality to retrieve an
		    individual item by an old id that may have been bookmarked
		    or stored in a portfolio.</li>
		  <li>minor change</li>
		  <li>Added support for 'SID' PI to all page
		    handlers. Dropped a related but unused subroutine
		    sidParam from ImageClassUtils.</li>
		  <li>Added a global variable to act as a
		    switch for turning on and off mysql fulltext boolean
		    mode, which is only available in version 4.0.2 or
		    newer of MySQL.</li>
		  <li>Fixed a bug in the use of "Boolean"
		    mysql searching.</li>
		  <li>Clarified query building options for
		    mysql in code and in comments.</li>
		  <li>Minor mod to distinguish between an
		    undef and an empty media_table field.</li>
		  <li>Modified the tagDBdata subroutine to
		    handle the most basic image filename extensions (without
		    needing to have a media table). Specifically, deals
		    with the situation where the image filename field
		    contains a filename that includes a filename extension.
		    If extensions other than tif, tiff, jpg are encountered,
		    a media table is required. It is also OK not to have
		    a filename extension.</li>
		  <li>Minor change to getimage-idx to add
		    handling of tif, tiff, jpg extensions when there is
		    not a media_table.</li>
		  <li>Fixed bug that caused record and image
		    counts to fail with mysql colls.</li>
		  <li>Added phrase searching of a specified
		    field in order to enable accurate retrieval of IDs
		    that have non-alpha-numeric chars. The field can be
		    specfied in the field_admin_maps field of collmgr.</li>
		  <li>Fixed bug that caused assertion error
		    when the user does not use the first search box.</li>
		  <li>Fixed a bug in the bug fix that caused
		    assertion error when the user does not use the first
		    search box.</li>
		  <li>JPEG2000 support was added to the middleware.
		    Also made a small change to mysqlImageApp.pm so that
		    it gets the data table name from Collmgr rather than
		    basing it on the collid.</li>
		  <li>Corrected a bug in sorting when only
		    1 coll of group searched.</li></ul>
	      </li>
	    </ul>


          


	  
	    <h4>/bin/i/image</h4>


	    <ul><li>getFlds.pl
		<ul><li>These scripts can be used to transfer
		    data from image class sgml to collmgr.</li>
		</ul>
	      </li>
	    </ul>

	    <ul><li>getFlds_all.sh
		<ul><li>These scripts can be used to transfer
		    data from image class sgml to collmgr.</li>
		</ul>
	      </li>
	    </ul>

	    <ul><li>icsgml2icmysql.pl
		<ul><li>first entry of script to convert image
		    class sgml to mysql tables for use with image class.</li>
		  <li>Added index building commands in the
		    sql output. Added field size info for media table.
		    Fixed bug in field identification that in rare cases
		    would cause a row to not have the same number of columns
		    as expected.</li>
		  <li>Problem corrected where entryauth data
		    was not being written to sql data loading file for
		    all items of the entry.</li>
		  <li>Now looks to colldb to know which fields
		    need to be indexed for searching.</li>
		  <li>small change.</li>
		  <li>added collid to "all" field to enable
		    retrieval of all records by collid. this will only
		    work reliably with xpat or mysql 4. mysql 3 will probably
		    misbehave, but maybe not.</li></ul>
	      </li>
	    </ul>

	    <ul><li>idb
		<ul><li>changed isentryid delimiter to "]"</li>
		  <li>A new reporting mechanism was added
		    to "idb". A simple tab-delimited report of entryid
		    and filename for MISSING image/media files is now
		    generated in the coll's prep dir. The files is called
		    collid-missing.txt.</li>
		  <li>Support was added for a couple more
		    media formats.</li>
		  <li>Many significant changes were made
		    relative to the handling of media files in the data
		    prep process. The goal being to expand support for
		    media types.</li>
		  <li>Minor changes for friendlier handling
		    of index / indexprep dir options in imageprep and
		    idb. Also added confirmation of collid to idb.</li>
		  <li>Changes to support JPEG2000.</li>
		  <li>made a configuration change for bmp
		    files so that they map to jp2, sid, and then jpg.
		    they were all going to jpg, so all the old static
		    jpgs were being used rather than the sids.</li></ul>
	      </li>
	    </ul>

	    <ul><li>imageprep
		<ul><li>changes to fix a problem with fbfile
		    in the coll specific arena</li>
		  <li>minor bug fix related to images in
		    dirs named "large"</li>
		  <li>A problem was fixed in imageprep. It
		    wasn't properly accounting for multiple fixed size
		    images e.g., small, medium, large jpegs. A related
		    change was made to ImageClassUtils.pm so that the
		    middleware would display the multiple images properly.</li>
		  <li>multimedia enhancements</li>
		  <li>Many significant changes were made
		    relative to the handling of media files in the data
		    prep process. The goal being to expand support for
		    media types.</li>
		  <li>Minor changes for friendlier handling
		    of index / indexprep dir options in imageprep and
		    idb. Also added confirmation of collid to idb.</li>
		  <li>JPEG2000 support added.</li>
		  <li>minor change</li></ul>
	      </li>
	    </ul>


	    <ul><li>imageprep.cfg
		<ul><li>A bug in imageprep was fixed. The number
		    of binary files was being calculated wrong and if
		    there were only 1 file, it would be skipped. Also,
		    minor changes were made to improve support for other
		    media formats, especially audio and flash.</li>
		  <li>Many significant changes were made
		    relative to the handling of media files in the data
		    prep process. The goal being to expand support for
		    media types.</li>
		  <li>Configuration changes for better support
		    of thumbs for fixed images.</li>
		  <li>10->4b/blake/rdist.blaketc</li>
		  <li>reverting to jpeg2000-less version
		    for now</li>
		  <li>JPEG2000 support added.</li>
		  <li>configuration adjustment for jpeg2000</li>
		  <li>Added better checking for binaries
		    mrsid_retrieve and kdu_expand.</li></ul>
	      </li>
	    </ul>


	    <ul><li>imagetobib.pl
		<ul><li>fixed id location problem</li>
		  <li>stopped the cleaning of viewids for
		    url building because image class does not clean viewids</li>
		  <li>DC.ri was not being output properly
		    due to a case sensitity problem</li>
		  <li>commented out a debugging print statement</li>
		  <li>Added tagging for DC.SO (source) as
		    <h><p></p></h> in bib class sgml.</li>
		  <li>Changed to use unnormed rather than
		    normed imageclass sgml for transformation to bib.
		    hmmmm.</li></ul>
	      </li>
	    </ul>


	    <ul><li>localimageprep.cfg
		<ul><li>changes to fix a problem with fbfile
		    in the coll specific arena</li>
		  <li>added a little sample configuration
		    code</li>
		  <li>A problem was fixed in imageprep. It
		    wasn't properly accounting for multiple fixed size
		    images e.g., small, medium, large jpegs. A related
		    change was made to ImageClassUtils.pm so that the
		    middleware would display the multiple images properly.</li>
		  <li>Added support for more media formats.</li>
		  <li>Many significant changes were made
		    relative to the handling of media files in the data
		    prep process. The goal being to expand support for
		    media types.</li>
		  <li>Minor changes for friendlier handling
		    of index / indexprep dir options in imageprep and
		    idb. Also added confirmation of collid to idb.</li>
		  <li>Configuration changes for better support
		    of thumbs for fixed images.</li>
		  <li>added configs for bp1ic</li>
		  <li>Adjustment for apis thumbnails.</li></ul>
	      </li>
	    </ul>

	    <ul><li>putFlds.pl
		<ul><li>These scripts can be used to transfer
		    data from image class sgml to collmgr.</li>
		  <li>Modified putFlds.pl to properly use
		    DLPS_DEV to determine which colldb row to
		    edit.</li></ul>
	      </li>
	    </ul>

	    <ul><li>putFlds_all.sh
		<ul><li>These scripts can be used to transfer
		    data from image class sgml to collmgr.</li>
		</ul>
	      </li>
	    </ul>

	    <ul><li>setupcollindex
		<ul><li>commented out some of the perl replacements
		    because they cause troubl</li>
		  <li>Corrected problems related to installation
		    and dlxsdataroot. This should address issues raised
		    by UPitt.</li></ul>
	      </li>
	    </ul>

	    <ul><li>convertBookBag.pl
		<ul><li>convertBookBag.pl was created to convert
		    user data stored in a BookBagDB table from the type
		    that uses the "storable" module to freeze and thaw
		    BookBag data for storage to the type that uses a separate
		    table (BookBagItems) to store items individually.</li>
		</ul>
	      </li>
	    </ul>




	  


        
      

      
        <h2>Broker20 version 1.1.0</h2>
        
          <h3>New and Changed Functionality</h3>
          <ul>
            <li>Incorporates support for the CGM protocol.</li></ul>
          
            <h4>bin/b/broker20</h4>
            <ul><li>CreateAndPopulateCGMTables.txt: contains sql commands used to create the cgm database used by the CgmTC subclass.  These tables are created on a dlxs MySQL database.
	      </li></ul>
	    <li>Purge_CGM_Database: This file is executed from a cron job.  It deletes cgm records that are two
	      hours old or older. </li>
          
        
      

      
        <h2>Collmgr version 3.1.0</h2>
        
          <h3>New and Changed Functionality</h3>
          <ul><li> Deleting a released collection or group
	      deletes the collection or group every where. Added
	      "hold" functionality</li>
            <li>Added release of a single collection
	      at a time</li>
            <li>Added some checks so that when a user
	      reauthenticates after being logged in as admin he
	      will not go to web pages he should not be accessing.</li>
            <li> When a collection is inserted into
	      the dlxs database it checks if the collid is in use
	      by any user. It use to check if it was in use by release,
	      or the user inserting.</li>
            <li>Added some validatiion check for collid.
	      Collid for non bib class collections must be of the
	      form [A-Za-z][A-Za-z0-9_]*. </li></ul>

        
      


      
        <h2>FindaidClass version 5.0.0</h2>
        
          <h3>New and Changed Functionality</h3>
          <ul>
            <li>Major re-write of Finding Aids middleware making it a full DLXS class.</li>
            <li>Participates in the DLXSClass::FullTextClass object hierarchy.</li>
            <li>Supports EAD 2002 Standard for encoding Finding Aids.</li>
            <li>Configurable via collmgr</li>
          </ul>
        
      

      
        <h2>XClass version 2.1.0</h2>
        
          <h3>New and Changed Functionality</h3>
          <ul><li>No change in DLXS release 11.</li></ul>
        
      

      
        <h2>XslFallback version 2.1.0</h2>
        
          <h3>New and Changed Functionality</h3>
          <ul><li>New CGI program supporting fallback of XML templates under XSL stylesheets.</li></ul>
        
      

      
        <h2>IdResolver version 1.0.0</h2>
        
          <h3>New and Changed Functionality</h3>
          <ul><li>New CGI program that supports the mapping of an ID into a URL for purposes of linking between teh DLXS mideleware classes.  Previously Used internally at DLPS and now available to DLXS.  The IdResolver CGI is integrated with the MySQL database configuration established in LibGlobals.pm.</li></ul>
        
      


    

    <!-- end Release 11 -->

    
      <h1>DLXS Release 10 - 15 FEB 2003</h1>
      
        <h2>General Information</h2>
        <p>DLXS Release 10 is comprised of:</p>
        <ul>
          <li>TextClass version 3.0.0</li>
          <li>BibClass version 2.3.0</li>
          <li>FindingAids version 2.1.0</li>
          <li>ImageClass version 2.5.0</li>
          <li>Broker20 version 1.0.0</li>
          <li>Collmgr version 3.0.0</li>
          <li>XClass version 2.0.0</li>
          <li>Lib version 3.0.0</li>
          <li>mrsid_retrieve version 1.3.1</li>
          <li>tif2web version 1.0.3</li>
          <li>dlxsd version 1.0.0 </li>
          <li>XPAT version 5.2.3</li>
        </ul>
      

      
        <h2>Known Problems</h2>
        
          <p>The SQL::Statement version 1.005 perl module is not backward compatible with version 0.1021.  Version 0.1021 was typical with Perl version 5.6.1 whereas 1.005 is typical of Perl 5.8.0. We recommend you install perl 5.8.0 and SQL::Statement 1.005 or higher.  The workaround mentioned below may not be required when SQL::Statement 1.006 becomes available.  Because of this the following constraints and workarounds apply.  </p>
          <ul>
            <li>collmgr
              <ul>
                <li>Functions normally with either 0.1021 or 1.005</li>
              </ul></li>
          </ul>
          <ul>
            <li>dbmove
              <ul>
                <li>Functions normally moving CSV to MySQL under either 1.005 or 0.1021</li>
                <li>Incorrectly uppercases column names when moving MySQL to CSV under 1.005.  The workaround is to lower case the resulting column names using an ascii editor.</li>
                <li>Fails completely under 0.1021 moving CSV to MySQL or vice versa..</li>
              </ul></li>
          </ul>
          <ul>
            <li>upgrade_1_2, upgrade_2_3
              <ul>
                <li>Functions normally upgrading a MySQL database under either 1.005 or 0.1021</li>
                <li>Incorrectly uppercases column names when upgrading CSV under 1.005.  The workaround is to lower case the resulting column names using an ascii editor.</li>
              </ul></li>
          </ul>
        
      


      
        <h2>XPAT version 5.2.3</h2>
        
          <ul>
            <li>No change from  Release 9</li>
          </ul>
        
      

      
        <h2>Lib version 3.0.0</h2>
        
          <h3>New and Changed Functionality</h3>

          
            <h4>lib</h4>


            <ul>
              <li> ApplicationResult.pm
      <ul>
                  <li>Significant enhancements to support TextClass sorting and results inter-filing.  Caching mechanism for performance.</li>
                  <li>Support ISO date in sorting</li>
                  <li>Add id array compression to save space in session</li>
                </ul></li>
            </ul>
            <ul>
              <li> BookBag.pm
      <ul>
                  <li>When removing an item from the bookbag
          if it is the last item for a collid, remove the collid
          so we wont try to search a bookbag collid list that
          has no idnos in it.</li></ul></li>
            </ul>
            <ul>
              <li> CioFactory.pm
      <ul>
                  <li>Fix bug where database was always being
          read even if there was a cio already on the session.</li>
                  <li>Removed qw( :standard :html3 escape
          unescape escapeHTML ) from all "use CGI" pragmas.
          8% performance improvement.</li>
                  <li>Changed calls to html template handling
          to be in DlpsUtils rather than in each of the apps.
          Added to DlpsSession, DlpsUtils and LibGlobals data
          to hold a history of URLs to make assertions able
          to trace back a user's path to a bad URL. Previous
          subroutines like SetOriginalCgi are now SetOriginalCgiHistory
          and so on.</li>
                  <li>Remove $main::user[name|part] workdir
          syntax</li>
                  <li>Enhanced fallback for ImageClass using
          a new mode "groupcoll" which supports fallback for
          the case of a single c= appearing with a g= The fallback
          is from coll to group to default group to class. Also
          support for "defaultgroupid" in Collection table when
          it is added to the database schema. This allows singlecoll
          mode 'to fallback form coll to default group to class,
          again for ImageClass and probably TextClass.</li>
                </ul></li>
            </ul>
            <ul>
              <li> CioWrapper.pm
      <ul>
                  <li>Added messages for assertions</li></ul></li>
            </ul>
            <ul>
              <li> CollsInfo.pm
      <ul>

                  <li>AddClassObjects now take the requestedCollArr
          instead of grabbing it internally so we can add class
          objects on the fly for next/prev item links</li>
                  <li>Made it a crime to ask for a tco using
          an undef collid</li>
                  <li>Allow multiple ignoreon hosts</li>
                  <li>Added matching and 'all' token for
          ignoreon</li>
                  <li>Added NOASSERT param to GetClassObjByCollId()
          to test whether tco has been added to CIO</li></ul></li>
            </ul>
            <ul>
              <li> DLXSApp.pm
      <ul>

                  <li>Removed qw( :standard :html3 escape
          unescape escapeHTML ) from all "use CGI" pragmas.
          8% performance improvement.</li>
                  <li>Fix problem in Debug method where DumpEnvVars
          called without empty parameter list "()" was shifting
          a cgi object into its scope making it produce plain
          text</li>
                  <li>branches: 1.16.2; Change to move call
          to ValidityChecks to individual applications subclasses'
          initialize methods.</li>

                  <li>Add PrepareAroForCacheKey() to globally
          flush cache on key mismatch instead of doing it as
          a side-effect in ValidOccurrencesInCache and ComputeCacheState</li>
                  <li>Fix XClass app trying to prepare aro
          for caching. it is the child's responsibility only.</li></ul></li>
            </ul>
            <ul>
              <li> DbUtils.pm
      <ul>
                  <li>All uses of double-quotes in SELECT
          statements were changed to single quotes for compatibility
          with future versions of the SQL::Statement perl module.</li>
                  <li>use DlpsUtils qw( :DEFAULT ); not use
          DlpsUtils;</li>
                  <li>Fix of typo in error message.</li></ul></li>
            </ul>
            <ul>
              <li> DevUtils.pm
      <ul>
                  <li>Enhanced AUTHZD_COLL file error message</li></ul></li>
            </ul>

            <ul>
              <li> DlpsSession.pm
      <ul>

                  <li>Fix bug where database was always being
          read even if there was a cio already on the session.</li>
                  <li>Changed calls to html template handling
          to be in DlpsUtils rather than in each of the apps.
          Added to DlpsSession, DlpsUtils and LibGlobals data
          to hold a history of URLs to make assertions able
          to trace back a user's path to a bad URL. Previous
          subroutines like SetOriginalCgi are now SetOriginalCgiHistory
          and so on.</li>
                  <li>use DlpsUtils qw( :DEFAULT ); not use
          DlpsUtils;</li>
                  <li>Added GetPersistentSessionItemByKeySubkey4()
          for caching mechanism in TextClass</li>
                  <li>branches: 1.33.2; Clone cgi before
          saving it to history array</li>
                </ul></li>
            </ul>
            <ul>
              <li> DlpsUtils.pm
      <ul>

                  <li>Added html CHUNK handling subroutine.</li>
                  <li>Modified SingularizePluralizeTerm so
          term must match exactly so we can pass in keys likes
          'match' and 'matching term'</li>
                  <li>Changes related to work in collection/group selection
          and consolidation of templates.</li>
                  <li>TrimSpaces after removing metachars
          in case this removal introduced leading or trailing
          spaces</li>
                  <li>Added parameter to RemoveTags() to
          make it remove entire elements or just the tags</li>
                  <li>Added excl to entity filter</li>
                  <li>Removed. home.tpl now covers all cases
          by redirecting to ets post-login</li>
                  <li>added assertion for missing filename
          in resolution in GetDefaultFileForCGC(). if page=foobar
          the hash lookup for the corresponding filename fails
          and we end up resolving to a directory instead of
          a file and spew garbage.</li>
                  <li>Fix bug in BuildAuthPageContent() which
          caused a blank dlpserror page if $LibGlobals::gLoginUrl
          was empty (as it would be after a normal dlxs install.
          Fix bug in BuildLoginRedirect(). Url passed to the
          auth system needed to be URL escaped to fix: escape
          the URL string so it will survive URL unescaping by
          the auth system. In addition the auth system will
          replace ';' by '&amp;' for separators to work around the
          meta tag refresh parsing bug present in most browsers
          where a meta tag like &lt;META http-equiv="Refresh" content="1;
          URL=http://fizzie/text-idx?c=moa;sid=foo"> causes
          the sid following the second semicolon to be stripped</li>
                  <li>Added new system error message</li>
                  <li>Print trace if DEBUG or DLPS_DEV not
          just DLPS_DEV</li>
                  <li>Added RemoveXPATMetachars() called
          from enhanced Filter_NOTEn_NotesForText() to use content
          as well as ID to uniquify note.</li>
                  <li>Added dump of envvars to assertion
          email</li>

                  <li>Changed calls to html template handling
          to be in DlpsUtils rather than in each of the apps.
          Added to DlpsSession, DlpsUtils and LibGlobals data
          to hold a history of URLs to make assertions able
          to trace back a user's path to a bad URL. Previous
          subroutines like SetOriginalCgi are now SetOriginalCgiHistory
          and so on.</li>
                  <li>added comment to URL History</li>
                  <li>Remove hardcoded mail addr left in
          accidentally</li>

                  <li>Fix logic in GetDefaultFileForCGC().
          It needs to be told whether $filename came in as being
          explicitly set as tpl= for customization on the url
          or was derived from cgi parameters like page, view,
          or browse. In the explicit case the fallback is from
          collection to group but cannot proceed to class (because
          it's custom) whereas in the non-explicit case the
          fallback depends on the cross-collection mode i.e.
          on whether we're looking for collection, group or
          class templates.</li>
                  <li>fix SetOriginalCgiHistory() to allow
          for no $dso</li>
                  <li>Finally get fallback correct for tpl=
          parameter. The specified value of the tpl= parameter
          is a filename that falls back as a function of xcollmode
          (groups colls singlecollection) just like everything
          else</li>
                  <li>Enhanced fallback for ImageClass using
          a new mode "groupcoll" which supports fallback for
          the case of a single c= appearing with a g= The fallback
          is from coll to group to default group to class. Also
          support for "defaultgroupid" in Collection table when
          it is added to the database schema. This allows singlecoll
          mode 'to fallback form coll to default group to class,
          again for ImageClass and probably TextClass.</li>
                  <li>Remove '|' from the RemoveXPATMetachars()
          subroutine. It's not a metachar and we do not map
          it to a space in most all .dd's</li>
                  <li>Added semicolon to &amp;nbsp of environment
          variable dumping routine in DlpsUtils</li>
                  <li>Fix case in GetDefaultFileForCGC()
          SPECIAL CASE: for resolving tpl=file.tpl (e.g. browse.tpl).
          file.tpl must be located in coll, default group
          or (unlikely) class space: if $xcollMode is 'colls'
          because xc=1 (meaning we came from the cross-collection
          interface) but there is only once 'c' (user is navigating
          within a single collection) we need to make it look
          like we're in single collection mode for the purposes
          of resolution in this routine.</li>
                  <li>Added $gIdResolver to LibGlobals so
          that all classes may call it there. Also, moved the
          resolveIdToURL routine from ImageClass to DlpsUtils
          so that all can call it there.</li>
                  <li>Added "use LWP::Simple" so that call
          to IdResolver could be made.</li>
                  <li>added q4, q5 and q6 to terms that will
          be highlighted</li>
                  <li>SingularizePluralizeTerm() handles
          zero as the number as well as 1 or greater. If zero,
          return plural.</li>
                  <li>branches: 1.136.2; Fisheye routines
          now ASSERT if $script is not passed in.</li>
                  <li>added GenComputeTime</li>
                  <li>Needed new routine to get only the
          last CGI object from the CgiHistory.</li>
                  <li>Fix OELIG => OElig charent</li>
                  <li>Changed SingularizePluralizeTerm to
          send back originally passed in term, unchanged, if
          it is not found in the hash.</li></ul></li>
            </ul>
            <ul>
              <li> GroupsInfo.pm
      <ul>
                  <li>use DlpsUtils qw( :DEFAULT ); not use
          DlpsUtils;</li>
                  <li>Added ignoreon for groups</li></ul></li>
            </ul>
            <ul>
              <li> LibGlobals.cfg
      <ul>
                  <li>Removed. home.tpl now covers all cases
          by redirecting to ets post-login</li>
                  <li>Enhanced system error message</li>
                  <li>Changed calls to html template handling
          to be in DlpsUtils rather than in each of the apps.
          Added to DlpsSession, DlpsUtils and LibGlobals data
          to hold a history of URLs to make assertions able
          to trace back a user's path to a bad URL. Previous
          subroutines like SetOriginalCgi are now SetOriginalCgiHistory
          and so on.</li>
                  <li>branches: 1.23.2; Added $gIdResolver
          to LibGlobals so that all classes may call it there.
          Also, moved the resolveIdToURL routine from ImageClass
          to DlpsUtils so that all can call it there.</li>
                </ul></li>
            </ul>
            <ul>
              <li> LibVersion.pm
      <ul>
                  <li>use LibVersion 3.0</li>
                </ul></li>
            </ul>
            <ul>
              <li> ObjectFactory.pm
      <ul>
                  <li>Removed qw( :standard :html3 escape
          unescape escapeHTML ) from all "use CGI" pragmas.
          8% performance improvement.</li></ul></li>
            </ul>
            <ul>
              <li> ProcIns.pm
      <ul>

                  <li>Allow the SimpleSubstitution to take
          a ref to a string as well as a string to save copying</li>
                  <li>Scalar ref accepted as return value
          from PI handler method</li>
                </ul></li>
            </ul>
            <ul>
              <li> QueryFactory.pm
      <ul>
                  <li>Allow full Reverse Polis Notation in
          the boolean search. So that queries like (a and b)
          or (c and d) can now be converted into xpat queries.
          Prior to this change only boolean queries like (((a
          and b) and c) or d) could be made</li>
                  <li>Corrected a problem from previous release
          so that boolean searches can be RPN.</li>
                </ul></li>
            </ul>
            <ul>
              <li> SearchHistory.pm
      <ul>
                  <li>Removed qw( :standard :html3 escape
          unescape escapeHTML ) from all "use CGI" pragmas.
          8% performance improvement.</li>
                  <li>Use ';' instead of '&amp;' in URLs</li>
                  <li>No longer remove sort cgi parameter so that different
          sorts show up in search history as different searches
          easily recovered. Corresponds to change in TextApp::BuildNatLangSearchString
          to mention sort used</li></ul></li>
            </ul>
            <ul>
              <li> SearchSet.pm
      <ul>

                  <li>byte mode implemented</li>
                </ul></li>
            </ul>
            <ul>
              <li> XPat.pm
      <ul>

                  <li>byte mode implemented</li>
                  <li>enhancements to support bytemode in
          XPat</li>
                  <li>Print trace if DEBUG or DLPS_DEV not
          just DLPS_DEV</li>

                  <li>use DlpsUtils qw( :DEFAULT ); not use
          DlpsUtils;</li>
                  <li>added path truncation to GetDataDictName()
          method.</li>
                  <li>Changed GetRegionSize to use new signature
          for GetSimpleResultsFromQuery.</li></ul></li>
            </ul>
            <ul>
              <li> XPatResult.pm
      <ul>
                  <li>enhancements to support bytemode in
          XPat</li>

                  <li>Removed qw( :standard :html3 escape
          unescape escapeHTML ) from all "use CGI" pragmas.
          8% performance improvement.</li>
                  <li>Added save/restore for XRO for caching</li>
                  <li>branches: 1.10.2; added only one-half
          of pset offset to pset result byte offset to keep
          KWICs in their regions</li>
                </ul></li>
            </ul>
            <ul>
              <li> XPatResultSet.pm
      <ul>
                  <li>Added a new SSize label type 'hitsinbooleanregionssearch'</li>
                  <li>generalized detailhitsinitemsearch
          type to work for boolean and simple search hits counts
          in a single item</li>
                  <li>enhancements to support bytemode in
          XPat</li>
                  <li>Added GetResultsAsArrayRef() for efficiency
          in accessing result in sort key case where the arrays
          are large and iterating over the result is too expensive</li>

                  <li>Removed qw( :standard :html3 escape
          unescape escapeHTML ) from all "use CGI" pragmas.
          8% performance improvement.</li>
                  <li>branches: 1.19.2; use DlpsUtils qw(
          :DEFAULT ); not use DlpsUtils;</li>
                </ul></li>
            </ul>
            <ul>
              <li> repositoryNames.pl
      <ul>
                  <li>new for repository counting reslist</li>
                  <li>new CCSDthesis description</li>
                  <li>new uq description</li>
                </ul></li>
            </ul>
            <ul>
              <li> BookBagItem/BBItemBC.pm
      <ul>
                  <li>Since TextClass::_HeaderFilter is called
          by BBItemTC::_initialize, and it requires the $cgi
          and $dso, they also needed to be sent to the BBItemTC::_initialize
          method. Also, added these as parameters in BBItemBC
          so that they might be accessed downstream if need
          be.</li>
                </ul></li>
            </ul>
            <ul>
              <li> BookBagItem/BBItemTC.pm
      <ul>
                  <li>enhancements to support bytemode in
          XPat</li>
                  <li>Since TextClass::_HeaderFilter is called
          by BBItemTC::_initialize, and it requires the $cgi
          and $dso, they also needed to be sent to the BBItemTC::_initialize
          method. Also, added these as parameters in BBItemBC
          so that they might be accessed downstream if need
          be.</li>
                  <li>branches: 1.8.2; Filter tags in all
          the pieces that come back from _HeaderFilter() not
          just source but title, author, availability etc.</li>
                  <li>Commit after merge of results and groups
          work.</li></ul></li>
            </ul>

          
          
            <h4>bin/db</h4>

            <ul>
              <li> dbmove
      <ul>
                  <li>put in some error checking and included
          some logic for the PageviewFig table.</li>
                  <li>included PageviewFig logic</li></ul></li>
            </ul>
            <ul>
              <li> dbmove.cfg
      <ul>
                  <li>included PageviewFig logic</li></ul></li>
            </ul>
            <ul>
              <li> upgrade_1_2
      <ul>
                  <li>put in a bit more error checking.</li></ul></li>
            </ul>
            <ul>
              <li> upgrade_1_2.cfg
      <ul>
                  <li>changed test dirs.</li></ul></li>
            </ul>
            <ul>
              <li> upgrade_2_3
      <ul>
                  <li>initial release.</li>
                  <li>got rid of the use of userpart, and
          move lib version up to 3.0000</li></ul></li>
            </ul>
            <ul>
              <li> upgrade_2_3.cfg
      <ul>
                  <li>initial release.</li>
                </ul></li>
            </ul>
          

        

        
          <h3>Bugs Fixed</h3>
          <ul>
            <li></li>
          </ul>
        
      

      
        <h2>Text Class version 3.0.0</h2>
        
          <h3>New and Changed Functionality</h3>

          <ul>
            <li>TextClass
<ul>
                <li>TextClass has undergone significant re-architecture in order to implement sorting of results by author, title or date and, in cross-collection searches, to inter-file results from all selected collections.  </li>
                <li>The results list is now more consistent across encoding levels.  The initial results list consists of a bibliographic display per item.  </li>
                <li>The user may select a link on the to see detailed search results either as summaries of hits or as key-word-in-context (KWIC).  </li>
                <li>Full support for collection groups is now available via a "group select page" allowing the user to narrow their attention to search a group of related collections.  </li>
                <li>The cross-collection search page now displays the group (if any) within which the collections to be searched reside, along with the other available groups.</li>
                <li>TextClass default templates have been modularized so that, for example, the search page template is a single file supporting all of the search types via "chunks" of html that can be plugged into the master template. The navbar is also a module.  In general, this modularization should reduce the number of files that require modification to effect a site-wide change. </li></ul></li>
            <li> Pageviewer
                <ul>
                <li>Contone pages can now be displayed as well as bitonal pages.</li>
                <li> Pages can be associated with contone "figures" that appear in them.
When displaying the bitonal page, thumbnails of included figures, if
any, are displayed. Each thumbnail has a link built to ImageClass to
display a larger image, with all associated ImageClass behavior
(panning, zooming, etc.)</li>
                <li>There is a new table in the dlxs database called PageviewFig to hold
information about any figure images, and there is a new field in the
Pageview table to hold information about the bit depth of a page image
(related to whether it is bitonal, contone, etc.)</li>
              </ul>
              </li>
          </ul>

          
            <h4>web/t/text</h4>

            <ul>
              <li> accesspolicy.tpl
      <ul>
                  <li>new supporting files for umdl texts</li>
                </ul></li>
            </ul>
            <ul>
              <li> bbagbooleansearchform.chnk
      <ul>
                  <li>Modified bookbag search templates.
          Collapsed to bbagsearch.tpl and search form chunks.</li>
                </ul></li>
            </ul>
            <ul>
              <li> bbagemail.tpl
      <ul>
                  <li>minor fixes to header.tpl, and bbaglist
          and bbagemail to correct labeling of search options.</li>
                </ul></li>
            </ul>
            <ul>
              <li> bbaglist.tpl
      <ul>
                  <li>minor fixes to header.tpl, and bbaglist
          and bbagemail to correct labeling of search options.</li>
                </ul></li>
            </ul>
            <ul>
              <li> bbagproximitysearchform.chnk
      <ul>
                  <li>Modified bookbag search templates.
          Collapsed to bbagsearch.tpl and search form chunks.</li>
                </ul></li>
            </ul>
            <ul>
              <li> bbagsearch.tpl
      <ul>
                  <li>Modified bookbag search templates.
          Collapsed to bbagsearch.tpl and search form chunks.</li>
                </ul></li>
            </ul>
            <ul>
              <li> bbagsimplesearchform.chnk
      <ul>
                  <li>Modified bookbag search templates.
          Collapsed to bbagsearch.tpl and search form chunks.</li>
                </ul></li>
            </ul>
            <ul>
              <li> bib.tpl
      <ul>
                  <li>Removal, since these are superseded
          by search.tpl and html chunking.</li>
                </ul></li>
            </ul>
            <ul>
              <li> bibext.tpl
      <ul>
                  <li>Removal, since these are superseded
          by search.tpl and html chunking.</li>
                </ul></li>
            </ul>
            <ul>
              <li> bibsearchform.chnk
      <ul>
                  <li>Ongoing work with collection/group
          selection. Template consolidation using chunks and
          only one search page (search.tpl) to handle all "ext"
          type pages and search types.</li>
                </ul></li>
            </ul>
            <ul>
              <li> boolean.tpl
      <ul>
                  <li>Removal, since these are superseded
          by search.tpl and html chunking.</li>
                </ul></li>
            </ul>
            <ul>
              <li> booleanbbag.tpl
      <ul>
                  <li>Modified bookbag search templates.
          Collapsed to bbagsearch.tpl and search form chunks.
          So, old bbag search tpls not needed.</li>
                </ul></li>
            </ul>
            <ul>
              <li> booleanext.tpl
      <ul>
                  <li>Removal, since these are superseded
          by search.tpl and html chunking.</li>
                </ul></li>
            </ul>
            <ul>
              <li> booleansearchform.chnk
      <ul>
                  <li>Chunking in more generic searchext
          form and ongoing groups/collections selection work.</li>
                  <li>Ongoing work with collection/group
          selection. Template consolidation using chunks and
          only one search page (search.tpl) to handle all "ext"
          type pages and search types.</li>
                </ul></li>
            </ul>
            <ul>
              <li> browse_template.tpl
      <ul>
                  <li>replaced dynamically built references
          to plug.gif with static ones in all tpl files</li>
                </ul></li>
            </ul>
            <ul>
              <li> browsecolls.tpl
      <ul>
                  <li>Initial commit of collection browsing
          page.</li>
                  <li>Hard paths to graphics files (to avoid
          numerous GRAPHICS_PATH PI resolutions).</li>
                  <li>updated js code for new menus</li>
                  <li>updated search form chunkfiles to include
          collection specific field pis. Also added nav header
          chunks to header.tpl and reslist.tpl</li>
                </ul></li>
            </ul>
            <ul>
              <li> browsetabstyles.css
      <ul>
                  <li>Creation of NAV_TAB_STYLE_OVERRIDES
          PI and supporting code and files.</li>
                </ul></li>
            </ul>
            <ul>
              <li> header.tpl
      <ul>
                  <li>First checkpoint on Branch_1_results_groups</li>
                  <li>Removed &lt;?GRAPHICS_PATH&gt; PI for plug.gif</li>
                  <li>updated search form chunkfiles to include
          collection specific field pis. Also added nav header
          chunks to header.tpl and reslist.tpl</li>
                </ul></li>
            </ul>
            <ul>
              <li> home.tpl
      <ul>
                  <li>Initial commit of new splash page to
          replace previous "home.tpl".</li>
                  <li>changes to search form chunks implement
          a change to the search submit button eliminating the
          type=image. change to search.js adds a line or to
          to the pageinit function that unchecks all the collname
          checkboxes if the selected group is "ALLSELECTED",
          or the colls by title list.</li>
                </ul></li>
            </ul>
            <ul>
              <li> index.html
      <ul>
                  <li>these files are no longer used, since
          the counts of collections and text is dynamically
          calculated and the home.tpl file is used for display.</li></ul></li>
            </ul>
            <ul>
              <li> jsheader.chnk
      <ul>
                  <li>Ongoing work with collection/group
          selection. Template consolidation using chunks and
          only one search page (search.tpl) to handle all "ext"
          type pages and search types.</li>
                </ul></li>
            </ul>
            <ul>
              <li> mm_menu.js
      <ul>
                  <li>Adding of mm_menu.js.</li>
                </ul></li>
            </ul>
            <ul>
              <li> navheader.chnk
      <ul>
                  <li>Ongoing work for group/collection selection.</li>
                  <li>Chunking in more generic searchext
          form and ongoing groups/collections selection work.</li>
                  <li>Ongoing work with collection/group
          selection. Template consolidation using chunks and
          only one search page (search.tpl) to handle all "ext"
          type pages and search types.</li>
                  <li>Removed reference to "searching UMDL
          Collections" since other information about the collection
          or group being searched is already present.</li>
                  <li>updated search form chunkfiles to include
          collection specific field pis. Also added nav header
          chunks to header.tpl and reslist.tpl</li>
                  <li>added graphics. updates to css. fixed
          form wrap in ww form, and some link problems in navheader.chnk</li>
                  <li>navheader now includes bookbag notification
          search form chunk files now have fix in layout for
          specific restriction elements search tpl fixed now
          so that loose table cell end tags don't' hang around
          in some circumstances</li>
                  <li>fixed affecting netscape display of
          standalone search forms.</li>
                  <li>many changes to all search and bbagsearch
          form chunk files. all bbagsearchform chunk files should
          now be consistent with the rest of the search forms.
          Also restored search_restrictions PI to search.tpl.
          minor fixes to text class.css</li>
                </ul></li>
            </ul>
            <ul>
              <li> newmaterial.tpl
      <ul>
                  <li>new supporting files for umdl texts</li>
                </ul></li>
            </ul>
            <ul>
              <li> pageviewer.frameset.tpl
      <ul>
                  <li>tweaking navheaderchunk and searchform
          chunks. Added also navhaeder chunk to pageviewer.nav.
          ww search links are included on search forms, but
          not yet in the navigation pulldown menu</li>
                </ul></li>
            </ul>
            <ul>
              <li> pageviewer.js
      <ul>
                  <li>removed unnecessary lines from pageviewer.js</li>

                  <li>edited the pageviewer.js file so that
          the open window function would work minimally.</li></ul></li>
            </ul>
            <ul>
              <li> pageviewer.main.tpl
      <ul>
                  <li>Addition of figures PI.</li></ul></li>
            </ul>
            <ul>
              <li> pageviewer.nav.tpl
      <ul>
                  <li>changed pageview.nav.tpl to fix a target
          bug in the nav links. Updated and commented much of
          text class.css</li>
                  <li>tweaking navheaderchunk and searchform
          chunks. Added also navhaeder chunk to pageviewer.nav.
          ww search links are included on search forms, but
          not yet in the navigation pulldown menu</li>
                  <li>added graphics. updates to css. fixed
          form wrap in ww form, and some link problems in navheader.chnk</li>
                </ul></li>
            </ul>
            <ul>
              <li> pageviewer.pagenav.tpl
      <ul>
                  <li>tweaking navheaderchunk and searchform
          chunks. Added also navhaeder chunk to pageviewer.nav.
          ww search links are included on search forms, but
          not yet in the navigation pulldown menu</li>
                </ul></li>
            </ul>

            <ul>
              <li> proximity.tpl
      <ul>

                  <li>Removal, since these are superseded
          by search.tpl and html chunking.</li>
                </ul></li>
            </ul>
            <ul>
              <li> proximitybbag.tpl
      <ul>
                  <li>Modified bookbag search templates.
          Collapsed to bbagsearch.tpl and search form chunks.
          So, old bbag search tpls not needed.</li>
                </ul></li>
            </ul>
            <ul>
              <li> proximityext.tpl
      <ul>
                  <li>Removal, since these are superseded
          by search.tpl and html chunking.</li>
                </ul></li>
            </ul>
            <ul>
              <li> proximitysearchform.chnk
      <ul>
                  <li>Ongoing work with collection/group
          selection. Template consolidation using chunks and
          only one search page (search.tpl) to handle all "ext"
          type pages and search types.</li>
                  <li>additional adjustments to headernav.chnk
          --including addition of auth and umdl home links--and
          adjustments to all search forms to fix an alignment
          problem.</li>
                  <li>fixed small bug in search.js pageinit
          function, and straightened out some alignment issues
          in the search form chunks.</li>
                  <li>changes to search form chunks implement
          a change to the search submit button eliminating the
          type=image. change to search.js adds a line or to
          to the pageinit function that unchecks all the collname
          checkboxes if the selected group is "ALLSELECTED",
          or the colls by title list.</li>
                </ul></li>
            </ul>
            <ul>
              <li> reslist.tpl
      <ul>
                  <li>First checkpoint on Branch_1_results_groups</li>
                  <li>Removed &lt;?GRAPHICS_PATH> PI for plug.gif</li>

                  <li>updated search form chunkfiles to include
          collection specific field pis. Also added nav header
          chunks to header.tpl and reslist.tpl</li>
                  <li>fix occ=2 for second occurrence of
          nav links</li>
                  <li>Changed SEARCH_TYPE to SEARCH_TYPE_NAME</li>
                </ul></li>
            </ul>
            <ul>
              <li> search.js
      <ul>
                  <li>Chunking in more generic searchext
          form and ongoing groups/collections selection work.</li>
                  <li>Ongoing work with collection/group
          selection. Template consolidation using chunks and
          only one search page (search.tpl) to handle all "ext"
          type pages and search types.</li>
                </ul></li>
            </ul>
            <ul>
              <li> search.tpl
      <ul>
                  <li>Ongoing work with collection/group
          selection. Template consolidation using chunks and
          only one search page (search.tpl) to handle all "ext"
          type pages and search types.</li>
                  <li>Added PI for hidden variable for search
          type within the form, based on the URL's page parameter
          (now that all types are using the same template).</li>
                  <li>Added PI for hidden variable for REQUESTED_COLLECTIONS
          and BOOKBAG, left out of mockup.</li>
                  <li>Creation of NAV_TAB_STYLE_OVERRIDES
          PI and supporting code and files.</li>
                  <li>changes to navigation chunk, search.tpl,
          and associated css files to implement the horizontal
          navigation menu to all pages</li>
                  <li>Added HIDDEN_XG PI.</li>
                  <li>added &lt;?HIDDEN_DEBUG></li>
                </ul></li>
            </ul>
            <ul>
              <li> searchext.tpl
      <ul>
                  <li>Chunking in more generic searchext
          form and ongoing groups/collections selection work.</li>
                </ul></li>
            </ul>
            <ul>
              <li> searchhistory.tpl
      <ul>
                  <li>added new styles to text class.css to
          handle fonts for l2 pages form the portal home page.
          Changed searchhistory.tpl so that it would resemble
          other searches</li>
                </ul></li>
            </ul>
            <ul>
              <li> searchtabstyles.css
      <ul>
                  <li>Creation of NAV_TAB_STYLE_OVERRIDES
          PI and supporting code and files.</li>
                </ul></li>
            </ul>
            <ul>
              <li> simple.tpl
      <ul>

                  <li>Removal, since these are superseded
          by search.tpl and html chunking.</li>
                </ul></li>
            </ul>
            <ul>
              <li> simplebbag.tpl
      <ul>
                  <li>Modified bookbag search templates.
          Collapsed to bbagsearch.tpl and search form chunks.
          So, old bbag search tpls not needed.</li>
                </ul></li>
            </ul>
            <ul>
              <li> simpleext.tpl
      <ul>

                  <li>Removal, since these are superseded
          by search.tpl and html chunking.</li>
                </ul></li>
            </ul>
            <ul>
              <li> simplesearchform.chnk
      <ul>
                  <li>Chunking in more generic searchext
          form and ongoing groups/collections selection work.</li>
                  <li>updated search form chunkfiles to include
          collection specific field pis. Also added nav header
          chunks to header.tpl and reslist.tpl</li>
                </ul></li>
            </ul>
            <ul>
              <li> splash.tpl
      <ul>
                  <li>replaced dynamically built references
          to plug.gif with static ones in all tpl files</li></ul></li>
            </ul>
            <ul>
              <li> text.picklist.tpl
      <ul>
                  <li>replaced dynamically built references
          to plug.gif with static ones in all tpl files</li></ul></li>
            </ul>
            <ul>
              <li> text.tpl
      <ul>
                  <li>additional adjustments to headernav.chnk
          --including addition of auth and umdl home links--and
          adjustments to all search forms to fix an alignment
          problem.</li>
                </ul></li>
            </ul>
            <ul>
              <li> textclass.css
      <ul>

                  <li>added new styles for the collection
          browse page,added new styles for results and navigation,
          and weeded out a lot of the old style declarations</li>

                  <li>Added .indentlevel0 to support inline
          summaries following pages in level 1 and 2 material</li>

                  <li>Added some additional indent levels
          for outline layout (vs. breadcrumb)</li>
                  <li>added new styles to textclass.css to
          handle fonts for l2 pages form the portal home page.
          Changed searchhistory.tpl so that it would resemble
          other searches</li>
                </ul></li>
            </ul>
            <ul>
              <li> textclass.js
      <ul>
                  <li>Added a mechanism to popupNotesWindow()
          to fork off a new window for note links contained
          within the note popup window itself and so on recursively.
          Fixes javascript problem in Netscape where clicking
          on the second link failed to replace the URL content
          of the original popup, hanging instead.</li></ul></li>
            </ul>
            <ul>
              <li> viewtextnote.tpl
      <ul>
                  <li>added graphics. updates to css. fixed
          form wrap in ww form, and some link problems in navheader.chnk</li></ul></li>
            </ul>

            <ul>
              <li> ww-fullform.chnk
      <ul>
                  <li>new chunks for wwheel</li>
                </ul></li>
            </ul>
            <ul>
              <li> ww-startform.chnk
      <ul>
                  <li>new chunks for wwheel</li>
                </ul></li>
            </ul>

          
          
            <h4>bin/t/text</h4>


            <ul>
              <li> importpageviewdata.pl
      <ul>
                  <li>bug fixes: * check, rework parameters
          used to effect directory recursion (File::Find) enhancements:
          * add capability to skip directories which contain
          a file named ".importpageviewdata.skip"</li>
                  <li>bug fixes: * correct typo in output
          generated by new directory skipping function</li></ul></li>
            </ul>
            <ul>
              <li> makepageviewdata.pl
      <ul>
                  <li>Initial commit of makepageview.data.pl</li>
                </ul></li>
            </ul>

          
            <h4>cgi/t/text</h4>

            <ul>
              <li> DlpsLocalUtils.pm
      <ul>
                  <li>Fix 'view entire link, add InMyOwnWOrld
          method</li>

                  <li>Changed calls to CgiToHtmlTemplate
          and such to use DlpsUtils routines.</li>
                  <li>use DlpsUtils qw( :DEFAULT ); not use
          DlpsUtils;</li>
                  <li>Change to move call to ValidityChecks
          to TextApp subclass's' initialize method and to group
          various functions in the initialize method to allow
          further subclassing. Changed calls to CgiToHtmlTemplate
          to use the formerly global, now member data version
          of the pages handled hash.</li>
                  <li>branches: 1.13.2; Fixed ASSERT in DlpsIdResolver()
          in call to CgiToHtmlTemplate() where $self was used
          instead of the parent app of the tco in question.</li>
                  <li>Changed CheckIdMatches to search for
          matches in all cases except when the idno has a volume/issue
          extension (such as "0001.001").</li>

                  <li>Changed IdResolver trap so that it
          would use whatever IDNO region is mapped in the specific
          collection's map file.</li>

                  <li>Fixed PVApp.pm initialize to properly
          call AddClassObjects, so that the 'parentapp' key
          was defined, it in turn being needed in DlpsLocalUtils's
          DlpsResolver trap. Also fixed textclass.cfg's pages
          handled for pageviewer.</li>
                </ul></li>
            </ul>
            <ul>
              <li> PVApp.pm
      <ul>

                  <li>removed GenComputeTime() now in DlpsUtils</li>
                  <li>Fix 'view entire link, add InMyOwnWOrld
          method</li>
                  <li>Added digit to regexp on dev directory
          name (for branching in development work) in routine
          to clean path names when in remote mode.</li>
                  <li>Removed qw( :standard :html3 escape
          unescape escapeHTML ) from all "use CGI" pragmas.
          8% performance improvement.</li>
                  <li>Added handling of JS_PATH PI to frameset
          handling.</li>
                  <li>Changed calls to CgiToHtmlTemplate
          and such to use DlpsUtils routines.</li>

                  <li>Remove userpath, userpart old workdir
          model</li>
                  <li>Remove userpath, userpart old workdir
          model</li>
                  <li>Change to move call to ValidityChecks
          to TextApp subclass's' initialize method and to group
          various functions in the initialize method to allow
          further subclassing. Changed calls to CgiToHtmlTemplate
          to use the formerly global, now member data version
          of the pages handled hash.</li>
                  <li>Changes in initialize to segregate
          setting of member data (offshoot of changes in 'pageshandled'
          hash).</li>
                  <li>add validity checks to initialize</li>
                  <li>Changes to pageviewer to allow for
          contone figures within bitonal pages and contone pages.
          Note: this is in conjunction with the addition of the
          dlxs database's PageviewFig table and the bpp field
          in the Pageview table.</li>
                  <li>Changes for figure navigation.</li>
                </ul></li>
            </ul>
            <ul>
              <li> PageView.cfg
      <ul>
                  <li>Changes to pageviewer to allow for
          contone figures within bitonal pages and contone pages.
          Note: this is in conjunction with the addition of the
          dlxs database's PageviewFig table and the bpp field
          in the Pageview table.</li></ul></li>
            </ul>
            <ul>
              <li> PageView.pm
      <ul>

                  <li>Change to move call to ValidityChecks
          to TextApp subclass's' initialize method and to group
          various functions in the initialize method to allow
          further subclassing. Changed calls to CgiToHtmlTemplate
          to use the formerly global, now member data version
          of the pages handled hash.</li>
                  <li>Changes to pageviewer to allow for
          contone figures within bitonal pages and contone pages.
          Note: this is in conjunction with the addition of the
          dlxs database's PageviewFig table and the bpp field
          in the Pageview table.</li>
                  <li>Fixed typo in tif2gif handler.</li>
                  <li>Added debugging to daemon call routine.</li></ul></li>
            </ul>
            <ul>
              <li> TextApp.pm
      <ul>

                  <li>Use byte offsets for speed</li>
                  <li>Use QueryFactory for all id searches
          and begin boolean kwic search work.</li>

                  <li>Added boolean kwic and slicing thereof</li>

                  <li>Next/previous item links</li>

                  <li>Ongoing changes to search page handling.
          Added HIDDEN_XG PI and building of hidden "c" and
          building of collection list with checkboxes based
          on number of "c" params in URL.</li>

                  <li>Fix broken view entire text link</li>
                  <li>Work enhancements to support bytemode
          in XPat</li>
                  <li>Added node/idno parameter to BuildMainEntry
          and BuildSerialEntry for overrides that need to build
          links</li>
                  <li>Remove citerestrict if cite is empty;remove
          submit.x, submit.y</li>
                  <li>Added subsorting by title for date
          and author</li>
                  <li>Fixed "view text" links to go to first
          page pageviewer of iel 1 and first page of article
          in iel 2</li>

                  <li>Added item-level search test routine,
          added removal of sort menu when over threshold</li>
                  <li>Added sortflds collmgr field processing</li>

                  <li>Reset start=1 if sort order changes.
          Fix cross class sort menu and search code if all collections
          do no share all of the sort types.</li>
                  <li>Fix type=bib searches and make the
          naming of the bib search (Bibliography) consistent.</li>

                  <li>Removed qw( :standard :html3 escape
          unescape escapeHTML ) from all "use CGI" pragmas.
          8% performance improvement.</li>
                  <li>More error reporting for XPat errors</li>
                  <li>ASSERT that 'idno' has a 'cc' in URL</li>
                  <li>Changed calls to CgiToHtmlTemplate
          and such to use DlpsUtils routines.</li>
                  <li>Remove userpath, userpart old workdir
          model</li>
                </ul></li>
            </ul>
            <ul>
              <li> TextClass.pm
      <ul>

                  <li>Added $dso param to some methods</li>
                  <li>typo</li>
                  <li>Changes for ALLSELECTED=1 and prev/next
          item links</li>
                  <li>Fix 'view entire link, add InMyOwnWOrld
          method</li>

                  <li>Added parameters to StripMainHeader()
          and cosmetic byte mode changes</li>

                  <li>Added node/idno parameter to BuildMainEntry
          and BuildSerialEntry for overrides that need to build
          links</li>
                  <li>fix StripDivhead param order</li>

                  <li>Added parameter to RemoveTags() to
          make it remove entire elements or just the tags</li>
                  <li>Added subsorting by title for date
          and author</li>
                  <li>Sort quoted titles correctly</li>
                  <li>use correct "main" (article)
            region to query for hits summary in serialissue encodingtype
            (moajrnl)</li>
                  <li>Added debugging. Fixed sorting for
            the case where there are missing dates or authors.
            We have to do 2 queries: one for the dates and one
            for the titles in headers without dates and merge
            the results in an rset. Cant be done in one query
            because there are 2 regions (date and title) but the
            pr.region.... command only lets us spec one of them.
            The same for author too. Removed ALLSELECTED from
            the CGI object before constructing the cache key --
            ALLSELECTED is analogous to the cc -- it should not
            appear.</li>
                  <li>Fixed "view text" links to go to first
            page pageviewer of iel 1 and first page of article
            in iel 2</li>
                  <li>New routines BuildLinkToFirstIdnoPage(
            $cgi, $dso, $xpat, $idno, $iel ); and BuildLinkToFirstNodePage(
            $cgi, $dso, $xpat, $idno, $node, $iel ); replacing
            ones that were iel specific</li>
                  <li>Added params to FigureFilter()</li>
                  <li>VIEW_ENTIRE_TEXT_LINK no includes entire
            html content for complete over-ride if desired</li>
                  <li>Added some additional indent levels
            for outline layout (vs. breadcrumb) and implemented
            detailviewayout in db</li>

                  <li>Added sortflds collmgr field processing</li>
                  <li>Added ftr to PB filter so the "all
            pages' can list the page type if available as well
            as the pages</li>
                  <li>Changed 'view text' to 'view first
            page' for lel &lt; 3</li>

                  <li>Added PI handler for "add to bookbag"
            link in header.tpl</li>
                  <li>Fix type=bib searches and make the
            naming of the bib search (Bibliography) consistent.</li>



                  <li>Removed qw( :standard :html3 escape
            unescape escapeHTML ) from all "use CGI" pragmas.
            8% performance improvement.</li>
                  <li>Enhance &lt;PTR> note handling allowing
            reference to pointer targets in different texts within
            the same collection. For ecf.</li>

                  <li>Enhanced Filter_NOTEn_NotesForText()
            to use content as well as ID to uniquify note.</li>

                  <li>More work on Filter_NOTEn_NotesForText
            allowing for note content having been previously highlighted
            by TextFilter()</li>

                  <li>Remove userpath, userpart old workdir
            model</li>

                  <li>When Refining a search within an item
            after already having refined once, the search searches
            across that item. It use to search across the entire
            collection after Refining more than once. When Refining
            the search within a bookbag after already having refined
            once, the search searches across the contents of
            the bookbag. It use to search across the entire collection
            after Refining more than once.</li>
                </ul></li>
            </ul>
            <ul>
              <li> TextClassUtils.pm
      <ul>

                  <li>Added PIs and methods to grab total
          collection and total group numbers.</li>

                  <li>Work for Group/Collection selection:
          handling of browsecolls (groups) page.</li>

                  <li>Creation of NAV_TAB_STYLE_OVERRIDES
          PI and supporting code and files.</li>
                  <li>Ongoing changes to search page handling.
          Added HIDDEN_XG PI and building of hidden "c" and
          building of collection list with checkboxes based
          on number of "c" params in URL.</li>

                  <li>Changed WW_NAV to look only and collection
          number and type rather than xcollmode.</li>
                  <li>Changed PI handler for TITLE to call
          HOME_LINK handler</li>
                  <li>Fixed up a couple of link building
          routines that need to set ALLSELECTED=1 and moved
          a tco access based on cc to the case where there'll
          actually be a cc.</li>
                  <li>Added tpl=home.tpl in "collection home"
          links in collection list of cross-collection mode.</li>

                  <li>In the building of a "word index" link
          in the nav bar's search pull down, added a test to
          see if in xcoll mode. So, even if there is only one
          c (that does have a word wheel index), no link to
          wordwheel will be built if there is a "xc" parameter.</li>
                  <li>In the building of a "word index" link
          in the nav bar's search pull down, changed the test
          to use the xcollmode saved on the $dso (which in turn
          meant passing the $dso to the IncludeExcludeNavLinks
          routine.</li>
                  <li>Changes to building of home link to
          use fallback for finding home.tpl.</li>
                  <li>Added xg parameter to links on groups
          (and "all collections" ) when in xg mode, so that
          the left frame (with aforementioned links) continues
          to be built.</li>
                  <li>Added logic to force intersection of
          values in region pulldown in search forms to 'full
          text' for simple and proximity and 'works' for other
          search types. Javascript in search.js will need to
          have the same logic (although it intersects values
          from the arrays built from the CGI grabbing colldb
          values).</li>
                  <li>Added IsItemLevelRegion()</li>
                  <li>Fixed searchhistory template PI handling
          (NAV_TAB_STYLE_OVERRIDES and SEARCH_TYPE_TEXT).</li>
                  <li>Fixed inclusion of search restrictions
          in search pages.</li>

                  <li>Fix type=bib searches and make the
          naming of the bib search (Bibliography) consistent.</li>
                  <li>Removed the last of the gender/genre/language
          selection code and the javascript arrays build on
          their basis</li>
                  <li>Fix search within, add alt to img tag
          for graphic title. There were diffs from main trunk</li>

                  <li>added &lt;?HIDDEN_DEBUG></li>
                  <li>Changed code in IncludeExcludeNavLinks
          to properly determine whether to include a wordwheel
          search link in the nav bar's Search popup menu.</li>

                  <li>Fix HIDDEN_VARS PI for bbagemail.tpl
          so that the c= parameter is among those added as hidden
          vars so that the cgi does not acquire all c= in the
          database and select the cross-collection template
          instead of the ACLS bbaglist.tpl</li>
                  <li>Removed qw( :standard :html3 escape
          unescape escapeHTML ) from all "use CGI" pragmas.
          8% performance improvement.</li>
                  <li>Changed calls to CgiToHtmlTemplate
          and such to use DlpsUtils routines.</li>
                  <li>Remove userpath, userpart old workdir
          model</li>

                  <li>MakeTextOrGraphicLink: added required
          alt tag to img tag</li>
                  <li>Added PI's to display number of collections
          on line and number of text in the home.tpl template.</li>
                  <li>MakeTextOrGraphicLink: pass in an extra
          variable, $alt for the img alt tag. ProcessGraphicsPathPI
          ProcessJavascriptPathPI changed to handle fall back
          problems caused by groups.</li>
                  <li>added $piParamHashRef to BuildPullDown
          method used by PI.</li>
                </ul></li>
            </ul>
            <ul>
              <li> WWApp.pm
      <ul>

                  <li>removed GenComputeTime() now in DlpsUtils</li>

                  <li>Removed qw( :standard :html3 escape
          unescape escapeHTML ) from all "use CGI" pragmas.
          8% performance improvement.</li>
                  <li>Changed calls to CgiToHtmlTemplate
          and such to use DlpsUtils routines.</li>
                  <li>Remove $main::user[name|part] workdir
          syntax</li>
                  <li>branches: 1.11.2; Fix pageviewer bug
          cause by using wrong hashes for CgiToHtmlTemplate()</li>
                  <li>Add cc to quicklink so HandleGeneralProcIns
          -. IncludeExcludeRestrictions can get a tco from the
          cc (even though it does not need to process any pis
          in the given page</li>
                </ul></li>
            </ul>
            <ul>
              <li> pageviewer-idx
      <ul>
                  <li>Removed qw( :standard :html3 escape
          unescape escapeHTML ) from all "use CGI" pragmas.
          8% performance improvement.</li>
                  <li>Remove userpath, userpart old workdir
          model</li>

                  <li>Changes to pageviewer to allow for
          contone figures within bitonal pages and contone pages.
          Note: this is in conjunction with the addition of the
          dlxs database's PageviewFig table and the bpp field
          in the Pageview table.</li></ul></li>
            </ul>
            <ul>
              <li> text-idx
      <ul>

                  <li>Bump version to 4.0000, use LibVersion
          3.0</li>
                  <li>Removed qw( :standard :html3 escape
          unescape escapeHTML ) from all "use CGI" pragmas.
          8% performance improvement.</li>
                </ul></li>
            </ul>
            <ul>
              <li> textclass.cfg
      <ul>

                  <li>Rearranged template hash.</li>
                  <li>Work for Group/Collection selection:
          handling of browsecolls (groups) page.</li>
                  <li>Added some tpl file names to template
          hash.</li>

                  <li>Ongoing work for collection/group selection.</li>
                  <li>Added several items to the SingularizePluralizeTerm
          hash</li>


                  <li>Added a few singular/plural pairs</li>
                  <li>Added sort message global</li>
                  <li>Modified bookbag search templates.
          Collapsed to bbagsearch.tpl and search form chunks.</li>
                  <li>Added sortflds collmgr field processing</li>

                  <li>remove userpart/userpath</li>
                  <li>Fixed Refine Search.</li>

                  <li>replaced 'text' with $TCGlobals::gClassName</li>
                </ul></li>
            </ul>
            <ul>
              <li> ww2-idx
      <ul>
                  <li>Removed qw( :standard :html3 escape
          unescape escapeHTML ) from all "use CGI" pragmas.
          8% performance improvement.</li>
                  <li>Remove $main::user[name|part] workdir
          syntax</li>
                  <li>Remove userpath, userpart old workdir
          model</li></ul></li>
            </ul>

            <ul>
              <li> TextClass/SampleTC.pm
      <ul>
                  <li>use DlpsUtils qw( :DEFAULT ); not use
          DlpsUtils;</li></ul></li>
            </ul>
          
          
            <h4>misc/t/text/maps</h4>

            <ul>
              <li> ALL maps
      <ul>
                  <li>changes for results display work (mainly
          ID mappings)</li>
                </ul></li>
            </ul>

            <ul>
              <li> sampletc.map
      <ul>
                  <li>removed mapping of operators that started
          with Capital, and added some more operator mappings.</li></ul></li>
            </ul>


          

        

        
          <h3>Bugs Fixed</h3>
          <ul>
            <li></li>

          </ul>
        
      

      
        <h2>Bib Class version 2.3.0</h2>
        
          <h3>New and Changed Functionality</h3>


          
            <h4>web/b/bib</h4>

            <ul>
              <li> bibclass.css
        <ul>
                  <li>added a style declaration for P to
            assure that Ps and LIs would render the same font
            family.</li>
                  <li>added class "normal"</li></ul></li>
            </ul>
            <ul>
              <li> boolean.tpl
        <ul>
                  <li>Put in a missing &lt;tr>.</li></ul></li>
            </ul>
          

          
            <h4>cgi/b/bib</h4>


            <ul>
              <li> AUTHZD_COLL_sample
        <ul>
                  <li>Initial</li></ul></li>
            </ul>
            <ul>
              <li> BibApp.pm
        <ul>
                  <li>removed GenComputeTimes() now in DlpsUtils</li>
                  <li>AddClassObjects now take the requestedCollArr
            instead of grabbing it internally so pass this arra
            in now.</li>
                  <li>Added $cgi parameter to call to DlpsUtils::GetDefaultFileForCGC.</li>
                  <li>removed qw( :standard :html3 escape
            unescape escapeHTML ) from "use CGI" pragmas. 8% performance
            improvement.</li>
                  <li>Changes integrating the DlpsUtils fallback
            routines into BibClass removing the BibClass versions
            of GetDefaultFileForCGC() and CgiToHtmlTemplate().
            In conjunction with: Enhanced fallback for ImageClass
            using a new mode "groupcoll" which supports fallback
            for the case of a single c= appearing with a g= The
            fallback is from coll to group to default group to
            class. Also support for "defaultgroupid" in Collection
            table when it is added to the database schema. This
            allows singlecoll mode 'to fallback form coll to default
            group to class, again for imageclass and probably
            textclass.</li>
                  <li>remove userpart/userpath</li>
                  <li>Changed order of input parameters to
            ClumpsToSlices.</li>
                  <li>Fix asserion error when navigating
            via fisheye. Clumps array was gobbling up the lat
            parameter in ClumpsToSlices() leaving $mainsearchCount
            undefined.</li>
                  <li>added new parameter for display when
            collections from a group are listed.</li>

                  <li>Fixed revise search bug, and added
            routine to handle other pages.</li>

                  <li>Change to move call to ValidityChecks
            to BibApp subclass's' initialize method and to group
            various functions in the initialize method to allow
            further subclassing (e.g., template pages hash) and
            better ordering (e.g., ValidityChecks needing to first
            check member data and then later possibly changing
            the CGI object for downstream QueryFactory functions).
            Changed calls to CgiToHtmlTemplate to use the formerly
            global, now member data version of the pages handled
            hash.</li>
                  <li>Changed order of method calls within
            intitialize.</li>
                  <li>branches: 1.50.2; Added a new member
            data that is used by the GIS subclass as a label in
            the collection list for the number of datasets in
            a collection, and whether the dataset is available
            throught the UM Spatial Data Server.</li>
                </ul></li>
            </ul>
            <ul>
              <li> BibClass.pm
        <ul>
                  <li>removed qw( :standard :html3 escape
            unescape escapeHTML ) from "use CGI" pragmas. 8% performance
            improvement.</li>
                  <li>fixed email and download filter so
            that Kat's parameters are not displayed.</li>
                  <li>removed bib identification tags from
            being displayed in the long, and short display.</li>
                  <li>Change to move call to ValidityChecks
            to BibApp subclass's' initialize method and to group
            various functions in the initialize method to allow
            further subclassing (e.g., template pages hash) and
            better ordering (e.g., ValidityChecks needing to first
            check member data and then later possibly changing
            the CGI object for downstream QueryFactory functions).
            Changed calls to CgiToHtmlTemplate to use the formerly
            global, now member data version of the pages handled
            hash.</li>
                  <li>changed order of elements</li></ul></li>
            </ul>
            <ul>
              <li> BibClassUtils.pm
        <ul>
                  <li>Changed order of input parameters to
            ClumpsToSlices.</li>
                  <li>Fix asserion error when navigating
            via fisheye. Clumps array was gobbling up the lat
            parameter in ClumpsToSlices() leaving $mainsearchCount
            undefined.</li>
                  <li>change a couple of hard coded apmersands
            that delimit cgi name-value pairs to semicolons</li></ul></li>
            </ul>
            <ul>
              <li> bib-idx
        <ul>
                  <li>removed qw( :standard :html3 escape
            unescape escapeHTML ) from "use CGI" pragmas. 8% performance
            improvement.</li>
                  <li>remove userpart/userpath</li>
                  <li>Change to move call to ValidityChecks
            to BibApp subclass's' initialize method and to group
            various functions in the initialize method to allow
            further subclassing (e.g., template pages hash) and
            better ordering (e.g., ValidityChecks needing to first
            check member data and then later possibly changing
            the CGI object for downstream QueryFactory functions).
            Changed calls to CgiToHtmlTemplate to use the formerly
            global, now member data version of the pages handled
            hash.</li>
                  <li>Spaces added to make more clear in
            notes.</li>
                  <li>use LibVersion 3.0</li>
                </ul></li>
            </ul>
            <ul>
              <li> bibclass.cfg
        <ul>
                  <li>Changes integrating the DlpsUtils fallback
            routines into BibClass removing the BibClass versions
            of GetDefaultFileForCGC() and CgiToHtmlTemplate().
            In conjunction with: Enhanced fallback for ImageClass
            using a new mode "groupcoll" which supports fallback
            for the case of a single c= appearing with a g= The
            fallback is from coll to group to default group to
            class. Also support for "defaultgroupid" in Collection
            table when it is added to the database schema. This
            allows singlecoll mode 'to fallback form coll to default
            group to class, again for imageclass and probably
            textclass.</li>
                  <li>remove userpart/userpath</li>
                  <li>Fix asserion error when navigating
            via fisheye. Clumps array was gobbling up the lat
            parameter in ClumpsToSlices() leaving $mainsearchCount
            undefined.</li>
                  <li>Fixed revise search bug, and added
            routine to handle other pages.</li></ul></li>
            </ul>

          

          
            <h4>misc/b/bib/maps</h4>


            <ul>
              <li> bib.map
        <ul>
                  <li>Added >article main heading: region
            KW to fix times bug where region was listed in the
            database but the region was not mapped</li></ul></li>
            </ul>

          
        
        
          <h3>Bugs Fixed</h3>
          <ul>
            <li></li>
          </ul>
        
      



      
        <h2>Image Class version 2.5.0</h2>
        
          <h3>New and Changed Functionality</h3>

          
            <h4>web/i/image</h4>

            <ul>
              <li> templates and style sheets
        <ul>
                  <li>
Significant changes were made to certain processing instructions. There is backward compatibility, however use of the PATH PI and the corresponding ImageClassUtils::pathByType subroutine is deprecated. A combination of the following PIs is now preferred: FBFILE (builds a link to a file in the web space using standard fallback mechanisms to determine the path), JAVASCRIPTURL, and CGIROOT.  Class level stylesheet files are now hardcoded paths relative to the web server docroot. Previously the paths were generated with a PI and fallback, which isn't actually appropriate since the class level style sheet file is always linked as a default. Also, an instance of the INSERTTEXT PI was added to the entry.tpl file. It is configured to insert into the template the contents of a file called "entryinfo.tpl". This is to facilitate the display of collection specific information in the entry template, such as a blanket copyright statement.
            </li>

                  <li>
The "onload" statement was removed from the BODY tag. It contained a javascript preload command that was attempting to load image files that do not exist and are not necessary. It also caused a lot of unnecessary server error log entries. The onload statement should be removed from all copies of the entry.tpl template.
            </li>


                  <li>
Templates were modified to fix a problem Netscape 4x had with the way the style sheets were being loaded.
             </li>

                  <li>
entry.tpl was modified to move the header into each div. this allows the current div view (full image, description, etc. ) to be "sticky" while navigating to next/prev entries. it also allows other aspects of the view to be "sticky", for example the image size viewed. other things are intentionally not "sticky", such as the zoom state.
             </li>

                  <li>
Minor aesthetic changes were made to the slice summary and fisheye. The extra bold tags were removed from around the summary/fisheye at the bottom of the results pages. The css now takes care of making the text bold. Also, a fisheye style was added in order to facilitate customization of the fisheye.
             </li>
                  <li>
reslist, thumbfull, and thumbnail templates were modified simply to set the alignment of the middle column of header 1 to "center". This should keep the "new search" link from colliding with the banner text as it has been.
             </li>
                </ul>
    </li>
            </ul>


            <ul>
              <li> js/imageclass.js
<ul>
                  <li>imageclass.js function "hide" was removed.
                The function "show" can now handle both show and hide.
                The "show" function was updated to support ns6 and
                ie6 in addition to ie4, ie5, and ns4. imageclass.js
                function "MM_showHideLayers" was rewritten to support
                ns6 and ie6 in addition to ie4, ie5, and ns4. Miscellaneous
                unused javascript functions were removed completely.
                The sniffBrowser function was added.</li>
                </ul>
</li>
            </ul>
          


          
            <h4>cgi/i/image</h4>

            <ul>


              <li>Image Class was checked for compatability
                with SGML that does and does not have new lines. Previously
                the middleware expected the SGML to have all newlines
                removed. Now it will work either way. One benefit
                of this is a reduction of storage space needed for
                prep files.</li>

              <li>The Image Class dependency on the group
                "all" has been removed. It is no longer necessary
                to have a group "all" and it is fine for a collection
                to not be any group whatsoever.</li>

              <li>Image Class now uses Lib fallback routines
                for choosing templates, graphics, css, javascript
                files. This, along with similar work done to Text
                Class and Bib Class brings consistency to the way
                the classes handle fallback. It also introduces fallback
                from the group to the class level, which is a significant
                and good change for Image Class. There is also support
                now for default groups to be specified per collection
                in the collection database (though at this moment
                the new field has not been added to the collection
                database.) Standardization of fallback led to global
                variable house cleaning in Image Class. ImageClassUtils::setupPaths
                has been eliminated, taking with it the globals hashes
                previously used for holding essential paths and urls.
                A few other global variables were consolidated or
                simply dropped if not needed.</li>

              <li>Features for turning a field in to
                a linked URL were added to ICLocalUtils::insertField.
                New PI parameters "baseurl" and "urltext" are now
                accepted.</li>

              <li>The Image Class index.tpl page can
                now have a search form on it, using relevant PIs,
                if desired.</li>

              <li>Image Class had been calling ciofactory
                twice in order to make sure that collids for items
                in a bookbag/portfolio were properly resolved and
                marked as requested. It accounted for the fact that
                sometimes bookbag items were coming from a collection
                that hadn't yet been requested/selected for searching.
                As it turns out, calling ciofactory a second time
                wasn't necessary. It works fine to just remove all
                c parameters from the cgi object, which is the same
                as requesting all collections. To make a long story
                short, the code that Image Class used to cull collids
                out of bookbag item ids and to call ciofactory a second
                time has been removed with no apparent side affects.</li>

              <li>A bug was fixed in ImageApp.pm where
                the string sId-placeholder was failing to get converted
                to sId-actualsessionid. This caused Portfolios to
                not work properly in the session-based model.</li>

              <li>An "addPI" command was strategically
                placed in ImageApp.pm so that the bbdel.tpl loads
                cascading style sheets properly. A global switch was
                added to Image Class to turn on and off PUBLIC portfolio
                functionality specifically. It is configurable in
                imageclass.cfg.</li>

              <li>
Modifications were made to the parsing of istruct ids which turned out to be unreliable in rare situations.</li>

              <li> Sorting of results
                was changed so that the default/unsorted order
                is data occurrence order.Results had been getting
                sorted by ID if nothing else. Sorting is now a wee
                bit faster as well. </li>
              <li>
Next/Prev entry navigation in
                the book bag had to be removed do to data retrieveal
                and sorting complications. It didn't work right before,
                so this is not a great loss.</li>

              <li>A global sort threshhold was added to Image Class.</li>

              <li>Changes were made to support "sticky"
                entry views while navigating using next/prev. </li>

              <li>Another minor change was made so that a message
                is left and an assertion error avoided if a portfolio
                item is not found.</li>

              <li>ImageClassUtils::entryDivDisplayButtons
                was changed to suppress display of the "view buttons"
                (for switching between "full image", "description",
                and "other views") in the situation where there is
                only 1 view configured for the collection in CollMgr.</li>

              <li>ImageClassUtils.pm was changed to support
                use of relative rather than absolute image file references
                in the img/index directory. ImageClassUtils.pm is
                backward compatible with previously created index
                directories.</li>

              <li>A bug was fixed in pageBanner subroutine
                that was causing failure of graphic banners.</li>

              <li>The window.opener options were changed
                for entry (full record) views to include menubar,
                location window functionality. Without menubar, it
                was hard to print. Without location, it was hard to
                determine the URL for the page.</li>

              <li>Image Class now utilizes DLXSDATAROOT.</li>

              <li>Certain characters are not allowed
                Image Class field names. makeCollectionmaps-pm now
                filters out such characters and prints a message saying
                it did so.</li>

              <li> AUTHZD_COLL_sample
            <ul>
                  <li>The AUTHZD_COLL file is no longer inluded in the DLXS distribution. AUTHZD_COLL_sample is included instead and can easily be copied to AUTHZD_COLL for use.</li>
                </ul>
       </li>
            </ul>




          

        

      

      
        <h2>Broker20 version 1.0.0</h2>
        
          <h3>New and Changed Functionality</h3>



          
            <h4>web/b/broker20</h4>
            <p>Broker has been replaced by Broker20.</p>
            <ul>
              <li> cgmerrormsg.tpl
        <ul>
                  <li>initial release.</li>
                  <li>removed service from attribute</li></ul></li>
            </ul>
            <ul>
              <li> errormsg.tpl, getrecord.tpl, identify.tpl, listidentifiers.tpl, listmetadataformats.tpl, listrecords.tpl, listsets.tpl
        <ul>
                  <li>Initial Release.</li>
                  <li>changed to be 2.0 compliant</li></ul></li>
            </ul>
          
          
            <h4>bin/b/broker20</h4>

            <ul>
              <li> Purge_broker20_Log
        <ul>
                  <li>initiali relase. this is run as a cron
            job on dlps4.</li>
                  <li>added a line for testing.</li></ul></li>
            </ul>
            <ul>
              <li> cvstag.broker20
        <ul>
                  <li>Initial Release</li>
                  <li>remove reference to map files.</li></ul></li>
            </ul>
            <ul>
              <li> quickfix
        <ul>
                  <li>script for Kat to clean up some files
            on quick.</li></ul></li>
            </ul>
            <ul>
              <li> quickfix_permissions
        <ul>
                  <li>script for Kat</li></ul></li>
            </ul>

          

          
            <h4>cgi/b/broker20</h4>

            <ul>
              <li> PopulateDienstDB.txt
        <ul>
                  <li>Initial Release.</li>
                  <li>added new verbs and the fact that now
            the cgi is called broker20</li>
                  <li>changes to disseminate.</li>

                  <li>changed authority information.</li>

                  <li>changed the def of Search.</li>
                  <li>D update to reflect new list of verbs
            we are going to implement.</li>
                </ul></li>
            </ul>
            <ul>
              <li> broker20
        <ul>
                  <li>Initial Release.</li>
                  <li>changed more occurences of broker to
            broker20.</li>

                  <li>corrected use of DLXSROOT, and change
            database connection back to Dienst.</li>
                  <li>the fields can now come in in many
            differnt ways, rather than field1, field2, etx :</li>
                  <li>added resumption token checking.</li>


                  <li>added gif and tif file dissemination.</li>

                  <li>changed GIF to IMAGE</li>
                  <li>changed location of giftocvt files.</li>
                  <li>got rid off userpath and userpart.</li>

                  <li>change dc mapping for contributor as
            directed by Kat.</li>
                  <li>implemented error checking for search
            verb.</li>
                  <li>changed map file from text.map to umhistmath.map.</li>
                  <li>removed attributes of tags before creating
            dc response. This way I did not miss tags that had
            attributes in them.</li>
                  <li>fixed bug in the where the attributes
            where being deleted.</li>

                  <li>D D removed code that changed unicode
            values to &amp;amp;</li>
                  <li>fixed ampersand showing up issue.</li>

                  <li>contains Display verb.</li>
                  <li>made modifications to support RPN for
            the CGM protocol. Put in error checking so that if
            there is bad metadata, the conversion from bib data
            to dc data will indicate it.</li>

                  <li>changed it so that a log file is created
            to keep track of errors during the conversion from
            bib class to dc. Also had to change the code after
            a change to the library. the xro object now returns
            a ref, it use to return the actual data.</li>
                  <li>moved lib version to 3.0000</li>
                  <li>corrected the display to show sort
            requested.</li></ul></li>
            </ul>
            <ul>
              <li> broker20.cfg
        <ul>
                  <li>Initial Release.</li>
                  <li>changed more occurences of broker to
            broker20.</li>
                  <li>corrected use of DLXSROOT, and change
            database connection back to Dienst.</li>
                  <li>added mimetype global variable.</li>
                  <li>added gif and tif file dissemination.</li>
                  <li>got rid off userpath and userpart.</li>
                  <li>changed it so that a log file is created
            to keep track of errors during the conversion from
            bib class to dc. Also had to change the code after
            a change to the library. the xro object now returns
            a ref, it use to return the actual data.</li></ul></li>
            </ul>
          

        
      

      
        <h2>Collmgr version 3.0.0</h2>
        
          <h3>New and Changed Functionality</h3>
          <ul>
            <li>The Collection database is now at version 3.0.  DLXS
Release 9 incorporated version 2.0 of the Collection database.  DLXS
Release 10 includes a database utility called upgrade_2_3 that will
upgrade an existing version 2.0 database to version 3.0 bringing it up
to date with DLXS Release 10.  Database schema changes, obsolete
fields and new fields are documented at <a href="http://docs.dlxs.org">http://docs.,dlxs.org</a></li>
          </ul>


          
            <h4>web/c/collmgr</h4>

            <ul>
              <li> addfields.tpl
        <ul>
                  <li>added functionality for selecting the
            class for which the field is deleted from.</li></ul></li>
            </ul>
            <ul>
              <li> collmgr-fields.html
        <ul>
                  <li>Added new fields encodingtype, detailviewtype
            detailviewlayout and deleted obsolete fields for release
            10 version 3 database</li>

                  <li>Added matching and 'all' token for
            ignoreon</li>

                  <li>Better handling of default sort order
            and sort configuration</li>
                  <li>added info about localhost and host
            and sortflds</li></ul></li>
            </ul>
            <ul>
              <li> contdeletefields.tpl
        <ul>
                  <li>initial release.</li></ul></li>
            </ul>
            <ul>
              <li> deletefields.tpl
        <ul>
                  <li>added functionality for selecting the
            class for which the field is deleted from.</li></ul></li>
            </ul>

          

          
            <h4>cgi/c/collmgr</h4>

            <ul>
              <li> collmgr
        <ul>
                  <li>Added test to ensure REMOTE_USER is
            set.</li>
                  <li>changed the use of " to ' in the routine
            GetDatabaseInfo, since older versions of SQL::Statement
            do not support it.</li>
                  <li>Remove $main::user[name|part] workdir
            syntax</li>
                  <li>when the user dlxsadm updates a collection
            or group, and another user has that collect or group
            checked out, he/she will get a AGED status placed
            on that collection.</li>
                  <li>removed call to DlpsUtils::CleanCgiPamams.
            This was removing the | symbol needed for when adding
            a multiple type. Added some more error checking for
            when adding a field. Will not allow fields that are
            just numeric to be added to the database. Changed
            the logout print command. The old one did not work
            in test env.</li>

                  <li>added logic to specify what class a
            field that is being added should belong to.</li>
                  <li>updated the LibVersion that collmgr
            uses to 3.0000</li></ul></li>
            </ul>
            <ul>
              <li> collmgr.cfg
        <ul>
                  <li>Remove $main::user[name|part] workdir
            syntax</li>
                  <li>updated the database version to 3.0</li></ul></li>
            </ul>
          



        
      


      
        <h2>Finding Aids version 2.1.0</h2>

        
          <h3>cgi/f/findaid</h3>

          <ul>
            <li> findaid-idx
<ul>
                <li>Changes to accomodate changed interface
                to XPatResultSet and DlpsUtils::BuildFisheyeString()</li>
                <li>Added call to DlpsUtils::SetOriginalCgi
                so that ASSERTs can report the URL that caused the
                ASSERT.</li>
                <li>Remove $main::user[name|part] workdir
                syntax</li>
                <li>Call SetOriginalCgiHistory() remove
                SetOriginalCgi()</li>
                <li>KillXPatProcess() was undefined because
                it referred to $gXpat instead of $gXPat. DLXSDATAROOT
                should not have been used to find map files only DLXSROOT</li>
                <li>Fix xpat syntax error (missing 'byte'
                param) and lack of mapping for 'allscopecontent'</li>
                <li>Fix of Fisheye string and its calls
                to XpatResultSet.</li>
                <li>use LibVersion 3.0</li>
                <li>Fixed call to XPatResultSet->GetNextLabeledResult
                so that it gets values in an array context, now that
                it returns an array.</li></ul></li>
          </ul>
          <ul>
            <li> findaid-idx.vars.cfg
<ul>
                <li>Changes to accomodate changed interface
                to XPatResultSet and DlpsUtils::BuildFisheyeString()</li>
                <li>Changed port to 620 and changed xpat
                executable path.</li>
                <li>Remove $main::user[name|part] workdir
                syntax</li>
                <li>branches: 1.32.2; KillXPatProcess()
                was undefined because it referred to $gXpat instead
                of $gXPat. DLXSDATAROOT should not have been used
                to find map files only DLXSROOT</li>
                <li>Fixes to code after merge of results
                and groups work (mostly XPatResultSet) along with
                changes in the cfg file (port, host).</li>
                <li>Fix of Fisheye string and its calls
                to XpatResultSet.</li></ul></li>
          </ul>
        
      

      
        <h2>XClass version 2.0.0</h2>

        
          <h3>web/x/xclass</h3>

          <ul>
            <li> reslist.tpl
        <ul>
                <li>removed font tag</li>
                <li>XCLASS: Fix "get results" PI to popup
            new window</li></ul></li>
          </ul>
          <ul>
            <li> simple.tpl
        <ul>
                <li>Added collection list per class</li></ul></li>
          </ul>
        
        
          <h3>cgi/x/xclass</h3>

          <ul>
            <li> XClassApp.pm
        <ul>
                <li>And new code for enhanced application
            results removed GenComputeTimes() now in DlpsUtils</li>
                <li>removed qw( :standard :html3 escape
            unescape escapeHTML ) from "use CGI" pragmas. 8% performance
            improvement.</li>
                <li>Added collection list per class and
            updated list of authzd colls</li>
                <li>Move validity checks call to _initialize</li>
              </ul></li>
          </ul>
          <ul>
            <li> xclass-idx
        <ul>
                <li>And new code for enhanced application
            results removed GenComputeTimes() now in DlpsUtils</li>
                <li>removed qw( :standard :html3 escape
            unescape escapeHTML ) from "use CGI" pragmas. 8% performance
            improvement.</li>
                <li>branches: 1.4.2; remove userpart/userpath</li>
              </ul></li>
          </ul>
          <ul>
            <li> xclass.cfg
        <ul>
                <li>Added collection list per class and
            updated list of authzd colls</li>
                <li>More hardcoding for goto links and
            to make imageclass links use dlps3</li>
                <li>fix script name and url for each class</li>
                <li>fix script name and url for each class</li>
                <li>fix goto link for image class</li>
                <li>Fixed link buiding for correct host
            for results</li>
                <li>Fix XClass app trying to prepare aro
            for caching. it is the child's responsibility only.</li></ul></li>
          </ul>
        

      
    

    <!-- end Release 10 -->

    
      <h1>DLXS Release 9 - 8 JUL 2002</h1>
      
        <h2>General Information</h2>
        <p>DLXS Release 9 is comprised of:</p>
        <ul>
          <li>TextClass version 2.5.10</li>
          <li>BibClass version 2.2.7</li>
          <li>FindingAids version 2.0.4</li>
          <li>ImageClass version 2.3.3</li>
          <li>Broker version 1.2.0</li>
          <li>Collmgr version 1.1.0</li>
          <li>XClass version 1.0.0</li>
          <li>Lib version 2.4.15</li>
          <li>mrsid_retrieve version 1.3.1</li>
          <li>tif2web version 1.0.1</li>
          <li>dlxsd version 1.0.0 </li>
          <li>XPAT version 5.2.3</li>
        </ul>
        <p>Significant functional changes and enhancements introduced in Release 9: </p>
        <ul>
          <li>The Collection database is now at version 2.0.  DLXS Release 8 incorporated version 1.0 of the Collection database.  DLXS Release 9 includes a database utility called upgrade_1_2 that will upgrade an existing version 1.0 database to version 2.0 bringing it up to date with DLXS Release 9.</li>
          <li>TextClass
            <ul>
              <li>Citation restrictions have been integrated into the search forms. </li>
              <li>Improved Level 2 results display by making results slicing occur at DIV1. </li>
              <li> Pagviewer improvements:
                <ul>
                  <li>Page turning makes only a single CGI call for the page image frame.</li>
                  <li>PDF data is delivered in specifiable "chunks".</li>
                  <li>Cross-frame status updating via Javascript.</li>
                  <li>tif2web is used exclusively to support the available image formats (gif, pdf) for results </li>
                </ul>
              </li>
            </ul>
          </li>
          <li>Image Class has had numerous bug fixes and minor enhancements. </li>
          <li>All remote communication occurs via a single daemon program that uses a verb file for flexible configuration.  </li>
          <li>BibClass now has a per-collection object for filtering and enhanced functionality rather than separate filter functions.</li>
          <li>A prototype cross-class application (XClass) and supporting Lib modules have been developed.</li>
        </ul>

      

      
        <h2>XPAT version 5.2.3</h2>
        
          <ul>
            <li>No change from  Release 8</li>
          </ul>
        
      

      
        <h2>Lib version 2.4.15</h2>
        
          <h3>New and Changed Functionality</h3>
          <ul>
            <li>ApplicationResult.pm
              <ul>
                <li>Initial definition of an cross-application result object.</li>
              </ul>
             </li>
          </ul>

          <ul>
            <li>  BookBag.cfg
              <ul>
                <li> Created customizable emails from bookbag.</li>
                <li> Added Assertion reporting via email under envvar ASSERTION_EMAIL</li>
              </ul>
             </li>
          </ul>

          <ul>
            <li>  BookBag.pm
              <ul>
                <li> Mods for BibClass subclass to allow more flexible bookbag filtering</li>
                <li> Changed download file name to something more generic.</li>
                <li> Created customizable emails from bookbag.</li>
                <li> Added Assertion reporting via email under envvar ASSERTION_EMAIL</li>
              </ul>
             </li>
          </ul>

          <ul>
            <li>  CioFactory.pm
              <ul>
                <li> Backward support for DLPS_DEV == 1 under new workspace model.</li>
                <li> Added GetCioByClass().</li>
                <li>Make connection to database ONCE and disconnect in DLXSApp::AppFinishUp() and change interface to CollsInfo and GroupsInfo objects new() methods to accept a database handle</li>
                <li> Methods to support integration of citation information as a restriction to searching.</li>
                <li> Added comment re: IGNORE_REAUTH to prevent authorization infinite loop.</li>
              </ul>
             </li>
          </ul>

          <ul>
            <li>  CollsInfo.pm
              <ul>
                <li> Added GetCioByClass().</li>
                <li> Make connection to database ONCE and disconnect in DLXSApp::AppFinishUp() and change interface to CollsInfo and GroupsInfo objects new() methods to accept a database handle</li>
              </ul>
             </li>
          </ul>

          <ul>
            <li>  CreateSessionTable.txt
              <ul>
                <li> Changed blob to longblob</li>
              </ul>
             </li>
          </ul>

          <ul>
            <li>  DLXSApp.pm
              <ul>
                <li> Empty session mods</li>
                <li> Added SetName()</li>
                <li> Moved GetAppKeyInfo SetAppKeyInfo up to DLXSApp</li>
                <li> Added Added ModeIsXClass() and access member data via GetAppKeyInfo and handle Debug() via no assert for xclass case.</li>
                <li> Make connection to database ONCE and disconnect in DLXSApp::AppFinishUp() and change interface to CollsInfo and GroupsInfo objects new() methods to accept a database handle</li>
              </ul>
             </li>
          </ul>

          <ul>
            <li>  DbUtils.pm
              <ul>
                <li> Make connection to database ONCE and disconnect in DLXSApp::AppFinishUp() and change interface to CollsInfo and GroupsInfo objects new() methods to accept a database handle</li>
              </ul>
             </li>
          </ul>

          <ul>
            <li>  DlpsSession.cfg
              <ul>
                <li> Fix typos in session lock dir and email address in config blocks</li>
              </ul>
             </li>
          </ul>

          <ul>
            <li>  DlpsSession.pm
              <ul>
                <li> Empty session mods</li>
                <li> Debug message and errorBail when calling session hash tying.</li>
                <li> Added GetCioByClass().</li>
                <li> Make connection to database ONCE and disconnect in DLXSApp::AppFinishUp() and change interface to CollsInfo and GroupsInfo objects new() methods to accept a database handle</li>
              </ul>
             </li>
          </ul>

          <ul>
            <li>  DlpsUtils.pm
              <ul>
                <li> Access $gERRORS from LibGlobals</li>
                <li> Methods to support integration of citation information as a restriction to searching.</li>
                <li> Addition of the CheckForAnyQValues routine.</li>
                <li> Added XPAT_LOGGING envvar to track xpat local pid</li>
                <li> Added Assertion reporting via email under envvar ASSERTION_EMAIL making var dynamic for To: address</li>
                <li> Filter '&lt;' in DumpEnvVars()</li>
                <li> Added, for LEL2, call to $rset->GetTotalFocusLevels.</li>
                <li> Added "hitTerm" parameter to allow the term used for "hits" to be customized. If the parameter is omitted "hits" is used by default.</li>
              </ul>
             </li>
          </ul>

          <ul>
            <li>  GroupsInfo.pm
              <ul>
                <li> Added GetCioByClass().</li>
                <li> Make connection to database ONCE and disconnect in DLXSApp::AppFinishUp() and change interface to CollsInfo and GroupsInfo objects new() methods to accept a database handle</li>
              </ul>
             </li>
          </ul>

          <ul>
            <li>  LibGlobals.cfg
              <ul>
                <li> Added 'PAGE_NOT_FOUND' as qq{Cannot find html template page: }, to a global error message hash for Lib modules</li>
                <li> Fix debug logic for homesite link builder to stay with the virtual host that got you to the page originally e.g. pagliere.dev not fizzie. Deleted $gDevelopmentHost from LibGlobals</li>
                <li> Added Assertion reporting via email under envvar ASSERTION_EMAIL</li>
              </ul>
             </li>
          </ul>

          <ul>
            <li>  LibVersion.pm
              <ul>
                <li> 2.0900</li>
                <li> Make connection to database ONCE and disconnect in DLXSApp::AppFinishUp() and change interface to CollsInfo and GroupsInfo objects new() methods to accept a database handle</li>
              </ul>
             </li>
          </ul>

          <ul>
            <li>  ObjectFactory.pm
              <ul>
                <li> Implement CreateObject() for NameBibApp to avoid XCOLL/single issues from a cgi other than bib-idx</li>
                <li> Added GetCioByClass()</li>
              </ul>
             </li>
          </ul>

          <ul>
            <li>  ProcIns.pm
              <ul>
                <li> Changed RE to parse the PI parameters into a hash to allow parameter values to contain spaces for better readability on suggestion of Sakaama Heesakkers.</li>
              </ul>
             </li>
          </ul>

          <ul>
            <li>  WW.pm
              <ul>
                <li> Added DLXSDATAROOT handling of dd path</li>
                <li> Methods to support integration of citation information as a restriction to searching.</li>
              </ul>
             </li>
          </ul>

          <ul>
            <li>  XPat.pm
              <ul>
                <li> Fix debug statement 'pat' changed to 'patexec'</li>
                <li> More debug stmts.</li>
                <li> SIGPIPE handler to trap exec errors in local forked child running XPAT for us.</li>
                <li> Added debug=rawresults</li>
                <li> Added XPAT_LOGGING envvar to track xpat local pid added reg CGI check and $0</li>
                <li> Use of new XPAT verb in the dlxsd.</li>
              </ul>
             </li>
          </ul>

          <ul>
            <li>  XPatResultSet.pm
              <ul>
                <li> Methods to support integration of citation information as a restriction to searching.</li>
              </ul>
             </li>
          </ul>


          <ul>
            <li>  BookBagItem/BBItemBC.pm
              <ul>
                <li> Mods for BibClass subclass to allow more flexible bookbag filtering</li>
              </ul>
             </li>
          </ul>

          <ul>
            <li>  BookBagItem/BBItemTC.pm
              <ul>
                <li> Mods for BibClass subclass to allow more flexible bookbag filtering</li>

              </ul>
             </li>
          </ul>

          <ul>
            <li>  dbmove
              <ul>
                <li> Pageview table not moved if target is CSV. Message showing progress of table population.</li>
                <li> Changed release switch to accomodate release and workshop releases.</li>
              </ul>
             </li>
          </ul>

          <ul>
            <li>  dbmove.cfg
              <ul>
                <li> Changed release switch to accomodate release and workshop release.</li>
                <li> Added text class collections and groups for release and workshop.</li>
              </ul>
             </li>
          </ul>

        

        
          <h3>Bugs Fixed</h3>
          <ul>
            <li>344: Allow AddPI to refer to a method as well as a subroutine  </li>
            <li>351: DlpsUtils::CleanCgiParameters deletes params with value 0  </li>
            <li>895: MySQL-based sessions broken for BC and IC  </li>
          </ul>
        
      

      
        <h2>Text Class version 2.5.10</h2>
        
          <h3>New and Changed Functionality</h3>
          
            <h4>cgi/t/text</h4>

          <ul>
            <li>  PVApp.pm
              <ul>
                <li> Added GetCioByClass()</li>
                <li> Removed GetMainFrameSrc method. Now initial call to pageviewer, as well as subsequent page navigation calls, use the same code. Previously, the initial call created a link in the main html frame to an image, while subsequent calls wrapped an img tag in an html template. Now they all use the html template to build the main frame.</li>
                <li> Changes to support integration of citation information as a restriction to searching.</li>
              </ul>
             </li>
          </ul>

          <ul>
            <li>  PageView.cfg
              <ul>
                <li> Added remoteGif key in %gFormatToFormatHandlers</li>
              </ul>
             </li>
          </ul>

          <ul>
            <li>  PageView.pm
              <ul>
                <li> Changes to support integration of citation information as a restriction to searching.</li>
              </ul>
             </li>
          </ul>

          <ul>
            <li>  TextApp.pm
              <ul>
                <li> Added DSO param to bookbag methods</li>
                <li> Remove parameter for GetRequestedCollIds() GetCollids()</li>
                <li> Added _reinitialize()</li>
                <li> Error message in Assert in HeaderViewSearchesAndFilter</li>
                <li> Changes $self={}; to %$self={};</li>
                <li> Fixed bug in ShowMaxDepthRegions.</li>
                <li> Added GetCioByClass()</li>
                <li> Add xclass functionality and application result object handling</li>
                <li> Moved xclass exit outside of loop over collections so we don't jump out after just one</li>
                <li> Changes to support integration of citation information as a restriction to searching.</li>
                <li> Addition of the CheckForAnyQValues in ValidityChecks.</li>
                <li> Fixed bug in bib searches (handling rgn and rgn1, etc.) by adding a bit to ValidityChecks to set the rgn for type=boolean;subtype=bib.</li>
              </ul>
             </li>
          </ul>

          <ul>
            <li>  TextClass.pm
              <ul>
                <li> Add "browseable" db fiels and remove HandlerExists() and ProcessCollSpecificPI() methods from several subclasses.</li>
                <li> Added an ASSERT to SubmitSearchSet to handle the previously silent failing when an empty (but non-error) result was returned from XPat.</li>
                <li> Moved ASSERT from SubmitSearchSet to XPatResultSet::InitIterator.</li>
                <li> Added DLXSDATAROOT functionality</li>
                <li> Fixed bug in ShowMaxDepthRegions.</li>
                <li> Added HandleHeaderFilter() and GetParentApp()</li>
                <li> Add xclass functionality and application result object handling</li>
                <li> Fix womv ptr notes problem. The target region was not being qualified by the idno when searching for the parent region (to get the head). Being too general the target selected the wrong div from which to extract the head for the note Popup window title.</li>
                <li> Changes to support integration of citation information as a restriction to searching.</li>
                <li> Assert in FindXPatContainingIdno re xpat object.</li>
                <li> Fix font highlighting</li>
                <li> Fixed bug in bib searches (handling rgn and rgn1, etc.) by adding a bit to ValidityChecks to set the rgn for type=boolean;subtype=bib.</li>
                <li> Added MAINHEADER to the synthetic regions accounted for in TextClass::_PagesWithHitsFilter.</li>
              </ul>
             </li>
          </ul>

          <ul>
            <li>  TextClassUtils.pm
              <ul>
                <li> Remove userpath functionality from sub GetCollFilePath</li>
                <li> Alphabetic collection name sorting</li>
                <li> Remove parameter for GetRequestedCollIds() GetCollids()</li>
                <li> Added GetCioByClass()</li>
                <li> Added GID PI</li>
                <li> moved $gDevelopmentHost to LibGlobals and text for DLPS_DEV==uniqname</li>
                <li> Changes to support integration of citation information as a restriction to searching. 2002/06/05 --> Added support for orglink and orgtext PIs.</li>
                <li> Changed ORG_INFO related PIs to do the following: First, if the search is cross-collection, the contents of the INCLUDE_ PIs are ripped out. Second, there is only one PI (ORG_INFO) which takes the parameter "type" (either "link" or "text"), much like the CONTACT PI.</li>
                <li> Fix debug logic for homesite link builder to stay with the virtual host that got you to the page originally e.g. pagliere.dev not fizzie. Deleted $gDevelopmentHost from LibGlobals</li>
              </ul>
             </li>
          </ul>

          <ul>
            <li>  WWApp.pm
              <ul>
                <li> Added GetCioByClass()</li>
              </ul>
             </li>
          </ul>

          <ul>
            <li>  pageviewer-idx
              <ul>
                <li> Added GetCioByClass()</li>
                <li> Add ApplicationClass attribute for application object creation</li>
                <li> Now require LibGlobals 2.0800</li>
              </ul>
             </li>
          </ul>

          <ul>
            <li>  text-idx
              <ul>
                <li> Added GetCioByClass()</li>
                <li> Add ApplicationClass attribute for application object creation</li>
                <li> Now require LibGlobals 2.0800</li>
              </ul>
             </li>
          </ul>

          <ul>
            <li>  textclass.cfg
              <ul>
                <li> moved gDevelopmentHost to LibGlobals</li>
                <li> Changes to support integration of citation information as a restriction to searching.</li>
              </ul>
             </li>
          </ul>

          <ul>
            <li>  ww2-idx
              <ul>
                <li> Add ApplicationClass attribute for application object creation</li>
                <li> Now require LibGlobals 2.0800</li>
              </ul>
             </li>
          </ul>


          

          
            <h4>web/t/text</h4>
          <ul>
            <li>  bib.tpl</li>
            <li>  boolean.tpl</li>
            <li>  header.tpl</li>
            <li>  proximity.tpl</li>
            <li>  reslist.tpl</li>
            <li>  searchhistory.tpl</li>
            <li>  text.tpl</li>
            <li>  textclass.css</li>
            <li>  ww-full.tpl</li>
            <li>  ww-start.tpl
              <ul>
                <li> Changes to templates to support integration of citation information as a restriction to searching.</li>
              </ul>
             </li>
          </ul>

          <ul>
            <li>  bibext.tpl
              <ul>
                <li> Changed REGION_SEARCH_SELECT to REGION1_SEARCH_SELECT.</li>
              </ul>
             </li>
          </ul>



          <ul>
            <li>  browse_template.tpl
              <ul>
                <li> Added browse template template</li>
              </ul>
             </li>
          </ul>

          <ul>
            <li>  search.js
              <ul>
                <li> Changed clearSelectOptions function</li>
              </ul>
             </li>
          </ul>


          <ul>
            <li>  simple.tpl
              <ul>
                <li> Changes to templates to support integration of citation information as a restriction to searching.</li>
                <li> First use of the ORG_INFO PI.</li>
              </ul>
             </li>
          </ul>

          <ul>
            <li>  graphics/pq.jpg</li>
            <li>  graphics/pq2.jpg</li>
            <li>  graphics/scale2.gif
              <ul>
                <li> New</li>
              </ul>
             </li>
          </ul>


          <ul>
            <li>  graphics/smnavline.gif</li>
            <li>  graphics/smnavarrow.gif</li>
            <li>  graphics/smnavplug-end.gif</li>
            <li>  graphics/smnavplug.gif</li>
            <li>  graphics/smnavplug1.gif
              <ul>
                <li> graphics files for search revisions</li>
              </ul>
             </li>
          </ul>


          
        

        
          <h3>Bugs Fixed</h3>
          <ul>
            <li>167: Add Help Text</li>
            <li>183: Use DBI for access to all database-like data</li>
            <li>224: wordwheel indexing find "aeque" when query is for "que"</li>
            <li>230: first scoped head is a garbage kwic</li>
            <li>241: Extend TextClass functionality: level 2 and mixed levels support</li>
            <li>243: TextClass help.html missing</li>
            <li>250: The bookbag indicator should not appear in the main window</li>
            <li>253: Update code to handle latest version of Apache::Session</li>
            <li>256: TextClass needs alternative to Adobe distill utility</li>
            <li>263: Move divdepths and need for notes and entities filtering to colldb</li>
            <li>266: Browse page builder has eccentricities</li>
            <li>270: Highlighting of hits in SGML</li>
            <li>271: idnos do not expand when given a 7 digit NOTIS ID, pages cannot be vie</li>
            <li>293: Collection wordwheel Makefiles need to be changed to not use MFS</li>
            <li>308: home links in header blow away session</li>
            <li>309: home link in pageviewer loads in frame, not over frameset</li>
            <li>357: TextClassUtils subroutines should be TextClass methods</li>
            <li>363: Fix uses of FindHostName() and 'homesite', 'home' colldb for failover</li>
            <li>365: Selecting a letter also does a search on the letter in Wordwheel</li>
            <li>389: Need to implement a simple browse</li>
            <li>405: Pageviewer defaults to seq=1 should be seq=00000001</li>
            <li>409: Implement a more flexible mechanism for collection-specific look and feel</li>
            <li>447: results page for searches in header fields have empty "hits in doc" li</li>
            <li>476: colldb in TC should not have hard-coded DLXSROOT</li>
            <li>478: Port ImageClass and TextClass to MySQL maintaining CSV support</li>
            <li>484: Index search takes user to page not found</li>
            <li>485: Broken links in MoA browse pages</li>
            <li>494: pageviewer rewrite</li>
            <li>568: Header.tpl reallignment</li>
            <li>579: Pageviewer should be able to handle IDNO plus N value</li>
            <li>602: MoA journal browse pages can't be repurposed</li>
            <li>646: No filtering of bibliographic tags in full text</li>
            <li>854: DirectoryIndex redirect incompatible with existing nav PIs</li>
          </ul>
        
      

      
        <h2>Bib Class version 2.2.7</h2>
        
          <h3>New and Changed Functionality</h3>
          
            <h4>cgi/b/bib</h4>
          <ul>
            <li>  BibApp.pm
              <ul>
                <li> Changes implementing the BibClass subclass + no record numbering if only one record</li>
                <li> Implemented "view long format in new window" link</li>
                <li> Implementation of _initializeLocal() for NameBibApp</li>
                <li> fix HIDDED_GID html var substitution fixing #819</li>
                <li> Created routine to initialization for book bag</li>
                <li> Added header to _reinitialize routine. </li>
                <li> Moved GetAppKeyInfo SetAppKeyInfo up to DLXSApp</li>
                <li> Added GetCioByClass() and CollsFIlter)(in BibClass.pm</li>
                <li> Added handling for class-based index.tpl</li>
                <li> Added homesite support for collection link in the global.tpl page</li>
                <li> Fixed date range check for pub year.</li>
                <li> Fix debug logic for homesite link builder to stay with the virtual host that got you to the page originally e.g. pagliere.dev not fizzie. Deleted $gDevelopmentHost from LibGlobals</li>
                <li> Help page link was not beening created correctly.</li>
                <li> Made email button a PI</li>
                <li> Added call to RemoveClassObject. Before history was not working without this call.</li>
              </ul>
             </li>
          </ul>

          <ul>
            <li>  BibClass.pm
              <ul>
                <li> Initial</li>
                <li> Added DLXSDATAROOT functionality</li>
                <li> Added DualDisplayModeSupport()</li>
                <li> Added GetCioByClass() and CollsFIlter)(in BibClass.pm</li>
                <li> Make GetPersistentSessionItemByKey('cio' ) GetCioByClass()</li>
                <li> Now use DbUtils::GetCellByKey_DBI() top get tectclass collection name for bibclass filtering via live database handle saved on session</li>
                <li> Added eval block around call to $collname = DbUtils::GetCellByKey_DBI to catch thrown exception if fetchrow_arrayref fails.</li>
                <li> Use of DlpsUtils::ResolveDlxsDataRoot function.</li>
              </ul>
             </li>
          </ul>

          <ul>
            <li>  BibClassUtils.pm
              <ul>
                <li> Initial</li>
              </ul>
             </li>
          </ul>

          <ul>
            <li>  bib-idx
              <ul>
                <li> Changes implementing the BibClass subclass + no record numbering if only one record</li>
                <li> Added GetCioByClass() and CollsFIlter)(in BibClass.pm</li>
              </ul>
             </li>
          </ul>

          <ul>
            <li>  bibclass.cfg
              <ul>
                <li> Changes implementing the BibClass subclass + no record numbering if only one record</li>
                <li> Implemented "view long format in new window" link</li>
                <li> Bib Name Resolver group bibperm in new global</li>
                <li> Created routine for initialization for book bag</li>
                <li> Added homesite support for collection link in the global.tpl page</li>
                <li> Added label for emailing from bookbag, since this was made into a PI.</li>
              </ul>
             </li>
          </ul>

          <ul>
            <li>  bibperm
              <ul>
                <li> Created</li>
              </ul>
             </li>
          </ul>

          <ul>
            <li>  specific.functions.cfg</li>
            <li>  default.functions.cfg
              <ul>
                <li> Obsolete</li>
              </ul>
             </li>
          </ul>

          <ul>
            <li>  bib.map
              <ul>
                <li> Added mappings for COLL,FMT,LANG,TYPE</li>
              </ul>
             </li>
          </ul>

          
          
            <h4>web/b/bib</h4>
          <ul>
            <li>  bbagWindow.js
              <ul>
                <li> Replaced by window.js</li>
              </ul>
             </li>
          </ul>

          <ul>
            <li>  bbagemail.tpl
              <ul>
                <li> Add HIDDED_GID html var</li>
              </ul>
             </li>
          </ul>

          <ul>
            <li>  global.tpl
              <ul>
                <li> Add HIDDED_GID html var</li>
              </ul>
             </li>
          </ul>

          <ul>
            <li>  index.tpl
              <ul>
                <li> Added handling for class-based index.tpl</li>
              </ul>
             </li>
          </ul>

          <ul>
            <li>  longfmt.tpl
              <ul>
                <li> Initial</li>
              </ul>
             </li>
          </ul>

          <ul>
            <li>  pageheadernavbar.chunk
              <ul>
                <li> Add HIDDED_GID html var</li>
              </ul>
             </li>
          </ul>

          <ul>
            <li>  searchhistory.tpl
              <ul>
                <li> Add HIDDED_GID html var</li>
              </ul>
             </li>
          </ul>

          <ul>
            <li>  window.js
              <ul>
                <li> Replaced bbagWindow.js</li>
                <li> Changed retrieving message to be more generic.</li>
              </ul>
             </li>
          </ul>


          
        
        
          <h3>Bugs Fixed</h3>
          <ul>
            <li>295: map files not being read  </li>
            <li>773: support long display of a single record from a list  </li>
            <li>782: BibClass requires a per class subclass structure.  </li>
            <li>819: CGI loses g= parameter after search  </li>
            <li>829: changes to Long Display  </li>
            <li>920: text change from "Bibliographic" to "Metadata"  </li>
            <li>921: request for less space between file names on Filepicker page  </li>
            <li>945: BibClass app needs method to read Collections table  </li>
          </ul>
        
      

      
        <h2>Image Class version 2.3.3</h2>
        
          <h3>New and Changed Functionality</h3>
          
            <h4>General</h4>
            <ul>
              <li>The fisheye PI was modified to include vertical bar characters at the beginning and end. These will appear between the fisheye and "&lt;&lt; previous items" and between the fisheye and "next items &gt;&gt;" on the TOP and BOTTOM of the results pages. Therefore customized templates, including collection specific templates, should have the vertical bars around the fisheye PI removed. This solves the problem of bars being displayed even when there are not enough results to warrant a fisheye. The few remaining chunks of "interface english" left in the code were shifted to the %gWords has h in imageclass.cfg. This change affected ImageClassUtils.pm as well.</li>

              <li>Image file dimensions for the view tab graphics were shifted to a global variable to accomodate size changes.</li>

              <li>ImageApp.pm and ImageClassUtils.pm were modified to make thumbnail images link to the full record when displayed in the record div on the "images with full record" results page.</li>
            </ul>

          
          
            <h4>cgi/i/image</h4>
          <ul>
            <li>  Collectionmaps-last.pm
              <ul>
                <li> XPAT queries were modified to remove requirement for the ID attribute of the COLL element to have a value beginning with "MC".</li>
              </ul>
             </li>
          </ul>

          <ul>
            <li>  Collectionmaps.pm
              <ul>
                <li> XPAT queries were modified to remove requirement for the ID attribute of the COLL element to have a value beginning with "MC".</li>
              </ul>
             </li>
          </ul>

          <ul>
            <li>  ImageApp.pm
              <ul>
                <li> Changed handling of "-dev" collids in the AUTHZD_COLL and PUBLIC_COLL environment variables so that when DLPS_DEV is true, it is OK if the environment variables do not have "-dev" on the collids.</li>
                <li> minor tweak to auth "-dev" tweak in ForceAuth routine.</li>
                <li> Added Get[CG]ioByClass() for cross class access to CIO and GIO from DSO. Alos added 'ApplicationClass' attribute for CioFactory->new() calls to identify Class for CIO/GIO operations.</li>
                <li> Support for template override via the tpl cgi parameter was added.</li>
                <li> Add xclass functionality and application result object handling</li>
              </ul>
             </li>
          </ul>

          <ul>
            <li>  ImageClassUtils.pm
              <ul>
                <li> Fixed minor layout problem with "next/prev item"</li>
                <li> The "groups" PI parameter was added to GROUPSPICK PI to allow the list of groups included for selection to be limited to the list of group ids in the parameter. The default of no groups parameter is provided is all groups.</li>
                <li> When no thumbnail image is availble, pleasant text is displayed rather than ugly gray placeholder images. In some cases, nothing is displayed (e.g., entry/record view).</li>
                <li> Added DLXSDATAROOT functionality</li>
                <li> A change was made to hide the panning tool when panning is not an option (e.g., when the full image is being viewed).</li>
                <li> Added Get[CG]ioByClass() for cross class access to CIO and GIO from DSO. Alos added 'ApplicationClass' attribute for CioFactory->new() calls to identify Class for CIO/GIO operations.</li>
                <li> Additional field display options were added to the RecordFilt subroutine. A field may have multiple urls (separated by whitespace) in it, and all will be turned in to links if the "url" option is on. "urltarget" (allows target to be specified when "url" option is on).</li>
                <li> "urltarget," "delim," and "keylinks," field display options were added to RecordFilt. the "url" option was modified to support multiple urls in a single field.</li>
                <li> Collection Home links were added to collection picking routines.</li>
                <li> Fixed minor bug that stopped group "all" from being excluded from the group selection list when the pi specifies it. the "next" was inside the debug scope.</li>
                <li> A validity check was added for the rgnN parameter to make sure that for each qN parameter, there is an rgnN parameter. When there is not, term highlighting does not work properly.</li>
                <li> A small HTML error was corrected in the RecordFilt subroutine, shifting a "nowrap" attribute from the TR to TD tag in two places.</li>
              </ul>
             </li>
          </ul>

          <ul>
            <li>  getimage-idx
              <ul>
                <li> Added Get[CG]ioByClass() for cross class access to CIO and GIO from DSO. Alos added 'ApplicationClass' attribute for CioFactory->new() calls to identify Class for CIO/GIO operations.</li>
                <li> Now require LibGlobals 2.0800</li>
              </ul>
             </li>
          </ul>

          <ul>
            <li>  getthumbnail-idx
              <ul>
                <li> Added Get[CG]ioByClass() for cross class access to CIO and GIO from DSO. Alos added 'ApplicationClass' attribute for CioFactory->new() calls to identify Class for CIO/GIO operations.</li>
                <li> Now require LibGlobals 2.0800</li>
                <li> Fixed a bug where getthumbnail-idx was failing with an assertion error because the %attributes hash was lacking information about which class was being used.</li>
              </ul>
             </li>
          </ul>

          <ul>
            <li>  image-idx
              <ul>
                <li> Added Get[CG]ioByClass() for cross class access to CIO and GIO from DSO. Alos added 'ApplicationClass' attribute for CioFactory->new() calls to identify Class for CIO/GIO operations.</li>
                <li> Now require LibGlobals 2.0800</li>
              </ul>
             </li>
          </ul>

          <ul>
            <li>  imageclass.cfg
              <ul>
                <li> changed image host for dev</li>
                <li> Add xclass functionality: $gImageClassCgiRoot</li>
              </ul>
             </li>
          </ul>

          <ul>
            <li>  makeCollectionmaps-idx
              <ul>
                <li> XPAT queries were modified to remove requirement for the ID attribute of the COLL element to have a value beginning with "MC".</li>
                <li> Added Get[CG]ioByClass() for cross class access to CIO and GIO from DSO. Alos added 'ApplicationClass' attribute for CioFactory->new() calls to identify Class for CIO/GIO operations.</li>
                <li> Now require LibGlobals 2.0800</li>
              </ul>
             </li>
          </ul>

          

          
            <h4>web/i/image</h4>

            <ul>
              <li>  entry.tpl
              <ul>
                  <li> fixed minor layout problem with "next/prev item"</li>
                </ul>
            </li>
            </ul>

          

        
        
          <h3>Bugs Fixed</h3>
          <ul>
            <li>345 v2: Collection selection  </li>
            <li>347 v2: New image controls and quality parameters  </li>
            <li>348 v2: Personal collection management tools  </li>
            <li>349 v2: Login interface  </li>
            <li>350 v2: Results with full record  </li>
            <li>388 v2: Independent sid serving  </li>
            <li>397 v2: Migrate to multiregion  </li>
            <li>410 v2: Handling of help email  </li>
            <li>411 v2: Make sure that null q2 with no q1 still works  </li>
            <li>413 v2: Thumbfull results divs not display right in netscape agitator  </li>
            <li>415 v2: Sids displayed in open portfolio window  </li>
            <li>417 v2: Imageclassutils::insertCollName should use colldb for collname  </li>
            <li>418 v2: Imageclassutils::thumbrecordfilt should use colldb briefcollname  </li>
            <li>421 v2: Meta categs other than dublin core (search forms and sort menu)  </li>
            <li>422 v2: Remove old access control mechanism  </li>
            <li>426 v2: Temp cgi dir must be configurable  </li>
            <li>446 v2: Id resolver functionality  </li>
            <li>454 v2: Add search term highlighting in results  </li>
            <li>456 v2: Add slideshow to entry view, and cgi memory for the last view  </li>
            <li>459 v2: Css/template cleanup  </li>
            <li>460 v2: Move interface english from cgi to configurable place  </li>
            <li>462 v2: Makecollectionmaps needs updating  </li>
            <li>463 v2: Sorting broken  </li>
            <li>464 v2: Support for version 3 browsers  </li>
            <li>465 v2: Better feedback for zero results searches  </li>
            <li>486 v2: Need to use web path in groups db  </li>
            <li>512 v2: Check urls for backward compatability  </li>
            <li>515 v2: Should image size defaults be in colldb?  </li>
            <li>518 v2: Implement new collection info template  </li>
            <li>520 v2: Include thumb image in record description table in full record resu  </li>
            <li>521 v2: Create template for no results page  </li>
            <li>522 v2: Makecolls can't move new .pm in to place  </li>
            <li>534 v2: Minimal description needed on page with full image  </li>
            <li>536 v2: Delete portfolio button missing in netscape  </li>
            <li>538 v2: Portfolio addition interface lacks radio button  </li>
            <li>551 v2: No horizontal scroll bar in entry view  </li>
            <li>554 v2: Image structures need some flexibility  </li>
            <li>563 v2: Xcoll reslist results view needs collname in records  </li>
            <li>564 v2: Slideshow results view needs redirect from cgi for backward compat  </li>
            <li>565 v2: Record display after sorting displays wrong record.  </li>
            <li>566 v2: Contact colldb collname change  </li>
            <li>570 v2: Should we add group descriptions to groups.tpl?  </li>
            <li>586 v2: Add colldb config of sid nlevel range  </li>
            <li>657 v2: Search form clear button doesn't work for revised searches  </li>
            <li>985 Need CSSURL PI handler for tips.tpl  </li>
          </ul>
        

      

      
        <h2>Broker version 1.2.0</h2>
        
          <h3>New and Changed Functionality</h3>

          
            <h4>cgi/b/broker</h4>
            <ul>
              <li>  broker
              <ul>
                  <li> Chnaged it so that Dienst verbs work against the text collections rather than bib.</li>
                  <li> Remove group from set list in ListSets verb.</li>
                  <li> For the GetRecord verb, once a record is caught you loop out, before we would get all the records, so you could not have two collections with the same id.</li>
                  <li> Corrected rank search.</li>
                  <li> Change onlink to umelectr.</li>
                  <li> Fixed so that full bib and full text work now.</li>
                  <li> Changed the call to new cio and new gio to comply with lib changes.</li>
                </ul>
             </li>
            </ul>

            <ul>
              <li>  broker.cfg
              <ul>
                  <li> Added code to support text search for Dienst verbs.</li>
                  <li> Removed extra / in file name.</li>
                </ul>
             </li>
            </ul>

          

        
      

      
        <h2>Collmgr version 1.1.0</h2>
        
          <h3>New and Changed Functionality</h3>
          <p>In release 9 Collmgr expects to see a version 2.0 DLXS database.  This is either a new sample database as delivered with Release 9 or a version 1.0 database compatible with Release 8 and upgraded to version 2.0 by the upgrade_1_2 utility. </p>
          
            <h4>cgi/c/collmgr</h4>

            <ul>
              <li>  collmgr
              <ul>
                  <li> Add collmgr login link to logout good-bye page. Fiz it's partial html</li>
                  <li> Added debugging for CSV_XS and DBI</li>
                </ul>
             </li>
              </ul>
          

          
            <h4>web/c/collmgr</h4>

            <ul>
              <li>  collmgr-fields.html
              <ul>
                  <li> Added browseable field to the list</li>
                  <li> Updated information for the subclassmodule field</li>

                </ul>
             </li>
            </ul>

          

        
      


      
        <h2>Finding Aids version 2.0.4</h2>
        
          <ul>
            <li>No significant code changes from  Release 8.  Finding Aids now comes with a sample data set found in obj/s/samplefa and idx/s/samplefa and preparatory scripts in prep/s/samplefa.</li>
          </ul>
        
      

      
        <h2>XClass version 1.0.0</h2>
        
          <ul>
            <li>This is the first release of XClass.  The current implementation of XClass is a prototype cross-class search application which sens a simple word or phrase query to each of TextClass and ImageClass and displays a simple result detailing the number of hits in each class and provides a link for the user to go to a given class and explore the result in more detail.  XClass receives and ApplicationResult object from each class containing the result of the query. It is anticipated that this prototype will develop in functionality in subsequent releases.</li>
          </ul>
        
      
    


    <!-- End Release 9 -->


    
      <h1>DLXS Release 8 - 22 Mar 2002</h1>
      
        <h2>General Information</h2>
        <p>This is an interim release of DLXS middleware. </p>
        <p>DLXS Release 8 is comprised of TextClass version 2.5.0, BibClass version
  2.1.6, FindingAids version 2.0.3, ImageClass version 2.3.1, Broker version 1.1.2, Collmgr version 1.1.0, mrsid_retrieve version 1.3.1, tif2web version 1.0.0, dlxsd version 1.0.0 and XPAT version 5.2.3. In particular, dlxsd (the remote daemon), mrsid_retrieve and tif2web are first-time deliverables in this release. </p>
        <p>Release 8 introduces a new architecture incorporating an Application Object which
encapsulates the mainline code from a given class of middleware (text-idx, image-idx, bib-idx) and abstracts it into a Perl class that can be instantiated and manipulated as an object.  The main program is reduced to just a few lines.  The Application Object's class can be subclassed to change functionality in a manner similar to the subclasses of the TextClass collection object base class. In addition, a single CGI program can instantiate multiple application objects (from different middleware classes) and combine their functionality to produce "cross-class" applications.  We expect to demonstrate such functionality in an upcoming release.</p>
        <p>Release 8 has a new top-level directory structure  "misc/{db,c/class/maps}" that replaces obj/c/class/lib/{db,maps}. </p>

      

      
        <h2>XPAT version 5.2.3</h2>
        
          <ul>
            <li>No change from  Release 7</li>
          </ul>
        
      

      
        <h2>Lib version 2.4.7</h2>
        
          <h3>New and Changed Functionality</h3>
          <ul>
            <li>BookBag.cfg
    <ul>
                <li>Install functions + change for $gReleaseUser to dlxsadm
      </li>
              </ul>
  </li>
            <li>CioFactory.pm
    <ul>
                <li>Lib changes supporting arbitrary databases.
      </li>
                <li>Install functions + change for $gReleaseUser to dlxsadm
      </li>
                <li> Do not redirect ot an nonexistend URL
                during reauth if the installed middleware was configured
                without a login URL such as at a site without an auth
                system
      </li>
                <li>added debugging for database user name
      </li>
                <li>changed USERID to REMOTE_USER
      </li>
                <li>A problem in the Reauthenticate routine
                was corrected. In situations where reauthentication
                was necessary, the cgi ended up redirecting to itself
                rather than to the login screen. This resulted in
                an endless loop that timed out before too long.
      </li>
              </ul>
  </li>
            <li>CollsInfo.pm
    <ul>
                <li>Lib changes supporting arbitrary databases.
      </li>
                <li>changes for subclass directories
      </li>
              </ul>
  </li>
            <li>DLXSApp.pm
    <ul>
                <li>cdrom version number variable added
      </li>
                <li>rename $cgi->Dump() to $cgi->as_string()
                an alias for Dump. Dump is causing repeated problems
                not being recognized due to autoloading and exporT
                AS "Dump" instead of "dump" I guess.
      </li>
              </ul>
  </li>
            <li>DbUtils.pm
    <ul>
                <li>added debugging for DBI_Connect
      </li>
              </ul>
  </li>
            <li>DevUtils.pm
    <ul>
                <li>get collections from DEV_COLL and AUTHZD_COLL
                only when in development
      </li>
              </ul>
  </li>
            <li>DlpsSession.cfg, DlpsSession.pm
    <ul>
                <li>Install functions + change for $gReleaseUser
                to dlxsadm
      </li>
                <li>Added "empty" as an option to the new
                method as well as a method to simply attach a hash
                reference to an empty DlpsSession object's persistent
                data.
      </li>
              </ul>
  </li>
            <li>DlpsUtils.pm
              <ul>
                <li>Installation instrumentation changes
      </li>
                <li>Fix HighlightHit() setlocale logic
                to be optional
      </li>
                <li>Allow 'host' to be 'localhost' in SetLocalOrRemoteMode()
                giving a local connection.
      </li>
                <li>Remove quotes and regexp metachars
                in CleanCgiParameters() and in pat50TruncationHandler()
      </li>

                <li>Added "force" to CGI call in BuildPullDown
                so that "default" value would be the selected option.
      </li>
                <li> changed USERID to REMOTE_USER
      </li>
                <li> changes for subclass directories, Integrate ObjectFactory
      </li>
              </ul>
            </li>
            <li>GroupsInfo.pm
    <ul>
                <li>Lib changes supporting arbitrary databases
      </li>
              </ul>
  </li>
            <li>LibGlobals.cfg
    <ul>
                <li>new connect string for CSV = qq{DBI:CSV:f_dir=$CSV_filedir;binary=0;csv_sep_char=\t;csv_eol=\n;csv_quote_char=;
      </li>

                <li>Install functions + change for $gReleaseUser to dlxsadm
      </li>
                <li> login url is query_null for install.
      </li>
                <li>assign MySQL_adm_username directly to gReleaseUser
      </li>
              </ul>
  </li>
            <li>ProcIns.pm
    <ul>
                <li>Fixed ProcIns ProcessPIs method typo from previous change (eliminating &amp;`, etc.)
      </li>
                <li>Change to better handle regular expression in ProcessPIs.
      </li>
              </ul>
  </li>
            <li>QueryFactory.pm
    <ul>
                <li>Remove quotes and regexp metachars in CleanCgiParameters() and in pat50TruncationHandler()
      </li>
              </ul>
  </li>
            <li>XPat.pm
    <ul>
                <li>Added better debug msg for xpat error return string &lt;error>&lt;/>
      </li>
              </ul>
  </li>

          </ul>
        
        
          <h3>Bugs Fixed</h3>
          <ul>
            <li>130: Investigate and Implement multi-page PDFs</li>
            <li>301: installation script for DLXS</li>
            <li>344: Allow AddPI to refer to a method as well as a subroutine</li>
            <li>351: DlpsUtils::CleanCgiParameters deletes params with value 0</li>
            <li>477: Architectural change to support an "Application Object"</li>
            <li>483: Word Index page gets funcky when narrowed</li>
            <li>493: Add daemon code to CVS, middleware tree, and release process</li>
            <li>508: Modify DLXS session functionality to support central repository</li>
          </ul>
        
      

      
        <h2>Text Class version 2.5.0</h2>
        
          <h3>New and Changed Functionality</h3>



          
            <h4>bin/t/text</h4>
            <ul>
              <li>TextClass subclass modules have moved to cgi/t/text/TextClass
<ul>
                  <li> </li>
                </ul> </li>
              <li>Pageviewer
<ul>
                  <li>Much work done in pageviewer: Use of
                c42pdf for tif to pdf conversion. Use of newer version
                of tif2gif. Syntax in command parameters for new xpatviewd
                daemon using "verbs" (that in xpat-5.2.4) JavaScript
                in page navigation frame to not always resubmit entire
                frameset and its multiple cgi calls. "Chunking" of
                pdfs, handling of "ready made pdfs" Minor typos in
                CmeTC. Minor typos in TextClass and proper ordering
                of two parameters in the FilterLel3and4... method.
</li>
                </ul>
</li>
              <li>DlpsLocalUtils.pm
<ul>
                  <li>Changed gHtmlTemplates to be fully
                qualified with TCGlobals package name to fix bug with
                checking of idno multiple matches.

</li>
                </ul>
</li>
              <li>PVApp.pm
<ul>
                  <li>Add DLXSROOT to baseObjDir in ServePageForIdno
</li>
                  <li>test/u/uniqname/gifcvtdir not needed
                on remote machines
</li>
                  <li>New subroutine CreatePageViewObject()
                to allow subclassing of the PageView object (pvo)
</li>
                  <li>Change to CreateMainFrameSrc to properly
                handle text view (pageviewer runs targeted to _top,
                which in turn calls text-idx in main frame).
</li>
                  <li>Fixed handling of gif image for text
                view in method for GOTO_GIF PI handling.
</li>
                  <li>Fixed ValidityChecks so that incoming
                cc is used if there is one.
</li>
                  <li>PVApp, WWApp, text-idx ww2-idx pageviewer-idx
                uses new path syntax from DlpsUtils
</li>
                  <li>Integrate ObjectFactory
</li>
                </ul>
</li>
              <li>PageView.cfg
<ul>
                  <li>Install functions + change for $gReleaseUser
                to dlxsadm
</li>
                  <li>Separate password for PageView so different
                database type can be configured at install time e.g.
                CSV for collection data abd MySQL for PageView table.
</li>
                  <li>Chnage all references in TextClassUtils
                of the genre db field to singular.
</li>
                  <li>Changes to accommodate tif2web and
                better syntax for xpatviewd daemon.
</li>
                </ul>
</li>
              <li>PageView.pm
<ul>
                  <li>FindHostName changes to Find_HTTP_HostName
</li>
                  <li>Change in maximum number for pdf chunking.
</li>
                  <li>Separate password for PageView so different
                database type can be configured at install time e.g.
                CSV for collection data abd MySQL for PageView table.
</li>
                  <li>Call to create destination directory
                for local tif2pdf.
</li>
                  <li>remove superfluous require PageView.cfg
</li>

                </ul>
</li>
              <li>importpageviewdata.pl
    <ul>
                  <li>New in Release 8
</li>
	          <li>General utility for copying page-level
              metadata stored in legacy pageview.dat files into the
              database store used by Text Class
</li>
                </ul>
  </li>
              <li>TextApp.pm
<ul>
                  <li>Changed gTextClassCgi to gTextClassCgiRoot
                in CheckIdMatches.
</li>
                  <li>handle tcumodule subclasses of TextClassUtils
                object
</li>

                  <li>FindHostName call instead Find_HTTP_HostName</li>
                <li> Install functions + change for $gReleaseUser
                to dlxsadm</li>
                  <li>Install functions + change for $gReleaseUser
                to dlxsadm</li>
                  <li>Fixed GetItemEncodingLevel to ASSERT
                if idno is not defined and changed calls to it to
                supply an idno, gotten elsewhere; e.g., from a divhead
                that is being filtered in a reslist. The bug was in
                the case of searches that had no idno in the CGI object;
                i.e., a general search.</li>

                  <li>Integrate ObjectFactory</li>
                </ul></li>

              <li>TextClass.pm
<ul>
                  <li>Lib changes supporting arbitrary databases
</li>
                  <li>Added $gRankFilePath and read 'rankfile'
                path frorm db. FIxes broken moa sorting.
</li>
                  <li>Change firstpublished to firstpublishedstart
                firstpublishedend and firstpublishedinc
</li>


                  <li> Type in call to GetItemEncodingLevel.
</li>
                </ul>
</li>
              <li>TextClassUtils.pm
<ul>
                  <li>Links to homesite do not use userpath
                in development.
</li>
                  <li>Chnage all references in TextClassUtils
                of the genre db field to singular.
</li>
                  <li> Added userpath to GetCollFilePath method.
</li>
                </ul>
</li>
              <li>WWApp.pm
<ul>
                  <li>ValidityChecks in WWApp to add cc.
</li>
                  <li>Fix missing sid on quicklink found
                by Sakaama
</li>
                  <li>Integrate ObjectFactory
</li>
                </ul>Integrate ObjectFactory
</li>
              <li>pageviewer-idx
<ul>
                  <li>Addition of CioFactory in pageviewer-idx and ww2-idx.
</li>
                  <li>Lib changes supporting arbitrary databases.
</li>
                  <li>changed #!/l/local/bin/perl to #!../../../bin/symlinks/perl
                to facilitate installation
</li>
                  <li>Installation instrumentation changes
</li>
                  <li>New subroutine CreatePVApp() to allow
                subclassing
</li>
                  <li>Much work done in pageviewer: Use of
                c42pdf for tif to pdf conversion. Use of newer version
                of tif2gif. Syntax in command parameters for new xpatviewd
                daemon using "verbs" (that in xpat-5.2.4) JavaScript
                in page navigation frame to not always resubmit entire
                frameset and its multiple cgi calls. "Chunking" of
                pdfs, handling of "ready made pdfs" Minor typos in
                CmeTC. Minor typos in TextClass and proper ordering
                of two parameters in the FilterLel3and4... method.
</li>
                  <li> PVApp, WWApp, text-idx ww2-idx pageviewer-idx
                uses new path syntax from DlpsUtils
</li>
                  <li> Integrate ObjectFactory
</li>
                </ul>
</li>
              <li>text-idx
<ul>
                  <li>Lib changes supporting arbitrary databases.
</li>
                  <li>changed #!/l/local/bin/perl to #!../../../bin/symlinks/perl to facilitate installation
</li>

                  <li>handle appmodule subclasses of TextApp
                object
</li>

                  <li>PVApp, WWApp, text-idx ww2-idx pageviewer-idx
                uses new path syntax from DlpsUtils
</li>
                  <li>Integrate ObjectFactory
</li>
                </ul>
</li>
              <li>textclass.cfg
<ul>
                  <li>Links to homesite do not use userpath
                in development. Added $gDevelopmentHost to TCGlobals
                package (textclass.cfg)
</li>
                  <li> obj -> misc directory structure change
</li>
                  <li>Added $gRankFilePath
</li>
                  <li>Install functions + change for $gReleaseUser to dlxsadm
</li>

                </ul>
</li>
              <li>ww2-idx
<ul>
                  <li>Addition of CioFactory in pageviewer-idx and ww2-idx.   Lib changes supporting arbitrary databases.
changed #!/l/local/bin/perl to #!../../../bin/symlinks/perl to facilitate installation.
Installation instrumentation changes. Integrate ObjectFactory
</li>
                </ul>
</li>

            </ul>


          

          
            <h4>web/t/text</h4>
            <ul>
              <li>bibext.tpl
    <ul>
                  <li>Missing &lt;input type=prox,citation,boolean
                in all extended forms>
      </li>
                </ul>
  </li>
              <li>booleanext.tpl
    <ul>
                  <li>Missing &lt;input type=prox,citation,boolean
                in all extended forms>
      </li>
                </ul>
  </li>
              <li>header.tpl
    <ul>
                  <li>minor changes to the css file for nav
                colors, and removed footer nav from header.tpl
      </li>
                </ul>
  </li>
              <li>pageviewer.frameset.tpl,pageviewer.nav.tpl,pageviewer.pagenav.tpl
    <ul>
                  <li>Change of template for page navigation
                in pageviewer. Extra JavaScript to handle the updating
                of frames, rather than the re-submission of the entire
                frameset and its cgi's, if full re-submission is not
                necessary. Pdf page chunking also now incorporated. Changed orientation of frameset to
                horizontal
      </li>

                </ul>
  </li>
              <li>proximityext.tpl
    <ul>
                  <li>Missing &lt;input type=prox,citation,boolean
                in all extended forms>
      </li>
                </ul>
  </li>
              <li>search.js
    <ul>
                  <li>Making sure that the "genre" javascript
                array and genre pulldown are built with the singular
                genre and not plural (part of a coll db column name
                change back to singular).
      </li>
                </ul>
  </li>
              <li>textclass.css
    <ul>
                  <li>minor changes to the css file for nav
                colors, and removed footer nav from header.tpl
      </li>
                </ul>
  </li>
            </ul>
          
        

        
          <h3>Fixed Bugs</h3>
          <ul>
            <li>n/a</li>
          </ul>
        
      

      
        <h2>Bib Class version 2.1.6</h2>
        
          <h3>New and Changed Functionality</h3>
          <ul>
            <li>BibApp.pm
    <ul>
                <li>Lib changes supporting arbitrary databases.
      </li>
                <li>removed locale == 'c' and now handle
                appmodule subclasses of BibApp object
      </li>

                <li>Fixed tpl parameter handling so searches
                can use custom pages as wel as just when we are serving
                a page
      </li>
                <li>Change FindHostName() to Find_HTTP_HostName() for remote connect handling
      </li>
                <li>Install functions + change for $gReleaseUser to dlxsadm
      </li>
                <li>Long display is now a separete html page for fgdc data.
      </li>
              </ul>
  </li>
            <li>bib-idx
    <ul>
                <li>fix app object creation for single
                class mode
      </li>
                <li>handle
                appmodule subclasses of BibApp object. Integrate ObjectFactory
      </li>
                <li> BibApp uses new path syntax from DlpsUtils
      </li>
              </ul>
  </li>
            <li>bibclass.cfg
    <ul>
                <li>Install functions + change for $gReleaseUser
                to dlxsadm
      </li>
              </ul>
  </li>
            <li>default.functions.cfg
    <ul>
                <li>fixed &lt;W> problems in short and long
                filters
      </li>
              </ul>
  </li>

          </ul>

        
      

      
        <h2>Image Class version 2.3.1</h2>
        
          <h3>New and Changed Functionality</h3>
          <ul>
            <li>Added support for CollMgr (collection manager).</li>
            <li>Modified to use LibGlobals.pm.</li>
            <li>Changed perl hash bangs and MrSID retrieve path to reference symlinks in /bin/symlink.</li>
            <li>Rearranged code for compliance as DLXS application object. This included moving globals to the ICGlobals name space.</li>
            <li>Added cgi parameter adjustment for situations where there is a cc but no c parameter. c is set to equal cc.</li>
            <li>Modified to work with ObjectFactory.</li>
            <li>Corrected the problem where an attempt was made to connect to the BookBagDB even if $gBookBagToggle was set to "off".</li>
            <li>Changed to Find_HTTP_Host for proper support of localhost in collmgr. Fixed bug in MySQL_username.</li>
            <li>Modified makeCollectionmaps-idx so that it uses only collids from collmgr rows that are appropriate to the situation (collmgr-release, production, or userid)</li>
            <li>Modified middleware to support automated installation.</li>
            <li>All uses of the USERID environment variable were changed to REMOTE_USER since USERID has been depricated.</li>
            <li>Corrections and enhancements were made to the contextual instructions in %gViewInstruct and %gWords of imageclass.cfg.</li>
            <li>Added support for AUTHZD_COLL file for command link collection authorization.</li>
            <li>Added auto-support of g=all for getthumbnail-idx which was failing without it.</li>
            <li>Corrected bug where image would fail to display if session was new. It worked when using an old session because the group parameter would get picked up from the session.</li>
            <li>If mrsid_retrieve is not found, Sidget2 module now reports this as a debug message. It does not bail, because there are some situations where it is OK that mrsid_retrieve is not available. getimage-idx now uses group "all" if it is not a cross collection search. This corrects a problem where an inappropropriate group was being used when a collection specific search was initiated from a non-all group selection page.</li>
            <li>Corrected the problem where the cross collection search form was not displaying a collection's searchable fields in the case where a single collection was selected and the dfltsrchflds collmgr entry was "default".</li>
            <li>Links to getthumbnail-idx were getting built without a session id. This is now corrected.</li>
            <li>Fixed problem where fallback was not working for "viewtabs" graphics in the sense that the middleware was not checking for the presense of collection specific files.</li>
            <li>Corrected a problem where bbentry.tpl and entry.tpl templates lacked quote marks around an attribute value for a PI. In bbentry, this caused the graphics for panning and zooming to not display properly.</li>
          </ul>
        




        
          <h3>Fixed Bugs</h3>
          <ul>
            <li>345 v2 collection selection</li>
            <li>347 v2 new image controls and quality parameters</li>
            <li>348 v2 personal collection management tools</li>
            <li>349 v2 login interface</li>
            <li>350 v2 results with full record</li>
            <li>388 v2 independent sid serving</li>
            <li>396 v2: problem with quotes in alt tags for images</li>
            <li>397 v2: migrate to multiregion</li>
            <li>410 v2: handling of help email</li>
            <li>411 v2: make sure that null q2 with no q1 still works</li>
            <li>412 v2: migrate to sgml without line breaks</li>
            <li>413 v2: thumbfull results divs not display right in netscape agitator</li>
            <li>415 v2: sids displayed in open portfolio window</li>
            <li>417 v2: ImageClassUtils::insertCollName should use colldb for collname</li>
            <li>418 v2: ImageClassUtils::thumbrecordfilt should use colldb briefcollname</li>
            <li>421 v2: meta categs other than dublin core (search forms and sort menu)</li>
            <li>422 v2: remove old access control mechanism</li>
            <li>426 v2: temp cgi dir must be configurable</li>
            <li>446 v2: id resolver functionality</li>
            <li>454 v2: add search term highlighting in results</li>
            <li>456 v2: add slideshow to entry view, and cgi memory for the last view</li>
            <li>459 v2: css/template cleanup</li>
            <li>460 v2: move interface english from cgi to configurable place</li>
            <li>462 v2: makeCollectionmaps needs updating</li>
            <li>463 v2: sorting broken</li>
            <li>464 v2: support for version 3 browsers</li>
            <li>465 v2: better feedback for zero results searches</li>
            <li>486 v2:need to use web path in groups db</li>
            <li>490 v2: hide field display based on value (IMLS)</li>
            <li>512 v2: check urls for backward compatability</li>
            <li>514 v2: related views not displaying in ie os x, at least</li>
            <li>515 v2: should image size defaults be in colldb?</li>
            <li>518 v2:implement new collection info template</li>
            <li>520 v2:Include thumb image in record description table in full record resu</li>
            <li>521 v2:create template for no results page</li>
            <li>522 v2: makeColls can't move new .pm in to place</li>
            <li>532 v2: unnecessary step in choosing a collection ?</li>
            <li>533 v2: unnecessary steps in choosing a collection (?)</li>
            <li>534 v2: minimal description needed on page with full image</li>
            <li>535 v2: "i" buttons not intuitive for searching</li>
            <li>536 v2: delete portfolio button missing in netscape</li>
            <li>537 v2: delete portfolio button missing in netscape</li>
            <li>538 v2: portfolio addition interface lacks radio button</li>
            <li>551 v2: no horizontal scroll bar in entry view</li>
            <li>554 v2: image structures need some flexibility</li>
            <li>563 v2: xcoll reslist results view needs collname in records</li>
            <li>564 v2: slideshow results view needs redirect from cgi for backward compat</li>
            <li>565 v2: record display after sorting displays wrong record.</li>
            <li>566 v2: contact colldb collname change</li>
            <li>570 v2: should we add group descriptions to groups.tpl?</li>
            <li>580 v.2: APIS 'descriptive info' links could be explained more fully.</li>
            <li>586 v2: add colldb config of sid nlevel range</li>
            <li>657 v2: search form clear button doesn't work for revised searches</li>
            <li>679 IMLS: Correct header display when using "select groups" link to return</li>
            <li>681 IMLS: independent selection of display fields for each view</li>
            <li>682 IMLS: display collection db name for each view</li>
            <li>687 IMLS: bug in access point drop-down menu</li>
            <li>732 collection names should be links in group list</li>
            <li>739 is "images with full record" an appropriate designation</li>

          </ul>
        
        
          <h3>Known Problems</h3>
          <ul>
            <li>Image Class does not work properly when using MySQL for the session database. CSV is therefore preferred. Since the session database is configured in Lib (i.e., globally for all of DLXS), CSV must be used for all Classes if Image Class is to be used. The installer will ask, "Select the session datastore type," which should be answered "CSV" if Image Class is to be used. The configuration can be changed post-install by editing the value of $gSessDatabaseSelector in /DLXSROOT/lib/DlpsSession.cfg.</li>
            <li>The Makefiles for building Image Class XPAT indexes allocate 384 MB to
the xpatbld process. If the memory allocation fails, the allocation
should be lowered using the following guideline:
Memory allocation for xpatbld (-m 384m) should be no more than 3/4
physical memory. And, there is no need for it to be more than twice
thesize of the .sgm file.
</li>
          </ul>
        
      

      
        <h2>Finding Aids version 2.0.1</h2>
        
          <ul>
            <li>No change from Release 6</li>
          </ul>
        
      

      
        <h2>Broker version 1.1.2</h2>
        
          <ul>

            <li>This release of broker uses the bib collections maintained by Collmgr, rather than a copy of these collections.</li>
            <li>Sets are created based on groups that have the OAI parameter set to Y or y.   Sets are also composed of the specific collections that make up these groups.</li>
            <li>Added installation parameters to make Broker easier to setup.</li>
            <li>Complete Latin-1 Unicode support was added, and a couple of other characters.</li>
          </ul>
        
      

      
        <h2>Collmgr version 1.0.0</h2>
        
          <ul>
            <li>This is the initial release of Collmgr.</li>
            <li>Collmgr is responsible for maintaining collection and group information for the three DLXS classes.  It interface to either a MySQL database or a CSV database, and maintains collection/group data there.</li>
            <li>Collmgr works kind of like a configuration management system, where users login and check out collections/groups, make changes to them, test these changes and then checkin their changes.</li>
            <li>Collmgr can also perform specific administrative functions, like adding and deleting collection/group fields to the database, and releasing the checked in collections/groups to production.</li>
          </ul>
        
      


      
        <h2>Finding Aids version 2.0.3</h2>
        
          <ul>
            <li>No significant changes from  Release 7</li>
          </ul>
        
      
    



    
      <h1>DLXS  Release 7 - 9 JAN 2002</h1>
      
        <h2>General Information</h2>
        <p>This is an interim release of DLXS middleware intended to distribute Image
  Class version 2.0.0, which is a complete rewrite of the class. </p>
        <p>DLXS  Release 6 is comprised of TextClass version 2.3.0, BibClass version
  2.1.0, FindingAids version 2.0.1, ImageClass version 2.0.0, Broker version 1.1.0
  and XPAT version 5.2.3. </p>

      
        <h2>XPAT version 5.2.3</h2>
        
          <ul>
            <li>No change from  Release 6</li>
          </ul>
          
        <h2>Text Class version 2.3.0</h2>
        
          <ul>
            <li>No change from  Release 6</li>
          </ul>
          
        <h2>Bib Class version 2.1.0</h2>
        
          <ul>
            <li>No change from  Release 6</li>
          </ul>
          
        <h2>Image Class version 2.0.0</h2>
        
          <h3>New and Changed Functionality</h3>
          <p>Image Class was rewritten to improve performance and to make better use of
  DLXS Lib, colldb, and groups. To the extent possible, backward compatability
  for cgi parameters was maintained.</p>
          <p>Several key enhancements have been made:</p>
          <ul>
            <li>Interface redesign</li>
            <li>Results sorting</li>
            <li>Portfolios (a.k.a., personal collections)</li>
            <li>Greater use of common DLXS libraries</li>
            <li>Support for more image file formats and sizes</li>
            <li>Support for remote image serving (images may be served from a different
      machine than the middleware and xpat indexes)</li>
            <li>Collection specific XPAT indexes</li>
            <li>Results caching for faster navigation in a result set</li>
            <li>Support for Cascading Style Sheets</li>
            <li>Extensive use of COLLDB for collection configuration and customization</li>
            <li>Collection grouping</li>
          </ul>
        
        
          <h3>Known Problems</h3>
          <p>imageclass.cfg attempts to establish connection with mysql for BookBagDB functionality, even if BookBag functionality is turned off. Please make the following adjustments <b>(in bold)</b> to the imageclass.cfg...</p>
          <pre>### BookBagDB Configuration
{
    my $dsn;
    my $username = 'usernamehidden';
    my $pw = 'passwordhidden';
    $gbbagentrydivsdefault = 'full image';
    $gBbagTableName = 'BookBagDB';


<b>    if ($gBookBagToggle)
      {</b>
        if ( $ENV{'DLPS_DEV'} )
          {
            $dsn = 'DBI:mysql:dlxs:fizzie.umdl.umich.edu:';
          }
        else
          {
            $dsn = 'DBI:mysql:dlxs:dlps1.umdl.umich.edu:';
          }
        eval{ $gDBHBbag = &amp;DbUtils::Connect_DBI($dsn, $username, $pw); };
        if ( $@ )
          {
            &amp;DlpsUtils::errorBail( $@ );
          }
<b>
      }</b>
  }
</pre>

        
        
        <h2>Finding Aids version 2.0.1</h2>
        
          <ul>
            <li>No change from  Relase #6</li>
          </ul>
          
        <h2>Broker version 1.1.0</h2>
        
          <ul>
            <li>No change from  Release 6</li>
          </ul>
          
        <h2>Lib version 2.4.0</h2>
        
          <ul>
            <li>No change from  Release 6</li>
          </ul>
         
          <h3>Backward Compatibility</h3>
          <p>No changes from  #6</p>
           
      <h1>DLXS  Release 6 - 1 OCT 2001</h1>
      
        <h2>General Information</h2>
        <p>This is an interim release of DLXS middleware intended to distribute bug fixes, functional enhancements and coding clean-ups which have occurred since the 30 MAR 2001  Release 5. </p>
        <p>DLXS  Release 6 is comprised of TextClass version
2.3.0, BibClass version 2.1.0, FindingAids version 2.0.1, ImageClass
version 1.0.6, Broker version 1.1.0 and XPAT version 5.2.3. </p>
        <p>These fixes and enhancements apply primarily to TextClass,
BibClass  and Lib. ImageClass version 1.0.6 and XPAT 5.2.3 (both first
delivered in DLXS  Release 5) are unchanged in this release.</p>
        <p>With this release comes the initial delivery of Broker version 1.1.0.</p>
      
      
        <h2>XPAT version 5.2.3</h2>
        
          <h3>New and Changed Functionality</h3>
          <ul>
            <li>No change from  Release 5</li>
          </ul>
        
        
          <h3>Fixed Bugs</h3>
          <ul>
            <li>n/a</li>
          </ul>
        
        
          <h3>Known Problems</h3>
          <ul>
            <li><code>xmlrgn</code> makes all the region names all uppercase.  Element names in XML are case-sensitive.                                 "P" and "p", for instance, would be two completely different elements.  XPAT cannot work with documents that might have elements with the same name, but different case.  Such documents are rare. </li>
            <li> <code>xmlrgn</code> will complain: <code>...omitted tag minimization parameter can be omitted only if "OMITTAG NO" is specified on the SGML declaration</code>.  This is unexpected since XML doesn't allow the minimization parameter. The xml.dcl file included with the XPAT distribution can be used to work around these problems. </li>
            <li> <code>xmlrgn</code> will complain: <code>...general entity "lt" (or "gt" or "amp) not defined and no default entity</code>.    This is unexpected since they are three of the five predefined or "built-in" entities of XML.  The xml.dcl file included with the XPAT distribution can be used to work around these problems. </li>
          </ul>
        
      
      
        <h2>Text Class version 2.3.0</h2>
        
          <h3>New and Changed Functionality</h3>
          
            <h4>cgi/t/text</h4>
            <ul>
              <li>subclass modules (in general)
              <ul>
                  <li>Mandatory to define <code>maxdepthitems</code> array for each subclasses. Enforced via assertion in base class.  This is because every collection has different "lowest level" elements in reslist display.</li>
                  <li>Extensive rework of notes handling removed much of the need to over-ride base class notes filtering in the subclasses.  There are now 2 mechanisms to define <code>NOTEPARENT</code> regions: (1) as usual in the <code>coll.extra.srch</code> as a fabricated region and (2) explicitly in the subclass code (if the parent regions may be nested).</li>
                </ul>
            </li>
              <li>Wordwheel
              <ul>
                  <li>makeWordWheelFiles.pl: split on all non-alphanumerics including all 8 bit to fix problem with \0255 masquerading as '-'</li>
                  <li>sample.ww.blank.dd: Added \346 (ae ligature) to &lt;mappings> as 'e' to fix wordwheel problem of aem appearing when 'm' is entered due xpat bug where "" is indexed as an empty string.</li>
                </ul>
            </li>
              <li>text-idx
              <ul>
                  <li>New customization mechanism: code to import <code>trap</code> routines from DlpsLocalUtils.pm</li>
                  <li>Added eval around <code>EmailBookBag</code> to trap malformed address message thrown from BookBag.pm</li>
                  <li>Added <code>AUTHZD_COLL</code> file for debugging as a proxy for auth system to set contents of <code>AUTHZD_COLL</code> environment variable</li>
                  <li>Added "groups" functionality.  A group is a set of collections.  The group is based on the "groups" database table and is specified by the <code>g</code> URL parameter.  This functionality is as yet not exposed in the user interface. </li>
                  <li>Added fallback mechanism for locating templates. If handling a pagespec URL parameter we "fallback" from collection-specific directory to a group-specific directory to the class web directory. If xcollmode is 'group' fallback from group to class. If xcollmode is 'colls' no fallback. If not in xcollmode, fallback from collection-specific dir to class web directory.</li>
                  <li> <code>ValidityChecks</code> makes sure <code>cc</code> matches one of the <code>c</code> URL parameters</li>

                </ul>
            </li>
              <li>ww2-idx
              <ul>
                  <li>Fix problem with uppercase search term not matching the always lowercase ww sgml data resulting in item not highlighted. </li>
                  <li>Fix spacing of WORDWHEEL_UP|DOWN_BUTTON</li>
                  <li>Add <code>Debug_AUTHZD_COLL</code> calls so pageviewer and ww2 can run as stand-alone scripts in debug mode to pick up the list of authorized collections in AUTHZD_COLL file. </li>

                </ul>
            </li>
              <li>pageviewer-idx
              <ul>
                  <li>Changes to generalize the dlpsid resolver (if only a abc1234 formatted id comes in without 00x.000x volume.issue qualifier). Code put in an installation local Utils file (DlpsLocalUtils) and a subroutine to call the code as a "trap". </li>
                  <li>Add <code>Debug_AUTHZD_COLL</code> calls so pageviewer and ww2 can run as stand-alone cgi's in debug mode to pick up the list of authorized collections in AUTHZD_COLL file. </li>

                </ul>
            </li>
              <li>textclass.cfg
              <ul>
                  <li>Changes to handle new <code>trap</code> mechanism </li>
                  <li>Added German to default languages </li>
                  <li>Fix authentication problem where static variable hard-coded to "ets" was used instead of the <code>CGI::self_url</code> of the current $cgi object: Delete: $gRedirToAuthSystem = 'http://ets.umdl.umich.edu/t/text'; </li>

                </ul>
            </li>
              <li>TextClass.pm
              <ul>
                  <li>Changes to handle multiple idno matching trap.</li>
                  <li>Moved <code>MakeButtonLinkFromDivT</code> routine to TextClass.pm so that it can be overridden.</li>
                  <li>Moved <code>BuildGoToHeaderViewButton</code> from TextClassUtils to TextClass and changed from a subroutine to method so it can be overridden. </li>
                  <li>Moved <code>BuildGoToHeaderViewButton</code> from TextClassUtils to TextClass and changed from subroutine to method so it can be overridden </li>
                  <li>Fixed <code>singlegenre,</code> <code>singlegender</code> and <code>singleperiod</code> not appearing in templates by not deleting the <code>mapped</code> key from the CIO when that object is instantiated and checking for it in <code>TextClass->GetValueByKey</code> </li>
                  <li>Fix misspelling of "caesura" in <code>TextFilter</code> </li>
                  <li>Change to <code>GetValueByKey</code> in TextClass.pm to look for those bits of info that come from the CollsInfo object contained in the TextClass object (rather than having come from direct setting of the TextClass object).</li>
                  <li>Make low encoded text page viewing preserve the line breaks </li>
                  <li>Significant changes to how notes and their scoping parents are searched for and filtered.   There are now 2 mechanisms to define <code>NOTEPARENT</code> regions: (1) as usual in the <code>coll.extra.srch</code> as a fabricated region and (2) explicitly in the subclass code (if the parent regions may be nested). </li>
                  <li>Improvements to <code>EDITION[STMT}</code> filtering in <code>_HeaderFilter</code> </li>
                  <li>Fixed bug where <code>psetoffset</code> was not properly being passed into the XPat object and so was not used in properly calculating the byte offset (used in ordering results) when type was PSet. </li>
                  <li>Added filtering in <code>TextFilter</code> to remove <code>DLPSTEXTCLASS</code> tags and to add lines for <code>&lt;P TYPE="SKIPLINE"></code> </li>
                  <li>Added error messages identifying <code>rgn</code> URL parameter value when we have an <code>ASSERT</code> failure trying to terminology map a region </li>
                  <li>Modified calls to <code>AddPI</code> passing method names rather than coderefs to allow method invocation on derived classes via <code>ProcessPI.</code> </li>
                  <li>Call <code>_HeaderFilter</code> as a method rather than subroutine </li>
                  <li>Moved <code>FilterPBs,</code> <code>HI_Filter,</code> <code>FigureFilter</code> from TextClassUtils to TextClass methods.</li>
                  <li>Added <code>HtmlForNoIndentLevel</code></li>
                  <li>Made <code>$gTextClassCgi</code> a <code>main::</code> global moved out of TextClassUtils.pm</li>
                  <li>Fix regexp in <code>ParsePbTag</code> causing Page 'NA' to be displayed for all pages for <code>HEADER_TOC</code> PI.</li>
                  <li>Added <code>HandleHighlighting</code> to support special input mapping for collections like CME. Special input mapping allows the user to enter uppercase characters as proxies for certain other characters (e.g Middle English 'yogh') that cannot easily be generated at the keyboard and to search for same in specially prepared collection data.</li>
                  <li>Added filtering to <code>TextFilter</code> to map &lt;S> (textclass.dtd sentence element, html strikethru) to nothing.   Added similar filtering to <code>CleanResidualTags</code> for KWIC handling.</li>
                  <li> Changed gender restriction query building
                to include a new fabricated region <code>GENDERWITHIN</code> to handle cases where the <code>GENDER</code> fabricated region is in the <code>HEADER</code> sometimes and within <code>divwithinfo</code> other times.</li>
                  <li>Added <code>GetNoteMaxDivHead</code> to indicate the deepest level at which NOTE1 or PTR might occur. Needed to know where to start looking for parent DIV (HEAD). Formerly used <code>GetDivHeadRange</code> but that does not work because we don't always display the deepest DIVs in results.</li>
                  <li>Fixed query in sub <code>PageFilterForLowLel:</code> <code>ENCODINGDESC-T</code> should have been <code>EDITORIALDECL-T</code></li>
                  <li>Added filtering to <code>TextFilter</code> to better handle the content of <code>&lt;FRONT></code> e.g. in bwrp. Improve stray tag cleanup in general by calling <code>DlpsUtils::RemoveTags</code> </li>
                  <li>Added <code>FilterFullRegion</code> method called from <code>_ScopedResultsFilter</code> to handle <code>fullregion</code> search results in an subclass over-ridable way.</li>
                  <li>Add <code>FigureToHTML</code> method (over-ridable) to replace <code>&lt;FIGURE></code> with <code>&lt;img></code> (or whatever). </li>
                  <li>Add highlighting functionality to notes display.  Links that point to notes that contain hits are displayed in red.  Hits are highlighted  in results displayed in Notes window.</li>
                </ul>
            </li>
              <li>TextClassUtils.pm
              <ul>
                  <li>TextClassUtils is now a Perl Class module which is instantiated as a TCUO object by the 3 TextClass cgi programs. As such all the subroutines in TextClassUtils can be over-ridden as methods of a subclass of the TextClassUtils Class. This change requires a new syntax: <code>TextClassUtils::Sub</code> becomes <code>$tcuo->Sub</code> </li>
                  <li>Now call <code>Find_HTTP_HostName</code> when building links so virtual hosts with different <code>DocumentRoot</code> values are supported. </li>
                  <li>Added <code>ProcessGraphicsPathPI</code> to handle <code>GRAPHICS_PATH</code> PI for graphics file location fallback mechanism </li>

                </ul>
            </li>
            </ul>

          
          
            <h4>web/t/text</h4>
            <ul>
              <li>templates (in general)
              <ul>
                  <li>Add <code>COLL_SPECIFIC_CONTENT</code> PI for inline help </li>
                  <li>Add <code>GRAPHICS_PATH</code> PI supporting graphics file fallback </li>
                  <li>Changes to navbars and to main style sheet </li>
                </ul>
            </li>
              <li>pageviewer.frameset.tpl
              <ul>
                  <li>Increased vertical real estate </li>
                </ul>
            </li>
              <li>pageviewer.nav.tpl
              <ul>
                  <li>Significant layout changes </li>
                  <li>Minor adjustment to nav background graphics</li>
                </ul>
            </li>
              <li>pageviewer.main.tpl
              <ul>
                  <li>Added class=indentBlock to main frame </li>
                </ul>
            </li>
              <li>simpleext.tpl
              <ul>
                  <li>Add <code>&lt;input type="hidden" name="type" value="simple"></code> instead of letting it default so statistic gather will be accurate </li>
                </ul>
            </li>
              <li>textclass.css
              <ul>
                  <li>Added styles for <code>&lt;SPEAKER></code> and <code>&lt;STAGE></code> elements for theater related collections </li>
                </ul>
            </li>
              <li>ww-full.tpl
              <ul>
                  <li>Fix spacing of WORDWHEEL_UP|DOWN_BUTTON and use of smaller arrow graphics </li>
                </ul>
            </li>
            </ul>

          
          
            <h4>obj/t/text/maps</h4>
            <ul>
              <li>maps in general
              <ul>
                  <li>Several new maps added. </li>
                  <li><code>TARGETPARENT,</code> <code>NOTEPARENT,</code> <code>TARGET</code> removed from most maps.</li>
                </ul>
            </li>

            </ul>

          
          
            <h4>obj/t/text/db</h4>
            <ul>
              <li>groups
              <ul>
                  <li>New table: 'groups' added.  See above. </li>
                </ul>
            </li>
              <li>colldb
              <ul>
                  <li>Fixed 1500-1600 to read: pre-1600 in some collections.</li>
                </ul>
            </li>
            </ul>

          
        
        
          <h3>Fixed Bugs</h3>
          <ul>
            <li>Bugzilla #271 Idnos do not expand when given a 7 digit NOTIS ID, pages cannot be viewed</li>
            <li>Bugzilla #308 Home links in header do not include session ID</li>
            <li>Bugzilla #230 First scoped head is a garbage kwic</li>
            <li>Bugzilla #253 Update code to handle latest version (1.53) of Apache::Session</li>
            <li>Bugzilla #270 HighlightHit cannot differentiate between text in tags and actual content</li>
            <li>Bugzilla #293 Collection wordwheel Makefiles need to be changed to not use MFS indexing</li>
          </ul>
        
        
          <h3>Known Problems</h3>
          <ul>
            <li>n/a</li>
          </ul>
        
      
      
        <h2>Bib Class version 2.1.0</h2>
        <p>This release does not include any significant improvements in functionality.  It is focused mainly on bug fixes. Not listed in a separate item below is support for an ID attribute on the A element in bib.map.</p>
        
          <h3>New and Changed Functionality</h3>
          
            <h4>cgi/b/bib</h4>
            <ul>
              <li>bib-idx
              <ul>
                  <li>Fixed <code>CleanCgiParameters</code> call to use the one in DlpsUtils instead of the one in main which
                has bugs.</li>
                  <li>Fixed <code>ASSERT</code> failure where <code>cc</code> is <code>ALLSELECTED</code> and no Terminology Mapper defined for <code>ALLSELECTED</code> - use default Terminology Mapper since we only need the standard mapping for <code>rgn1</code> </li>
                  <li>Added call to <code>TerminologyMapper::GetMapfileName</code> for better error reporting.</li>
                  <li>Fix pagespec/pagename parameter convention to adhere to DLXS parameter standard <code>page=pagespec</code> <code>pagename=somepage.tpl</code></li>
                  <li>Added AUTHZD_COLL debugging file functionality</li>
                </ul>
            </li>

              <li>bibclass.cfg
              <ul>
                  <li>Fix authentication problem where static variable hard-coded to "ets" was used instead of the <code>CGI::self_url</code> of the current $cgi object: Delete: <code>$gRedirToAuthSystem</code> = 'http://ets.umdl.umich.edu/t/text'; </li>
                </ul>
            </li>

              <li>specific.functionality.cfg
              <ul>
                  <li>Many new filters added </li>
                </ul>
            </li>
            </ul>
          
        
        
          <h3>Fixed Bugs</h3>
          <ul>
            <li>Bugzilla #295 DLXS map files not being read. Only bib.map was being read for NonStandardBaseQueryNaturalLanguage</li>
          </ul>
        
        
          <h3>Known Problems</h3>
          <ul>
            <li>Bugzilla #272: BibClass does not build links based on the
				  'host' field in the database so links to collections hosted on machines other
				  than the machine running bib-idx will point to to the local machine data which
				  usually does not exist (rather it is on a remote machine). This will only be a
				  problem if BibClass colldb contains rows for more than one host.</li>
          </ul>
        
      
      
        <h2>Image Class version 1.0.6</h2>
        
          <p>This release is identical to that contained in DLXS  Release 5. Considerable
				architectural and functional enhancements are scheduled for version 2 of the
				Image Class, expected to be released in late 2001.</p>
        
      
      
        <h2>Finding Aids version 2.0.1</h2>
        
          <h3>New and Changed Functionality</h3>
          <ul>
            <li>All non-idresolver code for <code>&lt;DAO></code> filtering has been removed.</li>
            <li>Fix boolean searches in the Collection Title Field produced no matches.</li>
          </ul>
        
        
          <h3>Fixed Bugs</h3>
          <ul>
            <li>n/a</li>
          </ul>
        
        
          <h3>Known Problems</h3>
          <ul>
            <li>n/a</li>
          </ul>
        
      
      
        <h2>Broker version 1.1.0</h2>
        
          <h3>Functionality</h3>
          <ul>
            <li>This initial release of broker consists of the implementation of the OAI Protocol for metadata harvesting, and the implementation of most of the Dienst verbs. The implementation is Unicode compliant, and uses an interface to a mysql database to create responses for some of the Dienst verbs.</li>
          </ul>
        
        
          <h3>Fixed Bugs</h3>
          <ul>
            <li>n/a</li>
          </ul>
        
        
          <h3>Known Problems</h3>
          <ul>
            <li>n/a</li>
          </ul>
        
      
      
        <h2>Lib version 2.4.0</h2>
        <p>This release of the shared DLXS library modules incorporates some minor enhancements to the API and significant additional functionality in the database interface defined in DbUtils.pm.</p>
        
          <h3>New and Changed Functionality</h3>
          <ul>
            <li>BookBag.pm
              <ul>
                <li>Rename method in <code>DlpsSession::Delete</code> to <code>DeleteSession</code> (also for warning re: redefinition of <code>Delete</code> </li>
              </ul>
            </li>
            <li>CollsInfo.pm
              <ul>
                <li>Modifications below the API to generalize data access via DBI. </li>
                <li><code>AddClassObjects</code> now passes <code>$optionalArgsRef</code> to class <code>new</code> method to support a subclass-able TextClassUtils object at first element of this argument array.</li>
              </ul>
            </li>
            <li>DevUtils.pm
              <ul>
                <li>Add <code>Debug_AUTHZD_COLL</code> to support reading debug-time authorized collection list from a file.  This, so all classes can benefit. </li>
              </ul>
            </li>
            <li>
              <ul>
                <li>Rename method in <code>DlpsSession::Delete</code> to <code>DeleteSession</code> </li>
              </ul>
            </li>
            <li>DlpsUtils.pm
              <ul>
                <li>Added mapping for &amp;grqu; => " in <code>FilterCharEnts_CH_Greek</code> for Chadwick-Heealy collections</li>
                <li>Added entity mapping for &amp;quest; => '?'</li>
                <li>Assorted additional character entity filtering additions.</li>
                <li><code>ReAuthorizeLink</code> changes to fix authentication problem where static variable hard-coded to "ets" was used instead of the <code>CGI::self_url</code> of the current $cgi object.</li>
                <li>Use temporary cgi in <code>ReAuthorizeLink</code> so sid does not get lost.</li>
                <li> Add <code>Find_HTTP_HostName</code> to call when building links so virtual hosts with different <code>DocumentRoots</code> will be correct.</li>
                <li>Added subroutine <code>GetTagAttributes</code> to return key/value hash of attributes/values in a tag.</li>
                <li>Added <code>GroupGroupResolution</code> to aid in groups processing.</li>
                <li>Workaround DLPS authentication module problem where %20 mapped to '+' in redirect in <code>ReAuthorizeLink</code>x</li>
                <li>Improve stray tag cleanup in general by adding <code>DlpsUtils::RemoveTags</code> </li>
                <li>Call <code>TrimSpaces</code> on each cgi parameter in <code>CleanCgiParameters</code> so we don't pass along "stuff " or even " " to query factory (which accepts this blindly).</li>
                <li>Added boolean return value to <code>HighlightHit</code> to indicate whether text contained a hit that was highlighted.</li>
                <li>Add <code>$noSub</code> (parameter to <code>HighlightHit</code> to check for hits without adding highlighting.</li>
              </ul>
            </li>
            <li>GroupsInfo.pm
              <ul>
                <li>Modifications below the API to generalize data access via DBI.</li>
              </ul>
            </li>
            <li>ProcIns.pm
              <ul>
                <li> <code>ProcIns::ProcessPIs</code> now accepts either a subroutine ref or a string containing (possibly subclassed) object method names for specifying the routine to run to handle a PI.</li>
                <li>Modified <code>GetParms</code> to return writable copy of parameter array for possible modification (shift) in <code>ProcessPI</code> for method invocation on derived classes.</li>
              </ul>
            </li>
            <li>TerminologyMapper.pm
              <ul>
                <li>Added <code>GetMapfileName</code> to retrieve filename for better error reporting. </li>
              </ul>
            </li>
            <li>XPat.pm
              <ul>
                <li>Added line to change XPat's default left context of 14 to 0 with "{LeftContext 0}"</li>
              </ul>
            </li>
          </ul>
        
        
          <h3>Backward Compatibility</h3>
          <p>DLXS  #6 introduces some minor non-backward compatible changes. One, as a result of a generalization in the database connect mechanism, is trivial because the class middleware interface to DbUtils.pm is mediated by the CollsInfo.pm and GroupsInfo.pm APIs this change should have no effect on existing middleware.</p>
          <ul>
            <li><code>DbUtils::Connect_DBI</code> replaces <code>DbUtils::Connect_CSV</code> and supports a arbitrary string parameter to define the underlying data store which can be any store supported by a perl DBD driver including CSV, mySql, etc..</li>
            <li>Rename method in <code>DlpsSession::Delete</code> to <code>DeleteSession.</code></li>
          </ul>
        
        
          <h3>Fixed Bugs</h3>
          <ul>
            <li>167: Add Help Text  </li>
            <li>183: Use DBI for access to all database-like data  </li>
            <li>230: First scoped head is a garbage kwic  </li>
            <li>241: Extend TextClass functionality: level 2 and mixed levels support  </li>
            <li>243: TextClass help.html missing  </li>
            <li>245: Javascript on extended proximity search appears to be broken  </li>
            <li>253: Update code to handle latest version of Apache::Session  </li>
            <li>261: Change middleware to adhere to new directory conventions  </li>
            <li>263: Move divdepths and need for notes and entities filtering to colldb  </li>
            <li>266: Browse page builder has eccentricities  </li>
            <li>269: Must be able to search any region in TC header  </li>
            <li>270: Highlighting of hits in SGML  </li>
            <li>271: idnos do not expand when given a 7 digit NOTIS ID, pages cannot be vie  </li>
            <li>293: Collection wordwheel Makefiles need to be changed to not use MFS  </li>
            <li>308: Home links in header blow away session  </li>
            <li>309: Home link in pageviewer loads in frame, not over frameset  </li>
            <li>340: Linux tif2gif gives fuzzy, unreadble results  </li>
            <li>357: TextClassUtils subroutines should be TextClass methods  </li>
            <li>363: Fix uses of FindHostName() and 'homesite', 'home' colldb for failover  </li>
            <li>405: Pageviewer defaults to seq=1 should be seq=00000001  </li>
            <li>409: Implement a more flexible mechanism for collection-specific look-and-feel  </li>
            <li>447: Results page for searches in header fields have empty "hits in doc" li  </li>
            <li>476: colldb in TC should not have hard-coded DLXSROOT  </li>
            <li>478: Port ImageClass and TextClass to MySQL maintaining CSV support  </li>
            <li>484: Index search takes user to page not found  </li>
            <li>489: TC regions/colls in the colldb have "order" problems  </li>
            <li>494: pageviewer rewrite  </li>
            <li>568: Header.tpl reallignment  </li>
            <li>602: MoA journal browse pages can't be repurposed  </li>
            <li>646: No filtering of bibliographic tags in full text  </li>
          </ul>
        
        
          <h3>Known Problems</h3>
          <ul>
            <li>While much more difficult to reproduce that in the previous
				  release, due to a race condition, it is still possible to click "add to
				  bookbag" on multiple items rapidly enough to make the code fail to add one or
				  more of the clicked items to the BookBag.</li>
          </ul>
        
      
    

    
      <h1>DLXS  Release 5 - 30 MAR 2001</h1>
      
        <h2>General Information</h2>
        <p>This is the first release that incorporates all three Classes (Text,
			 Bib, Image) and the Finding Aid middleware in a single release.</p>
      
      
        <h2>XPAT version 5.2.3</h2>
        
          <h3>Enhancements</h3>
          <ul>
            <li>A new command option and argument to specify a sync message for
				  startup. The syntax is [-s [ syncargmsg ] ].</li>
          </ul>
        
        
          <h3>Known Problems</h3>
          <ul>
            <li><?xm-replace_text {LI}?></li>
          </ul>
        
      
      
        <h2>Text Class version 2.2.3</h2>
        
          <h3>Enhancements</h3>
          <ul>
            <li><?xm-replace_text {LI}?></li>
          </ul>
        
        
          <h3>Known Problems</h3>
          <ul>
            <li><?xm-replace_text {LI}?></li>
          </ul>
        
      
      
        <h2>Bib Class version 2.0.2</h2>
        <p>This release is a significant re-development of BibClass which uses
			 the DLXS common library modules found in Lib. In particular, it uses a database
			 for collection data and session management for BookBag and Search History
			 functionality. </p>
        
          <h3>Enhancements</h3>
          <ul>
            <li><?xm-replace_text {LI}?></li>
          </ul>
        
        
          <h3>Known Problems</h3>
          <ul>
            <li>Bugzilla #272: BibClass does not build links based on the
				  'host' field in the database so links to collections hosted on machines other
				  than the machine running bib-idx will point to to the local machine data which
				  usually does not exist (rather it is on a remote machine). This will only be a
				  problem if BibClass colldb contains rows for more than one host.</li>
          </ul>
        
      
      
        <h2>Image Class version 1.0.6</h2>
        
          <ul>
            <li>The most current DLXS libraries are now used where applicable.
				  <ul>
                <li>DlpsUtils.pm</li>
                <li>DevUtils.pm </li>
                <li>QueryFactory.pm </li>
                <li>TerminologyMapper.pm </li>
                <li>XPat.pm </li>
                <li>XPatResult.pm</li>
                <li>XPatResultSet.pm</li>
              </ul> </li>
            <li>CGI parameters conform to DLXS standard</li>
            <li>Full conformance with standard directory structures.</li>
          </ul>
          <p>The primary goal was to make essential changes to keep pace with
				core DLXS developments. This was intentionally done without drastically
				modifying the architecture or functionality of the programs. Considerable
				architectural and functional enhancements are scheduled for version 2 of the
				Image Class, expected to be released in spring 2001.</p>
        
        
          <h3>Enhancements</h3>
          <p>There are a few remarkable enhancements in Version 1.</p>
          <ul>
            <li>Improved delivery of JPEGs extracted from SID files (better
				  caching, and believed to be faster) </li>
            <li>Improved results retrieval (faster retrieval for records with
				  multiple images) </li>
            <li>Unlimited Boolean query components (q1 .. qN)</li>
            <li>Support for advanced image structures (e.g., differentiation
				  between overviews and details) </li>
            <li>In the process of adding support for advanced image structures,
				  the transformation tools were significantly improved upon, further simplifying
				  collection deployment. </li>
            <li>Several bugs that caused XPAT sessions to run endlessly were
				  eliminated. </li>
            <li>Improved display in situations where thumbnails are not
				  available, especially for related views.</li>
            <li>Improved interface for navigating to related views from a
				  detail view. </li>
            <li>The transformation process can now find image filenames in any
				  number of specified fields.</li>
          </ul>
          <p>Version 1 includes a significant DTD change, which requires
				collection metadata to be reprocessed. It is a general goal to keep DTD changes
				to an absolute minimum.</p>
        
        
          <h3>Dependencies</h3>
          <ul>
            <li>The
				  <a href="http://www.dlxs.org/products/xpat.html">XPAT search
					 engine</a> </li>
            <li>
				  <a>MrSID</a> for compression and delivery of images online.</li>
            <li>
				  <a>sgmlnorm</a> for normalizing and validating SGML.</li>
          </ul>
        
      
      
        <h2>Finding Aids version 2.0.0</h2>
        
          <h3>Enhancements</h3>
          <ul>
            <li><?xm-replace_text {LI}?></li>
          </ul>
        
        
          <h3>Known Problems</h3>
          <ul>
            <li><?xm-replace_text {LI}?></li>
          </ul>
        
      
      
        <h2>Lib version 2.1.1</h2>
        <p>This is the first release of the shared DLXS library modules
			 (collectively known as Lib). Release of Lib as a separately versioned
			 deliverable gives us needed flexibility to supply updates for functionality
			 enhancements and bug fixes and to better maintain backward-compatibility when
			 newer Lib versions are released.</p>
        
          <h3>Enhancements</h3>
          <ul>
            <li>LibVersion.pm maintains the version number for Lib and via the
				  Perl 'use' statement allows programs to programatically ensure that the correct
				  level of functionality is present in the shared modules that compose Lib.</li>

            <li>A new module (GroupsInfo.pm) provides an interface to a DBI
				  table (
				  <tt>groups</tt>) which supports the grouping of collection into
				  named groups. This functionality is used in this release of BibClass.</li>
            <li>A new module (DbUtils.pm) provides a simple interface built on
				  top of DBI to connect to a CSV database, read a table and disconnect. </li>
            <li>Adapted sessions handling to use the new Apache::Session module
				  version 1.53 , and added configuration options the for the session data store
				  (File, MySQL, etc.)</li>
            <li>A subclass module (BookBagItem/BBItemBC.pm) provides a variant
				  of the BookBagItem class for use by BibClass.</li>
          </ul>
        
        
          <h3>Backward Compatibility</h3>
          <p>DLXS  #5 introduces 2 non-backward compatible changes as a
				result of the move to the Perl DBI database interface and the update of
				Apache::Session to version 1.53 with its correspondingly different file
				structure for session management</p>
          <ul>
            <li>The TextClass and BibClass configuration variable $gCollDbName
				  now points to the directory
				  <i>containing</i> the database tables rather than to the database
				  file (
				  <tt>colldb</tt>) itself. Because colldb is a DBI CSV table it can
				  contain neither blank lines nor comment (#) lines. The "s_" and "a_" data type
				  prefixes on the column heads have been eliminated also. To convert your colldb,
				  remove blank and comment lines and the "s_" and "a_" prefixes form the column
				  heads.</li>
            <li>The new session file structure now consists of a subdirectory
				  (e.g.
				  <tt>/tmp/sessions</tt> ) containing one file per session rather
				  than consisting of a single file maintaining all sessions. This change was
				  necessary due to problems with slow access to the CGI attributable to
				  contention for access to the single semaphore-protected file mechanism. In the
				  release, remove the session file and create a directory to hold the multiple
				  session files and a second directory (e.g.
				  <tt>/tmp/sessionslock</tt>) to hold the lock files which protect
				  the session files.</li>
          </ul>
        
        
          <h3>Known Problems</h3>
          <ul>
            <li>While much more difficult to reproduce that in the previous
				  release, due to a race condition, it is still possible to click "add to
				  bookbag" on multiple items rapidly enough to make the code fail to add one or
				  more of the clicked items to the BookBag.</li>
          </ul>
        
      
    
  </body>

</html>
