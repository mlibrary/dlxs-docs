<?xml version="1.0"?>

<!-- SPO Editorial Services                  -->
<!-- automatically-generated XML header file -->

<?xml-stylesheet href="../../../pre11-dlxsdocs.xsl" type="text/xsl"?>
<!DOCTYPE DLPSDOC PUBLIC "-//UM-DLPS//DTD DLPS Publications//EN" "http://docs.umdl.umich.edu/dlps/docs/dlpsdocs.dtd">
<DLPSDOC>
<TITLE>Configuring the Middleware (Finding Aids)</TITLE>
<HEADER>
<JOURNAL>DLXS Documentation</JOURNAL>
<PUBDATE>2002-06-26 09:08:55 EDT</PUBDATE>
<AUTH1>Powell, Chris</AUTH1>
<AUTH2></AUTH2>
<DOCTITLE>Configuring the Middleware (Finding Aids)</DOCTITLE>
<VOL>class</VOL>
<ISS>findaid</ISS>
<FILE>dlxsdocs-findaid-config</FILE>
</HEADER>
<BODY><BHEAD>Configuring the Middleware (Finding Aids)</BHEAD><DIV1><P>This documentation provides general guidance about where changes need to be made in the finding aids CGI.  It does not go into great detail as this class will be moved into alignment with the true classes in the summer of 2002.  The alignment will move things that currently require configuration (like the location of XPAT data dictionaries) from perl data structures to more easily managed database fields. </P><P>In the directory <TT>$DLXSROOT/cgi/f/findaid</TT>  you will find two pieces of middleware: <TT>findaid-idx</TT>  and <TT>findaid-idx.vars.cfg</TT>.  The first is the main program; the second contains configurations particular to your collection and environment.  The basic work of getting your collection to "appear" online is done in the <TT>findaid-idx.vars.cfg</TT>; the more difficult and unpredictable work of getting the EAD SGML to filter attractively into HTML is done in the <TT>findaid-idx</TT>.  This document will deal primarily with the <TT>findaid-idx.vars.cfg</TT>. In this draft, only variables you are likely to change will be addressed.</P><DL><DT>$gHost</DT><DD>Machine name of the host for the finding aids collection.</DD><DT>$gInfoLink</DT><DD>mailto: link for the bottom of results templates; change only text between the curly braces.</DD><DT>$gEnableDaoResolution</DT><DD>0 or 1 = no or yes; used to resolve IDs in Digital Archival Object (DAO) elements into links to some other URL.</DD><DT>$gIdResolver</DT><DD>Where to locate the middleware that provides the resolution of DAO IDs into URLs.</DD><DT>$gDaoIdPrefix</DT><DD>String to be inserted prior to the ID value to ensure uniqueness across collections.</DD><DT>$gPatExec</DT><DD>Path to the XPAT executable.</DD><DT>%gTermMapperFiles</DT><DD>Where to locate the term mapper for the collection; for example, <TT>'samplefa' =&gt;  $DLXSROOT_data . '/misc/f/findaid/maps' . $userpath . '/' . 'scl-ead.map',</TT></DD><DT>%gCDepth</DT><DD>List of    COMPONENT elements to the "deepest" level; for example, <TT>'samplefa' =&gt;  [ 'C01', 'C02', 'C03', 'C04' ],</TT></DD><DT>%gFilterTitleRegExp</DT><DD>How to filter what you have identified in the {coll}.extra.srch and collection map as the main title.</DD><DT>%gCollTitles</DT><DD>The title for the collection, as it appears in templates.</DD><DT>%gDataDicts</DT><DD>Location of the collection's XPAT data dictionary.</DD><DT>%gDataDictToColl</DT><DD>Mapping collection abbreviations to data dictionaries (for multi-indexed collections -- this funtionality is not currently deployed).</DD><DT>%gCollToDataDict</DT><DD>Mapping collection abbreviations to data dictionaries (for multi-indexed collections -- this funtionality is not currently deployed).</DD><DT>%gDataDictsPerColl</DT><DD>Mapping collection abbreviations to data dictionaries (for multi-indexed collections -- this funtionality is not currently deployed).</DD><DT>$gOtVersion</DT><DD>XPAT version you have installed .</DD><DT>%gBanners</DT><DD>The heading for the splash page; can contain a link to a graphical banner.</DD></DL><P>One area where you will want to change <TT>findaid-idx</TT> is in the filtering of the FRONTMATTER of the finding aid.  At present, there is a if/elseif/else relationship that accounts only for named collections (bhl, scl, samplefa).  You will want to add your collection, and at first choose one of the existing filters to test functionality.  Customization in the perl code, primarily in the form of regular expressioin substitutions, to support your local practice will no doubt be required.</P><P>The URL to test your collection, once installed, is <TT>http://hostname/cgi/f/findaid/findaid-idx?c=collid</TT> </P></DIV1></BODY></DLPSDOC>
