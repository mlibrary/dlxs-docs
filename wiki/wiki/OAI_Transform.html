<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" dir="ltr">
	
<!-- Mirrored from localhost/wiki/OAI_Transform by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 03 Feb 2025 00:29:39 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
		<meta name="generator" content="MediaWiki 1.13.5" />
		<meta name="keywords" content="OAI Transform,Ancillary Resources,DLXS Wiki" />
		<link rel="shortcut icon" href="http://localhost/favicon.ico" />
		<link rel="search" type="application/opensearchdescription+xml" href="http://localhost/mediawiki/opensearch_desc.php" title="DLXS Documentation (en)" />
		<link rel="alternate" type="application/rss+xml" title="DLXS Documentation RSS Feed" href="http://localhost/mediawiki/index.php?title=Special:RecentChanges&amp;feed=rss" />
		<link rel="alternate" type="application/atom+xml" title="DLXS Documentation Atom Feed" href="http://localhost/mediawiki/index.php?title=Special:RecentChanges&amp;feed=atom" />
		<title>OAI Transform - DLXS Documentation</title>
		<style type="text/css" media="screen, projection">/*<![CDATA[*/
			@import "../mediawiki/skins/common/sharedfa7c.css?164";
			@import "../mediawiki/skins/monobook/mainfa7c.css?164";
		/*]]>*/</style>
		<link rel="stylesheet" type="text/css" media="print" href="../mediawiki/skins/common/commonPrintfa7c.css?164" />
		<!--[if lt IE 5.5000]><style type="text/css">@import "/mediawiki/skins/monobook/IE50Fixes.css?164";</style><![endif]-->
		<!--[if IE 5.5000]><style type="text/css">@import "/mediawiki/skins/monobook/IE55Fixes.css?164";</style><![endif]-->
		<!--[if IE 6]><style type="text/css">@import "/mediawiki/skins/monobook/IE60Fixes.css?164";</style><![endif]-->
		<!--[if IE 7]><style type="text/css">@import "/mediawiki/skins/monobook/IE70Fixes.css?164";</style><![endif]-->
		<!--[if lt IE 7]><script type="text/javascript" src="/mediawiki/skins/common/IEFixes.js?164"></script>
		<meta http-equiv="imagetoolbar" content="no" /><![endif]-->
		
		<script type= "text/javascript">/*<![CDATA[*/
var skin = "monobook";
var stylepath = "/mediawiki/skins";
var wgArticlePath = "/wiki/$1";
var wgScriptPath = "/mediawiki";
var wgScript = "http://localhost/mediawiki/index.php";
var wgVariantArticlePath = false;
var wgActionPaths = [];
var wgServer = "http://localhost/";
var wgCanonicalNamespace = "";
var wgCanonicalSpecialPageName = false;
var wgNamespaceNumber = 0;
var wgPageName = "OAI_Transform";
var wgTitle = "OAI Transform";
var wgAction = "view";
var wgArticleId = "56";
var wgIsArticle = true;
var wgUserName = null;
var wgUserGroups = null;
var wgUserLanguage = "en";
var wgContentLanguage = "en";
var wgBreakFrames = false;
var wgCurRevisionId = "2677";
var wgVersion = "1.13.5";
var wgEnableAPI = true;
var wgEnableWriteAPI = false;
var wgRestrictionEdit = [];
var wgRestrictionMove = [];
/*]]>*/</script>
                
		<script type="text/javascript" src="../mediawiki/skins/common/wikibitsfa7c.js?164"><!-- wikibits js --></script>
		<!-- Head Scripts -->
		<script type="text/javascript" src="../mediawiki/skins/common/ajaxfa7c.js?164"></script>
		<script type="text/javascript" src="http://localhost/mediawiki/index.php?title=-&amp;action=raw&amp;gen=js&amp;useskin=monobook"><!-- site js --></script>
		<style type="text/css">/*<![CDATA[*/
@import "http://localhost/mediawiki/index.php?title=MediaWiki:Common.css&amp;usemsgcache=yes&amp;action=raw&amp;ctype=text/css&amp;smaxage=18000";
@import "http://localhost/mediawiki/index.php?title=MediaWiki:Monobook.css&amp;usemsgcache=yes&amp;action=raw&amp;ctype=text/css&amp;smaxage=18000";
@import "http://localhost/mediawiki/index.php?title=-&amp;action=raw&amp;gen=css&amp;maxage=18000&amp;useskin=monobook";
/*]]>*/</style>
	</head>
<body class="mediawiki ns-0 ltr page-OAI_Transform">
	<div id="globalWrapper">
		<div id="column-content">
	<div id="content">
		<a name="top" id="top"></a>
				<h1 class="firstHeading">OAI Transform</h1>
		<div id="bodyContent">
			<h3 id="siteSub">From DLXS Documentation</h3>
			<div id="contentSub"></div>
									<div id="jump-to-nav">Jump to: <a href="#column-one">navigation</a>, <a href="#searchInput">search</a></div>			<!-- start content -->
			<p><a href="DLXS_Wiki.html" title="DLXS Wiki">Main Page</a> &gt; <a href="Ancillary_Resources.html" title="Ancillary Resources">Ancillary Resources</a> &gt; OAI Transform
</p>
<table id="toc" class="toc" summary="Contents"><tr><td><div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1"><a href="#Overview"><span class="tocnumber">1</span> <span class="toctext">Overview</span></a></li>
<li class="toclevel-1"><a href="#Transform_engine_.28OAITransform.29"><span class="tocnumber">2</span> <span class="toctext">Transform engine (OAITransform)</span></a></li>
<li class="toclevel-1"><a href="#Data_Conditioning"><span class="tocnumber">3</span> <span class="toctext">Data Conditioning</span></a>
<ul>
<li class="toclevel-2"><a href="#Transcoding_from_Latin-1_to_UTF-8"><span class="tocnumber">3.1</span> <span class="toctext">Transcoding from Latin-1 to UTF-8</span></a></li>
<li class="toclevel-2"><a href="#ISO_Character_Entity_Reference_.28CER.29_Mapping"><span class="tocnumber">3.2</span> <span class="toctext">ISO Character Entity Reference (CER) Mapping</span></a></li>
<li class="toclevel-2"><a href="#Numeric_Character_Reference_.28NCR.29_Mapping"><span class="tocnumber">3.3</span> <span class="toctext">Numeric Character Reference (NCR) Mapping</span></a></li>
<li class="toclevel-2"><a href="#Miscellaneous_Character_Problems"><span class="tocnumber">3.4</span> <span class="toctext">Miscellaneous Character Problems</span></a></li>
</ul>
</li>
</ul>
</td></tr></table><script type="text/javascript"> if (window.showTocToggle) { var tocShowText = "show"; var tocHideText = "hide"; showTocToggle(); } </script>
<a name="Overview"></a><h2><span class="editsection">[<a href="http://localhost/mediawiki/index.php?title=OAI_Transform&amp;action=edit&amp;section=1" title="Edit section: Overview">edit</a>]</span> <span class="mw-headline">Overview</span></h2>
<p>This document describes how to transform and normalize harvested records into BibClass. It also describes conditioning that takes place to transcode from Latin-1 to UTF-8, and to handle ISO Character Entity Reference Mapping, Numeric Character Reference Mapping, and miscellaneous character problems.
</p>
<a name="Transform_engine_.28OAITransform.29"></a><h2><span class="editsection">[<a href="http://localhost/mediawiki/index.php?title=OAI_Transform&amp;action=edit&amp;section=2" title="Edit section: Transform engine (OAITransform)">edit</a>]</span> <span class="mw-headline">Transform engine (OAITransform)</span></h2>
<p>OAITransform creates a concatenated BibClass file of all oai_dc records, per repository harvested. To start the transform tool use <code>./oaitransform/OAITransform [repository_id]</code> from within <code>$DLXSROOT/bin/o/oaister/oaitransform/</code>
</p><p>Add the repository id you want to transform. This id is taken from <code>repository_table.txt</code>, which you will build using <code>repository_table.sample.txt</code> as your starting point, e.g.,
</p>
<pre>
	./oaitransform/OAITransform celebration
</pre>
<p>The transform program will process your oai_dc harvested files, first by concatenating them into raw files and then by transforming them into BibClass files. The <code>$DLXSROOT/bin/o/oaister/oaitransform/oai-BibClass3.xsl</code> file is used to perform the mapping from oai_dc to BibClass.
</p><p>The repository report at the end of the transform will provide a number of statistics.
</p>
<pre>
Repository Report: bristol
        records with URLs       = 2582
        records without URLs    = 0
        skipped records         = 0
        deleted records         = 83
        repository records      = 2665
        success rate            = 96.88%
        ------------------------
        data conditioning msgs? = YES!
        normalization errors    = 2
        raw parse failures      = 0
        valid XML result        = Yes
        HTML removed            = Yes
</pre>
<ul><li> records with URLs: OAIster is only interested in oai_dc records with a dc:identifier beginning with http or ftp, so the transform engines only transforms those records with those dc:identifiers.
</li><li> records without URLs: The remainder of the records.
</li><li> skipped records: Records skipped through the use of <code>$DLXSROOT/bin/o/oaister/oaitransform/OAITransFixer.pm</code>, which contains perl sub scripts designed to filter out or fix records from particular repositories.
</li><li> deleted records: Count of the number of persistent deleted records from the repository.
</li><li> repository records: All the oai_dc records harvested.
</li><li> success rate: Percentage of records transformed from the total.
</li><li> data conditioning msgs: If there are character errors during transformation, these are fixed by OAITransform. To see the character errors that have been fixed after a transformation, see <code>$DLXSROOT/bin/o/oaister/errors/utf8_status_log.txt</code>
</li><li> normalization errors: The transform tool uses the <code>$DLXSROOT/bin/o/oaister/oaitransform/normal_types.txt</code> file to normalize the dc:type field values into five distinct BibClass TYPE values, i.e., text, image, audio, video, dataset. If the values in the dc:type fields can't be normalized because there are not mappings for them, these will be logged to an error file located at <code>$DLXSROOT/bin/o/oaister/errors/normalization_errors.txt</code>
</li><li> raw parse failures: If there are encoding errors which the transform tool cannot fix, these will be indicated during the transform.
</li><li> valid XML result: BibClass is now validated during transform.
</li><li> HTML removed: Embedded HTML is now removed from K, AA, SU and X fields. To run transform without this fix, use the -s flag.
</li></ul>
<p>For questions on how to transform MODS records, please contact Kat Hagedorn at khage at umich dot edu.
</p>
<a name="Data_Conditioning"></a><h2><span class="editsection">[<a href="http://localhost/mediawiki/index.php?title=OAI_Transform&amp;action=edit&amp;section=3" title="Edit section: Data Conditioning">edit</a>]</span> <span class="mw-headline">Data Conditioning</span></h2>
<a name="Transcoding_from_Latin-1_to_UTF-8"></a><h3><span class="editsection">[<a href="http://localhost/mediawiki/index.php?title=OAI_Transform&amp;action=edit&amp;section=4" title="Edit section: Transcoding from Latin-1 to UTF-8">edit</a>]</span> <span class="mw-headline">Transcoding from Latin-1 to UTF-8</span></h3>
<p>If the character encoding of the harvested data does not pass the Perl Encode::is_utf8 test, the data is assumed to be Latin-1 encoded and is transcoded from Latin-1 (iso-8859-1) to UTF-8. This heuristic is useful in the vast majority of cases. It is important to note it is impossible to determine the encoding if it is not specified or adherence to OAI specifications has lapsed.
</p>
<a name="ISO_Character_Entity_Reference_.28CER.29_Mapping"></a><h3><span class="editsection">[<a href="http://localhost/mediawiki/index.php?title=OAI_Transform&amp;action=edit&amp;section=5" title="Edit section: ISO Character Entity Reference (CER) Mapping">edit</a>]</span> <span class="mw-headline">ISO Character Entity Reference (CER) Mapping</span></h3>
<p>With the exception of the five reserved XML CERs (lt, gt, apos, quot, amp), the ISO Character Entity References from ISOAMSA, ISOAMSB, ISOAMSC ISOAMSN, ISOAMSO, ISOAMSR, ISOCYR1, ISOCYR2, ISOGRK1, ISOGRK2, ISOGRK3, ISOGRK4, ISOLAT1, ISOLAT2, ISOMFRK, ISONUM, ISOPUB, ISOTECH, MMLALIAS, and MMLEXTRA are translated into their corresponding UTF-8 encoded Unicode characters. It is usually an error for CERs from these sets to appear in the XML because they require an internal subset declaration to make the XML valid. This also improves searchability of the records and decreases file size.
</p>
<a name="Numeric_Character_Reference_.28NCR.29_Mapping"></a><h3><span class="editsection">[<a href="http://localhost/mediawiki/index.php?title=OAI_Transform&amp;action=edit&amp;section=6" title="Edit section: Numeric Character Reference (NCR) Mapping">edit</a>]</span> <span class="mw-headline">Numeric Character Reference (NCR) Mapping</span></h3>
<p>Numeric Character References of the form <code>&amp;#xXXXX;</code> where XXXX represents a hexadecimal number of one to 4 hexadecimal digits and <code>&amp;#YYYY;</code> where YYYY represents a decimal number of one to 4 decimal digits are mapped to their equivalent UTF-8 encoded Unicode characters. This is not strictly necessary but improves searchability. The five reserved XML characters, if represented by NCRs, are not mapped.
</p>
<a name="Miscellaneous_Character_Problems"></a><h3><span class="editsection">[<a href="http://localhost/mediawiki/index.php?title=OAI_Transform&amp;action=edit&amp;section=7" title="Edit section: Miscellaneous Character Problems">edit</a>]</span> <span class="mw-headline">Miscellaneous Character Problems</span></h3>
<ul><li> Some URLs within dc:identifier erroneously have naked &amp;-separated parameters. Naked '&amp;' characters are converted to '&amp;amp;' in this event but the reserved XML character entity references are protected. '&amp;' characters erroneously followed by whitespace are converted to '&amp;amp;'.
</li></ul>
<ul><li> Truncated decimal and hexadecimal NCRs (e.g. &amp;#, &amp;#x, &amp;#x2C, etc.) are replaced with the characters following the # or #x portion of the truncated entity (mainly for the purposes of locating the string for a human editor). Entities truncated at the '&amp;', if not followed by whitespace may look like (most likely invalid) CERs, if followed by a ';' within reasonable proximity to the '&amp;'. These are trapped as invalid by the CER mapping.
</li></ul>
<ul><li> UTF-8 encoded Unicode characters with codepoints higher than U+FFFF are converted to the canonical name string representation of the character as defined in UnicodeData.txt. Since NCRs above U+FFFF have previously been converted to UTF-8 encoded characters this trap handles all encoded forms of non-Plane Zero Unicode characters. This is done because XPAT does not support the indexing of codepoints higher that U+FFFF.
</li></ul>
<ul><li> A variety of Windows-1252 characters are converted to their UTF-8 encoded equivalent. Windows-1252 uses the control character range above 0x7f to encode characters like smart quotes. These often inadvertently become part of OAI data sourced from Windows applications.
</li></ul>
<ul><li> Illegal characters per the XML 1.0 standard are replaced by the '?' character. From  <a href="http://www.w3.org/TR/2000/REC-xml-20001006" class="external free" title="http://www.w3.org/TR/2000/REC-xml-20001006" rel="nofollow">http://www.w3.org/TR/2000/REC-xml-20001006</a> (sec 2.2, extracted 16July2001):
</li></ul>
<pre>
     &quot;Legal characters are tab, carriage return, line feed, and the legal characters of Unicode 
     and ISO/IEC 10646. The versions of these standards cited in A.1 Normative References were 
     current at the time this document was prepared. New characters may be added to these standards 
     by amendments or new editions. Consequently, XML processors must accept any character in the 
     range specified for Char. The use of &quot;compatibility characters&quot;, as defined in section 6.8 
     of Unicode (see also D21 in section 3.6 of Unicode3), is discouraged. Character Range Char
    &nbsp;::= #x9 | #xA | #xD | [#x20-#xD7FF] | [#xE000-#xFFFD] | [#x10000-#x10FFFF].&quot;
</pre>
<ul><li> For this purpose we use a modified version of the  <a href="http://www.cs.cornell.edu/people/simeon/software/utf8conditioner/" class="external text" title="http://www.cs.cornell.edu/people/simeon/software/utf8conditioner/" rel="nofollow">utf8conditioner</a> written by Simeon Warner at Cornell University (simeon at cs dot cornell dot edu).
</li></ul>
<p><a href="#top" title="">Top</a>
</p>
<!-- 
NewPP limit report
Preprocessor node count: 28/1000000
Post-expand include size: 0/2097152 bytes
Template argument size: 0/2097152 bytes
Expensive parser function count: 0/100
-->

<!-- Saved in parser cache with key mediawiki_dlxsdocs_15:pcache:idhash:56-0!1!0!!en!2 and timestamp 20250202211436 -->
<div class="printfooter">
Retrieved from "<a href="OAI_Transform.html">http://localhost/wiki/OAI_Transform</a>"</div>
						<!-- end content -->
			<div class="visualClear"></div>
		</div>
	</div>
		</div>
		<div id="column-one">
	<div id="p-cactions" class="portlet">
		<h5>Views</h5>
		<div class="pBody">
			<ul>
	
				 <li id="ca-nstab-main" class="selected"><a href="OAI_Transform.html" title="View the content page [c]" accesskey="c">Page</a></li>
				 <li id="ca-talk" class="new"><a href="http://localhost/mediawiki/index.php?title=Talk:OAI_Transform&amp;action=edit" title="Discussion about the content page [t]" accesskey="t">Discussion</a></li>
				 <li id="ca-edit"><a href="http://localhost/mediawiki/index.php?title=OAI_Transform&amp;action=edit" title="You can edit this page.&#10;Please use the preview button before saving. [e]" accesskey="e">Edit</a></li>
				 <li id="ca-history"><a href="http://localhost/mediawiki/index.php?title=OAI_Transform&amp;action=history" title="Past versions of this page. [h]" accesskey="h">History</a></li>			</ul>
		</div>
	</div>
	<div class="portlet" id="p-personal">
		<h5>Personal tools</h5>
		<div class="pBody">
			<ul>
				<li id="pt-login"><a href="http://localhost/mediawiki/index.php?title=Special:UserLogin&amp;returnto=OAI_Transform" title="You are encouraged to log in, it is not mandatory however. [o]" accesskey="o">Log in / create account</a></li>
			</ul>
		</div>
	</div>
	<div class="portlet" id="p-logo">
		<a style="background-image: url(../dlxs15/uploads/DLXS_logo2.gif);" href="Main_Page.html" title="Visit the Main Page [z]" accesskey="z"></a>
	</div>
	<script type="text/javascript"> if (window.isMSIE55) fixalpha(); </script>
	<div class='generated-sidebar portlet' id='p-navigation'>
		<h5>Navigation</h5>
		<div class='pBody'>
			<ul>
				<li id="n-mainpage-description"><a href="Main_Page.html">Main Page</a></li>
				<li id="n-portal"><a href="DLXS_Documentation_Community_Portal.html" title="About the project, what you can do, where to find things">Community portal</a></li>
				<li id="n-currentevents"><a href="DLXS_Documentation_Current_events.html" title="Find background information on current events">Current events</a></li>
				<li id="n-recentchanges"><a href="Special_RecentChanges.html" title="The list of recent changes in the wiki. [r]" accesskey="r">Recent changes</a></li>
				<li id="n-randompage"><a href="Mounting_a_Bib_Class_Collection.html" title="Load a random page [x]" accesskey="x">Random page</a></li>
				<li id="n-help"><a href="Help_Contents.html" title="The place to find out.">Help</a></li>
			</ul>
		</div>
	</div>
	<div id="p-search" class="portlet">
		<h5><label for="searchInput">Search</label></h5>
		<div id="searchBody" class="pBody">
			<form action="http://localhost/wiki/Special:Search" id="searchform"><div>
				<input id="searchInput" name="search" type="text" title="Search DLXS Documentation [f]" accesskey="f" value="" />
				<input type='submit' name="go" class="searchButton" id="searchGoButton"	value="Go" title="Go to a page with this exact name if exists" />&nbsp;
				<input type='submit' name="fulltext" class="searchButton" id="mw-searchButton" value="Search" title="Search the pages for this text" />
			</div></form>
		</div>
	</div>
	<div class="portlet" id="p-tb">
		<h5>Toolbox</h5>
		<div class="pBody">
			<ul>
				<li id="t-whatlinkshere"><a href="Special_WhatLinksHere/OAI_Transform.html" title="List of all wiki pages that link here [j]" accesskey="j">What links here</a></li>
				<li id="t-recentchangeslinked"><a href="Special_RecentChangesLinked/OAI_Transform.html" title="Recent changes in pages linked from this page [k]" accesskey="k">Related changes</a></li>
<li id="t-specialpages"><a href="Special_SpecialPages.html" title="List of all special pages [q]" accesskey="q">Special pages</a></li>
				<li id="t-print"><a href="http://localhost/mediawiki/index.php?title=OAI_Transform&amp;printable=yes" title="Printable version of this page [p]" accesskey="p">Printable version</a></li>				<li id="t-permalink"><a href="http://localhost/mediawiki/index.php?title=OAI_Transform&amp;oldid=2677" title="Permanent link to this version of the page">Permanent link</a></li>			</ul>
		</div>
	</div>
		</div><!-- end of the left (by default at least) column -->
			<div class="visualClear"></div>
			<div id="footer">
				<div id="f-poweredbyico"><a href="http://www.mediawiki.org/"><img src="../mediawiki/skins/common/images/poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" /></a></div>
			<ul id="f-list">
				<li id="lastmod"> This page was last modified on 12 August 2008, at 17:59.</li>
				<li id="viewcount">This page has been accessed 4,269 times.</li>
				<li id="privacy"><a href="DLXS_Documentation_Privacy_policy.html" title="DLXS Documentation:Privacy policy">Privacy policy</a></li>
				<li id="about"><a href="DLXS_Documentation_About.html" title="DLXS Documentation:About">About DLXS Documentation</a></li>
				<li id="disclaimer"><a href="DLXS_Documentation_General_disclaimer.html" title="DLXS Documentation:General disclaimer">Disclaimers</a></li>
			</ul>
		</div>
</div>

		<script type="text/javascript">if (window.runOnloadHook) runOnloadHook();</script>
<!-- Served in 0.287 secs. --></body>
<!-- Mirrored from localhost/wiki/OAI_Transform by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 03 Feb 2025 00:29:41 GMT -->
</html>
