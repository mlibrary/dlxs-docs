<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" dir="ltr">
	
<!-- Mirrored from localhost/wiki/Itemviewer_Image_Conversion by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 03 Feb 2025 00:41:08 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
		<meta name="generator" content="MediaWiki 1.13.5" />
		<meta name="keywords" content="Itemviewer Image Conversion,DLXS Wiki,Mounting Collections: Class-specific Steps,Mounting a Text Class Collection,Newspaper Clip Image Access Mechanisms" />
		<link rel="shortcut icon" href="http://localhost/favicon.ico" />
		<link rel="search" type="application/opensearchdescription+xml" href="http://localhost/mediawiki/opensearch_desc.php" title="DLXS Documentation (en)" />
		<link rel="alternate" type="application/rss+xml" title="DLXS Documentation RSS Feed" href="http://localhost/mediawiki/index.php?title=Special:RecentChanges&amp;feed=rss" />
		<link rel="alternate" type="application/atom+xml" title="DLXS Documentation Atom Feed" href="http://localhost/mediawiki/index.php?title=Special:RecentChanges&amp;feed=atom" />
		<title>Itemviewer Image Conversion - DLXS Documentation</title>
		<style type="text/css" media="screen, projection">/*<![CDATA[*/
			@import "../mediawiki/skins/common/sharedfa7c.css?164";
			@import "../mediawiki/skins/monobook/mainfa7c.css?164";
		/*]]>*/</style>
		<link rel="stylesheet" type="text/css" media="print" href="../mediawiki/skins/common/commonPrintfa7c.css?164" />
		<!--[if lt IE 5.5000]><style type="text/css">@import "/mediawiki/skins/monobook/IE50Fixes.css?164";</style><![endif]-->
		<!--[if IE 5.5000]><style type="text/css">@import "/mediawiki/skins/monobook/IE55Fixes.css?164";</style><![endif]-->
		<!--[if IE 6]><style type="text/css">@import "/mediawiki/skins/monobook/IE60Fixes.css?164";</style><![endif]-->
		<!--[if IE 7]><style type="text/css">@import "/mediawiki/skins/monobook/IE70Fixes.css?164";</style><![endif]-->
		<!--[if lt IE 7]><script type="text/javascript" src="/mediawiki/skins/common/IEFixes.js?164"></script>
		<meta http-equiv="imagetoolbar" content="no" /><![endif]-->
		
		<script type= "text/javascript">/*<![CDATA[*/
var skin = "monobook";
var stylepath = "/mediawiki/skins";
var wgArticlePath = "/wiki/$1";
var wgScriptPath = "/mediawiki";
var wgScript = "http://localhost/mediawiki/index.php";
var wgVariantArticlePath = false;
var wgActionPaths = [];
var wgServer = "http://localhost/";
var wgCanonicalNamespace = "";
var wgCanonicalSpecialPageName = false;
var wgNamespaceNumber = 0;
var wgPageName = "Itemviewer_Image_Conversion";
var wgTitle = "Itemviewer Image Conversion";
var wgAction = "view";
var wgArticleId = "275";
var wgIsArticle = true;
var wgUserName = null;
var wgUserGroups = null;
var wgUserLanguage = "en";
var wgContentLanguage = "en";
var wgBreakFrames = false;
var wgCurRevisionId = "2877";
var wgVersion = "1.13.5";
var wgEnableAPI = true;
var wgEnableWriteAPI = false;
var wgRestrictionEdit = [];
var wgRestrictionMove = [];
/*]]>*/</script>
                
		<script type="text/javascript" src="../mediawiki/skins/common/wikibitsfa7c.js?164"><!-- wikibits js --></script>
		<!-- Head Scripts -->
		<script type="text/javascript" src="../mediawiki/skins/common/ajaxfa7c.js?164"></script>
		<script type="text/javascript" src="http://localhost/mediawiki/index.php?title=-&amp;action=raw&amp;gen=js&amp;useskin=monobook"><!-- site js --></script>
		<style type="text/css">/*<![CDATA[*/
@import "http://localhost/mediawiki/index.php?title=MediaWiki:Common.css&amp;usemsgcache=yes&amp;action=raw&amp;ctype=text/css&amp;smaxage=18000";
@import "http://localhost/mediawiki/index.php?title=MediaWiki:Monobook.css&amp;usemsgcache=yes&amp;action=raw&amp;ctype=text/css&amp;smaxage=18000";
@import "http://localhost/mediawiki/index.php?title=-&amp;action=raw&amp;gen=css&amp;maxage=18000&amp;useskin=monobook";
/*]]>*/</style>
	</head>
<body class="mediawiki ns-0 ltr page-Itemviewer_Image_Conversion">
	<div id="globalWrapper">
		<div id="column-content">
	<div id="content">
		<a name="top" id="top"></a>
				<h1 class="firstHeading">Itemviewer Image Conversion</h1>
		<div id="bodyContent">
			<h3 id="siteSub">From DLXS Documentation</h3>
			<div id="contentSub"></div>
									<div id="jump-to-nav">Jump to: <a href="#column-one">navigation</a>, <a href="#searchInput">search</a></div>			<!-- start content -->
			<p><a href="DLXS_Wiki.html" title="DLXS Wiki">Main Page</a> &gt; <a href="Mounting_Collections__Class-specific_Steps.html" title="Mounting Collections: Class-specific Steps">Mounting Collections: Class-specific Steps</a> &gt; <a href="Mounting_a_Text_Class_Collection.html" title="Mounting a Text Class Collection">Mounting a Text Class Collection</a> &gt; <a href="Newspaper_Clip_Image_Access_Mechanisms.html" title="Newspaper Clip Image Access Mechanisms">Newspaper Clip Image Access Mechanisms</a> &gt; Itemviewer Image Conversion
</p>
<table id="toc" class="toc" summary="Contents"><tr><td><div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1"><a href="#General_Information"><span class="tocnumber">1</span> <span class="toctext">General Information</span></a></li>
<li class="toclevel-1"><a href="#Handler_Resolution"><span class="tocnumber">2</span> <span class="toctext">Handler Resolution</span></a></li>
<li class="toclevel-1"><a href="#Scenarios"><span class="tocnumber">3</span> <span class="toctext">Scenarios</span></a>
<ul>
<li class="toclevel-2"><a href="#General_information_about_scenarios"><span class="tocnumber">3.1</span> <span class="toctext">General information about scenarios</span></a></li>
<li class="toclevel-2"><a href="#Scenario_1:_.22image.22__requested"><span class="tocnumber">3.2</span> <span class="toctext">Scenario 1: &quot;image&quot;  requested</span></a></li>
<li class="toclevel-2"><a href="#Scenario_2:__.22pdf.22__requested"><span class="tocnumber">3.3</span> <span class="toctext">Scenario 2:  &quot;pdf&quot;  requested</span></a></li>
</ul>
</li>
</ul>
</td></tr></table><script type="text/javascript"> if (window.showTocToggle) { var tocShowText = "show"; var tocHideText = "hide"; showTocToggle(); } </script>
<a name="General_Information"></a><h2><span class="editsection">[<a href="http://localhost/mediawiki/index.php?title=Itemviewer_Image_Conversion&amp;action=edit&amp;section=1" title="Edit section: General Information">edit</a>]</span> <span class="mw-headline">General Information</span></h2>
    <p><span class="command">Itemview.pm</span> is a DLXS Perl class module,
      found in <span class="command">$DLXSROOT/lib</span>. It contains, among
      other things, the methods (handlers) that may invoke external
      image conversion programs. <span class="command">$DLXSROOT/cgi/t/text/PageView.pm</span>

      and <span class="command">$DLXSROOT/cgi/t/text/ClipView.pm</span> are both
      subclasses of it, and so therefore inherit those methods.</p>
<a name="Handler_Resolution"></a><h2><span class="editsection">[<a href="http://localhost/mediawiki/index.php?title=Itemviewer_Image_Conversion&amp;action=edit&amp;section=2" title="Edit section: Handler Resolution">edit</a>]</span> <span class="mw-headline">Handler Resolution</span></h2>
    <p> After a <span class="command">Pageview</span> or <span class="command">ClipView</span> object
      is instantiated, it contains information about every page in the
      document, including how many and what kinds of image files are
      stored for each page. Based on the CGI's request for a particular
      output format in which to view a page image (whether to retrieve
      and display a PDF or a GIF or a JPG file) and the types of file
      formats available for that page, the application object can determine
      which conversion &quot;helper&quot; program to use. </p>
<a name="Scenarios"></a><h2><span class="editsection">[<a href="http://localhost/mediawiki/index.php?title=Itemviewer_Image_Conversion&amp;action=edit&amp;section=3" title="Edit section: Scenarios">edit</a>]</span> <span class="mw-headline">Scenarios</span></h2>
    <ul>
      <li>General information about scenarios</li>
      <li>Scenario 1: &quot;image&quot; requested</li>
      <li>Scenario 2: &quot;pdf&quot; requested </li>
    </ul>
<a name="General_information_about_scenarios"></a><h3><span class="editsection">[<a href="http://localhost/mediawiki/index.php?title=Itemviewer_Image_Conversion&amp;action=edit&amp;section=4" title="Edit section: General information about scenarios">edit</a>]</span> <span class="mw-headline">General information about scenarios</span></h3>
    <p>In the running
      of <span class="command">pageviewer-idx</span> and its running
      of <span class="command">PVApp/CVApp</span>, a <span class="command">PageView/ClipView</span> object
      is instantiated. By using the <span class="command">Pageview/ArticleClips</span> table
      in the <span class="command">dlxs</span> database, and querying by the document's
      idno and the page's sequence number, the object is loaded up with
      all the page information necessary for a particular document.
      Therefore, it reflects every page and which file formats are stored
      on disk for each page.</p>
    <p><span class="command">PVApp/CVApp</span>, invoked by <span class="command">pagevewer-idx</span> and
      through its parent object, <span class="command">ItemViewApp</span>,
      would look at the &quot;stored image format&quot; and the &quot;requested
      image format&quot;, and using a hash found in <span class="command">$DLXSROOT/lib/ItemView.cfg</span>,
      would determine the proper method to invoke the conversion, which
      is in turn coded to use a particular helper app. </p>
<a name="Scenario_1:_.22image.22__requested"></a><h3><span class="editsection">[<a href="http://localhost/mediawiki/index.php?title=Itemviewer_Image_Conversion&amp;action=edit&amp;section=5" title="Edit section: Scenario 1: &amp;quot;image&amp;quot;  requested">edit</a>]</span> <span class="mw-headline">Scenario 1: &quot;image&quot;  requested</span></h3>
    <p>Assume that the CGI requests &quot;image&quot;. First, the application
      checks the <span class="command">%gStoredFilePriorityMap</span> hash
      in <span class="command">ItemView.cfg</span>. This hash says that
      if the CGI is requesting an &quot;image&quot; file, the first file format
      to look for, stored on disk, is &quot;jp2&quot;. If there is a JP2 file on
      disk, it will be used, then the <span class="command">Jp2ToJpgHandler</span> would
      be used, which in turn, would use the helper app <span class="command">kdu_expand_jpg</span> which
      is a wrapper script we provide to run <span class="command">kdu_expand_jpg</span> with
      the proper parameters. </p>
    <p>If there is no JP2 file on disk, the next file format to look for
      is &quot;sid&quot;; that is, MrSid. If there is a MrSid file on disk, then
      the <span class="command">SidToJpgHandler</span> would be used,
      which in turn, would use the helper app <span class="command">mr_sid_retrieve.</span></p>
    <p>If there is no MrSid file on disk, the next file format to look
      for is &quot;jpg&quot;. If there is a JPG file
      on disk, then the requested and stored file formats match. Whenever
      this is the case, <span class="command">DeliverFileHandler</span> is
      used, which simply copies the file from its storage location (<span class="command">$DLXSROOT/obj/... </span>to
      the cached image directory <span class="command">$DLXSROOT/web/cache/...</span>).</p>
    <p>Finally, if there is no JPG file available on disk, a TIF file
      is looked for. If there is a TIF file, available, then the <span class="command">TifTGifHandler</span> is
      called which in turn uses <span class="command">tif2web</span>.</p>
<a name="Scenario_2:__.22pdf.22__requested"></a><h3><span class="editsection">[<a href="http://localhost/mediawiki/index.php?title=Itemviewer_Image_Conversion&amp;action=edit&amp;section=6" title="Edit section: Scenario 2:  &amp;quot;pdf&amp;quot;  requested">edit</a>]</span> <span class="mw-headline">Scenario 2:  &quot;pdf&quot;  requested</span></h3>
    <p>Assume that the CGI requests &quot;pdf&quot;. First, the application
      checks the <span class="command">%gStoredFilePriorityMap</span> hash
      in <span class="command">ItemView.cfg</span>. This
      hash says that if the CGI is requesting a pdf file, the first
      file format to look for is a PDF containing the full contents of the item, stored on disk as a .pdf file whose filename is the full idno.</p>  
<p>If there is such a PDF file, then the <span class="command">DeliverFileHandler</span> method
      is called, which simply copies the file from its storage location
      (<span class="command">$DLXSROOT/obj/... </span>to
      the cached image directory <span class="command">$DLXSROOT/web/cache/...</span>).  It also passes a parameter so that Adobe Reader browser plugin can open the PDF to the page that was last viewed (note this feature is not supported by other PDF viewing applications).</p>
<p>If the full PDF is not available, the next format checked for (on disk, known via the <span class="command">Pageview</span> database
      table and therefore via the <span class="command">PageView</span> or <span class="command">ItemView
        object</span>), is a PDF for the current page.</p>
    <p>If there is such a PDF file, then the requested
      format matches the stored image format and <span class="command">DeliverFileHandler</span> is called as described above.</p>
    <p>If
      there is no PDF file stored, then the <span class="command">%gStoredFilePriorityMap</span> says
      to look for a TIF file. If there is one stored, then the <span class="command">Tif2PdfHandler</span> is
      called which in turn uses <span class="command">c42pdf</span>.</p>
<p><a href="#top" title="">Top</a>
</p>
<!-- 
NewPP limit report
Preprocessor node count: 63/1000000
Post-expand include size: 0/2097152 bytes
Template argument size: 0/2097152 bytes
Expensive parser function count: 0/100
-->

<!-- Saved in parser cache with key mediawiki_dlxsdocs_15:pcache:idhash:275-0!1!0!!en!2 and timestamp 20250202212140 -->
<div class="printfooter">
Retrieved from "<a href="Itemviewer_Image_Conversion.html">http://localhost/wiki/Itemviewer_Image_Conversion</a>"</div>
						<!-- end content -->
			<div class="visualClear"></div>
		</div>
	</div>
		</div>
		<div id="column-one">
	<div id="p-cactions" class="portlet">
		<h5>Views</h5>
		<div class="pBody">
			<ul>
	
				 <li id="ca-nstab-main" class="selected"><a href="Itemviewer_Image_Conversion.html" title="View the content page [c]" accesskey="c">Page</a></li>
				 <li id="ca-talk" class="new"><a href="http://localhost/mediawiki/index.php?title=Talk:Itemviewer_Image_Conversion&amp;action=edit" title="Discussion about the content page [t]" accesskey="t">Discussion</a></li>
				 <li id="ca-edit"><a href="http://localhost/mediawiki/index.php?title=Itemviewer_Image_Conversion&amp;action=edit" title="You can edit this page.&#10;Please use the preview button before saving. [e]" accesskey="e">Edit</a></li>
				 <li id="ca-history"><a href="http://localhost/mediawiki/index.php?title=Itemviewer_Image_Conversion&amp;action=history" title="Past versions of this page. [h]" accesskey="h">History</a></li>			</ul>
		</div>
	</div>
	<div class="portlet" id="p-personal">
		<h5>Personal tools</h5>
		<div class="pBody">
			<ul>
				<li id="pt-anonuserpage"><a href="User_172.20.0.html" title="The user page for the ip you&#039;re editing as [.]" accesskey="." class="new">172.20.0.1</a></li>
				<li id="pt-anontalk"><a href="User_talk_172.20.0.html" title="Discussion about edits from this ip address [n]" accesskey="n" class="new">Talk for this IP</a></li>
				<li id="pt-anonlogin"><a href="http://localhost/mediawiki/index.php?title=Special:UserLogin&amp;returnto=Itemviewer_Image_Conversion" title="You are encouraged to log in, it is not mandatory however. [o]" accesskey="o">Log in / create account</a></li>
			</ul>
		</div>
	</div>
	<div class="portlet" id="p-logo">
		<a style="background-image: url(../dlxs15/uploads/DLXS_logo2.gif);" href="Main_Page.html" title="Visit the Main Page [z]" accesskey="z"></a>
	</div>
	<script type="text/javascript"> if (window.isMSIE55) fixalpha(); </script>
	<div class='generated-sidebar portlet' id='p-navigation'>
		<h5>Navigation</h5>
		<div class='pBody'>
			<ul>
				<li id="n-mainpage-description"><a href="Main_Page.html">Main Page</a></li>
				<li id="n-portal"><a href="DLXS_Documentation_Community_Portal.html" title="About the project, what you can do, where to find things">Community portal</a></li>
				<li id="n-currentevents"><a href="DLXS_Documentation_Current_events.html" title="Find background information on current events">Current events</a></li>
				<li id="n-recentchanges"><a href="Special_RecentChanges.html" title="The list of recent changes in the wiki. [r]" accesskey="r">Recent changes</a></li>
				<li id="n-randompage"><a href="Mounting_a_Bib_Class_Collection.html" title="Load a random page [x]" accesskey="x">Random page</a></li>
				<li id="n-help"><a href="Help_Contents.html" title="The place to find out.">Help</a></li>
			</ul>
		</div>
	</div>
	<div id="p-search" class="portlet">
		<h5><label for="searchInput">Search</label></h5>
		<div id="searchBody" class="pBody">
			<form action="http://localhost/wiki/Special:Search" id="searchform"><div>
				<input id="searchInput" name="search" type="text" title="Search DLXS Documentation [f]" accesskey="f" value="" />
				<input type='submit' name="go" class="searchButton" id="searchGoButton"	value="Go" title="Go to a page with this exact name if exists" />&nbsp;
				<input type='submit' name="fulltext" class="searchButton" id="mw-searchButton" value="Search" title="Search the pages for this text" />
			</div></form>
		</div>
	</div>
	<div class="portlet" id="p-tb">
		<h5>Toolbox</h5>
		<div class="pBody">
			<ul>
				<li id="t-whatlinkshere"><a href="Special_WhatLinksHere/Itemviewer_Image_Conversion.html" title="List of all wiki pages that link here [j]" accesskey="j">What links here</a></li>
				<li id="t-recentchangeslinked"><a href="Special_RecentChangesLinked/Itemviewer_Image_Conversion.html" title="Recent changes in pages linked from this page [k]" accesskey="k">Related changes</a></li>
<li id="t-specialpages"><a href="Special_SpecialPages.html" title="List of all special pages [q]" accesskey="q">Special pages</a></li>
				<li id="t-print"><a href="http://localhost/mediawiki/index.php?title=Itemviewer_Image_Conversion&amp;printable=yes" title="Printable version of this page [p]" accesskey="p">Printable version</a></li>				<li id="t-permalink"><a href="http://localhost/mediawiki/index.php?title=Itemviewer_Image_Conversion&amp;oldid=2877" title="Permanent link to this version of the page">Permanent link</a></li>			</ul>
		</div>
	</div>
		</div><!-- end of the left (by default at least) column -->
			<div class="visualClear"></div>
			<div id="footer">
				<div id="f-poweredbyico"><a href="http://www.mediawiki.org/"><img src="../mediawiki/skins/common/images/poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" /></a></div>
			<ul id="f-list">
				<li id="lastmod"> This page was last modified on 11 March 2009, at 15:23.</li>
				<li id="viewcount">This page has been accessed 992 times.</li>
				<li id="privacy"><a href="DLXS_Documentation_Privacy_policy.html" title="DLXS Documentation:Privacy policy">Privacy policy</a></li>
				<li id="about"><a href="DLXS_Documentation_About.html" title="DLXS Documentation:About">About DLXS Documentation</a></li>
				<li id="disclaimer"><a href="DLXS_Documentation_General_disclaimer.html" title="DLXS Documentation:General disclaimer">Disclaimers</a></li>
			</ul>
		</div>
</div>

		<script type="text/javascript">if (window.runOnloadHook) runOnloadHook();</script>
<!-- Served in 0.119 secs. --></body>
<!-- Mirrored from localhost/wiki/Itemviewer_Image_Conversion by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 03 Feb 2025 00:41:10 GMT -->
</html>
